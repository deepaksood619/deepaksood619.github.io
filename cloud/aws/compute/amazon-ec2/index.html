<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cloud/aws/compute/amazon-ec2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Amazon EC2 | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/cloud/aws/compute/amazon-ec2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Amazon EC2 | Deep Notes"><meta data-rh="true" name="description" content="Virtual Servers in the Cloud"><meta data-rh="true" property="og:description" content="Virtual Servers in the Cloud"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/cloud/aws/compute/amazon-ec2"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/cloud/aws/compute/amazon-ec2" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/cloud/aws/compute/amazon-ec2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Cloud","item":"https://deepaksood619.github.io/cloud/"},{"@type":"ListItem","position":2,"name":"AWS","item":"https://deepaksood619.github.io/cloud/aws/"},{"@type":"ListItem","position":3,"name":"Compute","item":"https://deepaksood619.github.io/cloud/aws/compute/"},{"@type":"ListItem","position":4,"name":"Amazon EC2","item":"https://deepaksood619.github.io/cloud/aws/compute/amazon-ec2"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(53, 120, 229)">


<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.9f55d0bd.css">
<script src="/assets/js/runtime~main.7b3a7cc3.js" defer="defer"></script>
<script src="/assets/js/main.c96be3a1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/deepaksood619" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.linkedin.com/in/deepaksood619/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/about-deepak-sood/">About Deepak Sood</a><button aria-label="Expand sidebar category &#x27;About Deepak Sood&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/cloud/">Cloud</a><button aria-label="Collapse sidebar category &#x27;Cloud&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/cloud/aws/">AWS</a><button aria-label="Collapse sidebar category &#x27;AWS&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/cloud/aws/ai/">AWS AI Services</a><button aria-label="Expand sidebar category &#x27;AWS AI Services&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/amazon-interview-prep-guide">Amazon Interview Prep Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/cloud/aws/analytics/">Analytics</a><button aria-label="Expand sidebar category &#x27;Analytics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/aws-services-list">AWS Services List</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/aws-services">AWS Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/cli-commands">CLI Commands</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/cloud/aws/compute/">Compute</a><button aria-label="Collapse sidebar category &#x27;Compute&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/compute/amazon-ec2-asg">Amazon EC2 Auto Scaling Group (ASG)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/compute/amazon-ec2-instance-types">Amazon EC2 Instance types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cloud/aws/compute/amazon-ec2">Amazon EC2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/compute/amazon-ecs">Amazon ECS (Elastic Container Service)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/compute/amazon-eks">Amazon EKS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/compute/aws-database-migration-service-dms">AWS Database Migration Service (DMS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/compute/aws-lambda">AWS Lambda</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/compute/burstable-instances">Burstable Instances</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/course-architecting-on-aws">Architecting on AWS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cloud/aws/developer-tools/code-build">developer-tools</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/aws/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cloud/aws/networking-content-delivery/amazon-cloudfront">networking-content-delivery</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/cloud/aws/others/">Others</a><button aria-label="Expand sidebar category &#x27;Others&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cloud/aws/security-identity-compliance/compliance-mcqs">security-identity-compliance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/cloud/aws/storage/">Storage</a><button aria-label="Expand sidebar category &#x27;Storage&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/cloud/azure/">Azure</a><button aria-label="Expand sidebar category &#x27;Azure&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/cloud/firebase/">Firebase</a><button aria-label="Expand sidebar category &#x27;Firebase&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/cloud/gcp/">GCP</a><button aria-label="Expand sidebar category &#x27;GCP&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/cloud/others/">Other Clouds</a><button aria-label="Expand sidebar category &#x27;Other Clouds&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/tools">Tools</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/computer-science/">Computer Science</a><button aria-label="Expand sidebar category &#x27;Computer Science&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-warehouses/">Data Warehouses</a><button aria-label="Expand sidebar category &#x27;Data Warehouses&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases/">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases-nosql/">NoSQL Databases</a><button aria-label="Expand sidebar category &#x27;NoSQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases-sql/">SQL Databases</a><button aria-label="Expand sidebar category &#x27;SQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/devops/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/education/">Education</a><button aria-label="Expand sidebar category &#x27;Education&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deepak&#x27;s Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/cloud/"><span>Cloud</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/cloud/aws/"><span>AWS</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/cloud/aws/compute/"><span>Compute</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Amazon EC2</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Amazon EC2</h1></header>
<p>Virtual Servers in the Cloud</p>
<ul>
<li><a href="/cloud/aws/compute/amazon-ec2-instance-types">amazon-ec2-instance-types</a></li>
<li><a href="/cloud/aws/compute/amazon-ec2-asg">amazon-ec2-asg</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-docker-in-ubuntu-ec2-instance">installing docker in ubuntu ec2 instance<a href="#installing-docker-in-ubuntu-ec2-instance" class="hash-link" aria-label="Direct link to installing docker in ubuntu ec2 instance" title="Direct link to installing docker in ubuntu ec2 instance">​</a></h3>
<p><a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">Ubuntu | Docker Docs</a></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Add Docker&#x27;s official GPG key:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install ca-certificates curl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo install -m 0755 -d /etc/apt/keyrings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo chmod a+r /etc/apt/keyrings/docker.asc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Add the repository to Apt sources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $(. /etc/os-release &amp;&amp; echo &quot;${UBUNTU_CODENAME:-$VERSION_CODENAME}&quot;) stable&quot; | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># installation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get upgrade -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo usermod -aG docker ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># log out of terminal and log back in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl start docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run hello-world</span><br></span></code></pre></div></div>
<p><a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">Ubuntu | Docker Docs</a></p>
<p><a href="/cloud/aws/compute/amazon-ec2-instance-types">AWS EC2 Instance Types</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-docker-in-amazon-linux-ec2-instance">installing docker in amazon-linux ec2 instance<a href="#installing-docker-in-amazon-linux-ec2-instance" class="hash-link" aria-label="Direct link to installing docker in amazon-linux ec2 instance" title="Direct link to installing docker in amazon-linux ec2 instance">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. Update your system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum update -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. Install Docker (Amazon Linux 2 uses yum, not apt)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum install docker -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. Start the Docker service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo service docker start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 4. Add the ec2-user to the docker group (so you can run Docker without sudo)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo usermod -aG docker ec2-user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 5. Log out and log back in (or run the next command for current session)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">newgrp docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 6. Test Docker installation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run hello-world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># install git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum install -y git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># install docker-compose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum install -y python3-pip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo pip3 install docker-compose --ignore-installed requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose --version</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-code-to-ec2">Deploy code to EC2<a href="#deploy-code-to-ec2" class="hash-link" aria-label="Direct link to Deploy code to EC2" title="Direct link to Deploy code to EC2">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x /home/ubuntu/deploy.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/5 * * * * /home/ubuntu/deploy.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/5 * * * * /home/ubuntu/deploy.sh &gt;&gt; /var/log/deploy.log 2&gt;&amp;1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo touch /var/log/deploy.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo chmod +777 /var/log/deploy.log</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">deploy.sh</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set the path to your Git repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GIT_PATH=&quot;/home/ubuntu/repo&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Change to the Git repository directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd $GIT_PATH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NEW_COMMITS=$(git rev-list HEAD..origin/main)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check if there are any changes in the repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if [ -n &quot;$NEW_COMMITS&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # If there are changes, run the docker-compose command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  git reset --hard origin/main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sudo docker compose -f docker-compose.prod.yaml up -d --no-deps --build web worker metabase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # docker clean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sudo docker rm $(sudo docker ps -a -f status=exited -q); sudo docker volume rm $(sudo docker volume ls -f dangling=true -q); sudo docker images -qf dangling=true | xargs sudo docker rmi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # If there are no changes, do nothing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  echo &quot;$(date &#x27;+%Y-%m-%d %H:%M:%S&#x27;) - No changes in Git repository.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span></code></pre></div></div>
<p><code>chmod +x /home/ubuntu/deploy.sh</code></p>
<p><strong>Advanced Deployment</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">deploy.sh</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># List of project directories and their corresponding branches</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">declare -A projects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">projects[&quot;/home/ubuntu/repoA&quot;]=&quot;main&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">projects[&quot;/home/ubuntu/repoB&quot;]=&quot;master&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Loop through each project and branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for GIT_PATH in &quot;${!projects[@]}&quot;; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BRANCH=&quot;${projects[$GIT_PATH]}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  echo &quot;Checking for updates in $GIT_PATH on branch $BRANCH&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cd &quot;$GIT_PATH&quot; || continue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Fetch the latest branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  git fetch origin &quot;$BRANCH&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Get new commits compared to origin/branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NEW_COMMITS=$(git rev-list HEAD..origin/&quot;$BRANCH&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if [ -n &quot;$NEW_COMMITS&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;New updates found on $BRANCH branch. Pulling and rebuilding...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    git reset --hard origin/&quot;$BRANCH&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    docker compose build --no-cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    docker compose down --volumes --remove-orphans</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Rebuild and restart containers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sudo docker compose -f docker-compose.yml up -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Clean up unused docker resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Cleaning up unused Docker resources...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sudo docker rm $(sudo docker ps -a -f status=exited -q) 2&gt;/dev/null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sudo docker volume rm $(sudo docker volume ls -f dangling=true -q) 2&gt;/dev/null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sudo docker images -qf dangling=true | xargs -r sudo docker rmi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;$(date &#x27;+%Y-%m-%d %H:%M:%S&#x27;) - No changes in $GIT_PATH ($BRANCH branch)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="increase-volume-size">Increase volume size<a href="#increase-volume-size" class="hash-link" aria-label="Direct link to Increase volume size" title="Direct link to Increase volume size">​</a></h2>
<p><strong>Windows</strong> - <a href="https://docs.aws.amazon.com/ebs/latest/userguide/recognize-expanded-volume-linux.html" target="_blank" rel="noopener noreferrer">Extend the file system after resizing an Amazon EBS volume - Amazon EBS</a></p>
<p><strong>t2 instances resize</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">df -hT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem      Size  Used Avail Use% Mounted on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/root       6.8G  5.5G  1.3G  82% /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs           2.0G     0  2.0G   0% /dev/shm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs           783M  1.3M  782M   1% /run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs           5.0M     0  5.0M   0% /run/lock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/xvda16     881M  148M  672M  18% /boot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/xvda15     105M  6.2M   99M   6% /boot/efi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs           392M   12K  392M   1% /run/user/1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo lsblk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME     MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">loop0      7:0    0 27.2M  1 loop /snap/amazon-ssm-agent/11320</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">loop2      7:2    0 73.9M  1 loop /snap/core22/2010</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">loop3      7:3    0 49.3M  1 loop /snap/snapd/24792</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">loop4      7:4    0 50.9M  1 loop /snap/snapd/24718</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">loop5      7:5    0 73.9M  1 loop /snap/core22/2045</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xvda     202:0    0   30G  0 disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─xvda1  202:1    0    7G  0 part /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─xvda14 202:14   0    4M  0 part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─xvda15 202:15   0  106M  0 part /boot/efi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─xvda16 259:0    0  913M  0 part /boot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo growpart /dev/xvda 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CHANGED: partition=1 start=2099200 old: size=14677983 end=16777182 new: size=60815327 end=62914526</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df -hT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo resize2fs /dev/xvda1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resize2fs 1.47.0 (5-Feb-2023)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem at /dev/xvda1 is mounted on /; on-line resizing required</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">old_desc_blocks = 1, new_desc_blocks = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The filesystem on /dev/xvda1 is now 7601915 (4k) blocks long.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df -hT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem     Type   Size  Used Avail Use% Mounted on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/root      ext4    29G  5.5G   23G  20% /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs          tmpfs  2.0G     0  2.0G   0% /dev/shm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs          tmpfs  783M  1.3M  782M   1% /run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs          tmpfs  5.0M     0  5.0M   0% /run/lock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/xvda16    ext4   881M  148M  672M  18% /boot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/xvda15    vfat   105M  6.2M   99M   6% /boot/efi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs          tmpfs  392M   12K  392M   1% /run/user/1000</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ec2--networking--elastic-ip-addresses">EC2 &gt; Networking &gt; Elastic IP Addresses<a href="#ec2--networking--elastic-ip-addresses" class="hash-link" aria-label="Direct link to EC2 &gt; Networking &gt; Elastic IP Addresses" title="Direct link to EC2 &gt; Networking &gt; Elastic IP Addresses">​</a></h2>
<p>An Elastic IP address is a static IPv4 address designed for dynamic cloud computing. An Elastic IP address is associated with your AWS account. With an Elastic IP address, you can mask the failure of an instance or software by rapidly remapping the address to another instance in your account.</p>
<p>An Elastic IP address is a public IPv4 address, which is reachable from the internet. If your instance does not have a public IPv4 address, you can associate an Elastic IP address with your instance to enable communication with the internet; for example, to connect to your instance from your local computer.</p>
<ul>
<li>Limited to five Elastic IP addresses per account</li>
</ul>
<p><a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-eips.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/vpc/latest/userguide/vpc-eips.html</a></p>
<p><a href="https://aws.amazon.com/about-aws/whats-new/2024/04/removing-adding-auto-assigned-public-ipv4-address/" target="_blank" rel="noopener noreferrer">AWS supports dynamically removing and adding auto assigned public IPv4 address</a></p>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="elastic-ip-address-pricing">Elastic IP address pricing<a href="#elastic-ip-address-pricing" class="hash-link" aria-label="Direct link to Elastic IP address pricing" title="Direct link to Elastic IP address pricing">​</a></h3>
<p>There is a charge for all Elastic IP addresses whether they are in use (allocated to a resource, like an EC2 instance) or idle (created in your account but unallocated).</p>
<p>AWS charges for all public IPv4 addresses, including public IPv4 addresses associated with running instances and Elastic IP addresses. For more information, see the <strong>Public IPv4 Address</strong> tab on the <a href="https://aws.amazon.com/vpc/pricing/" target="_blank" rel="noopener noreferrer">Amazon VPC pricing page</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="elastic-ip-address-basics">Elastic IP address basics<a href="#elastic-ip-address-basics" class="hash-link" aria-label="Direct link to Elastic IP address basics" title="Direct link to Elastic IP address basics">​</a></h3>
<p>The following are the basic characteristics of an Elastic IP address:</p>
<ul>
<li>
<p>An Elastic IP address is static; it does not change over time.</p>
</li>
<li>
<p>An Elastic IP address is for use in a specific Region only, and cannot be moved to a different Region.</p>
</li>
<li>
<p>An Elastic IP address comes from Amazon&#x27;s pool of IPv4 addresses, or from a custom IPv4 address pool that you have brought to your AWS account. We do not support Elastic IP addresses for IPv6.</p>
</li>
<li>
<p>To use an Elastic IP address, you first allocate one to your account, and then associate it with your instance or a network interface.</p>
</li>
<li>
<p>When you associate an Elastic IP address with an instance, it is also associated with the instance&#x27;s primary network interface. When you associate an Elastic IP address with a network interface that is attached to an instance, it is also associated with the instance.</p>
</li>
<li>
<p>When you associate an Elastic IP address with an instance or its primary network interface, if the instance already has a public IPv4 address associated with it, that public IPv4 address is released back into Amazon&#x27;s pool of public IPv4 addresses and the Elastic IP address is associated with the instance instead. You cannot reuse the public IPv4 address previously associated with the instance and you cannot convert that public IPv4 address to an Elastic IP address. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html#concepts-public-addresses" target="_blank" rel="noopener noreferrer">Public IPv4 addresses</a>.</p>
</li>
<li>
<p>You can disassociate an Elastic IP address from a resource, and then associate it with a different resource. To avoid unexpected behavior, ensure that all active connections to the resource named in the existing association are closed before you make the change. After you have associated your Elastic IP address to a different resource, you can reopen your connections to the newly associated resource.</p>
</li>
<li>
<p>A disassociated Elastic IP address remains allocated to your account until you explicitly release it. You are charged for all Elastic IP addresses in your account, regardless of whether they are associated or disassociated with an instance. For more information, see the <strong>Public IPv4 Address</strong> tab on the <a href="https://aws.amazon.com/vpc/pricing/" target="_blank" rel="noopener noreferrer">Amazon VPC pricing</a> page.</p>
</li>
<li>
<p>When you associate an Elastic IP address with an instance that previously had a public IPv4 address, the public DNS host name of the instance changes to match the Elastic IP address.</p>
</li>
<li>
<p>We resolve a public DNS host name to the public IPv4 address or the Elastic IP address of the instance outside the network of the instance, and to the private IPv4 address of the instance from within the network of the instance.</p>
</li>
<li>
<p>When you allocate an Elastic IP address from an IP address pool that you have brought to your AWS account, it does not count toward your Elastic IP address limits. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-limit" target="_blank" rel="noopener noreferrer">Elastic IP address quota</a>.</p>
</li>
<li>
<p>When you allocate the Elastic IP addresses, you can associate the Elastic IP addresses with a network border group. This is the location from which we advertise the CIDR block. Setting the network border group limits the CIDR block to this group. If you do not specify the network border group, we set the border group containing all of the Availability Zones in the Region (for example, <code>us-west-2</code>).</p>
</li>
<li>
<p>An Elastic IP address is for use in a specific network border group only.</p>
</li>
</ul>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html" target="_blank" rel="noopener noreferrer">Elastic IP addresses - Amazon Elastic Compute Cloud</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-migrate-from-ipv4-to-ipv6">Changes (Migrate from ipv4 to ipv6)<a href="#changes-migrate-from-ipv4-to-ipv6" class="hash-link" aria-label="Direct link to Changes (Migrate from ipv4 to ipv6)" title="Direct link to Changes (Migrate from ipv4 to ipv6)">​</a></h3>
<p>Effective February 1, 2024 there will be a charge of $0.005 per IP per hour for all public IPv4 addresses, whether attached to a service or not (there is already a charge for public IPv4 addresses you allocate in your account but don’t attach to an EC2 instance).</p>
<p>This will cost around $4 month per IP per month</p>
<p><a href="https://aws.amazon.com/blogs/aws/new-aws-public-ipv4-address-charge-public-ip-insights/" target="_blank" rel="noopener noreferrer">New - AWS Public IPv4 Address Charge + Public IP Insights | AWS News Blog</a></p>
<p><a href="https://aws.amazon.com/blogs/networking-and-content-delivery/identify-and-optimize-public-ipv4-address-usage-on-aws/" target="_blank" rel="noopener noreferrer">Identify and optimize public IPv4 address usage on AWS | Networking &amp; Content Delivery</a></p>
<p><a href="https://aws.amazon.com/vpc/ipv6/" target="_blank" rel="noopener noreferrer">Amazon IPv6</a></p>
<p><a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-migrate-ipv6.html" target="_blank" rel="noopener noreferrer">Migrate your VPC from IPv4 to IPv6 - Amazon Virtual Private Cloud</a></p>
<table><thead><tr><th>Step</th><th>Notes</th></tr></thead><tbody><tr><td><a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-migrate-ipv6.html#vpc-migrate-ipv6-cidr" target="_blank" rel="noopener noreferrer">Step 1: Associate an IPv6 CIDR block with your VPC and subnets</a></td><td>Associate an Amazon-provided or BYOIP IPv6 CIDR block with your VPC and with your subnets.</td></tr><tr><td><a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-migrate-ipv6.html#vpc-migrate-ipv6-routes" target="_blank" rel="noopener noreferrer">Step 2: Update your route tables</a></td><td>Update your route tables to route your IPv6 traffic. For a public subnet, create a route that routes all IPv6 traffic from the subnet to the internet gateway. For a private subnet, create a route that routes all internet-bound IPv6 traffic from the subnet to an egress-only internet gateway.</td></tr><tr><td><a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-migrate-ipv6.html#vpc-migrate-ipv6-sg-rules" target="_blank" rel="noopener noreferrer">Step 3: Update your security group rules</a></td><td>Update your security group rules to include rules for IPv6 addresses. This enables IPv6 traffic to flow to and from your instances. If you&#x27;ve created custom network ACL rules to control the flow of traffic to and from your subnet, you must include rules for IPv6 traffic.</td></tr><tr><td><a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-migrate-ipv6.html#vpc-migrate-assign-ipv6-address" target="_blank" rel="noopener noreferrer">Step 4: Assign IPv6 addresses to your instances</a></td><td>Assign IPv6 addresses to your instances from the IPv6 address range of your subnet.</td></tr></tbody></table>
<p><a href="https://aws.plainenglish.io/is-the-public-cloud-ready-for-ipv6-ec450974fe38" target="_blank" rel="noopener noreferrer">Is the Public Cloud Ready for IPv6? | by Eyal Estrin ☁️ | AWS in Plain English</a></p>
<p><a href="https://supabase.com/blog/ipv6" target="_blank" rel="noopener noreferrer">Brace yourself, IPv6 is coming</a></p>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html" target="_blank" rel="noopener noreferrer">Amazon EC2 instance IP addressing - Amazon Elastic Compute Cloud</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ec2--networking--eni">EC2 &gt; Networking &gt; ENI<a href="#ec2--networking--eni" class="hash-link" aria-label="Direct link to EC2 &gt; Networking &gt; ENI" title="Direct link to EC2 &gt; Networking &gt; ENI">​</a></h2>
<p>An elastic network interface (referred to as a <em>network interface</em> in this documentation) is a logical networking component in a VPC that represents a virtual network card.</p>
<p>An Elastic Network Interface (ENI) is a logical networking component in a VPC that represents a virtual network card. You can create a network interface, attach it to an instance, detach it from an instance, and attach it to another instance. The ENI is the simplest networking component available on AWS and is insufficient for HPC workflows.</p>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="elastic-network-adapter-ena">Elastic Network Adapter (ENA)<a href="#elastic-network-adapter-ena" class="hash-link" aria-label="Direct link to Elastic Network Adapter (ENA)" title="Direct link to Elastic Network Adapter (ENA)">​</a></h3>
<p>Elastic Network Adapter (ENA) devices support enhanced networking via single root I/O virtualization (SR-IOV) to provide high-performance networking capabilities. Although enhanced networking provides higher bandwidth, higher packet per second (PPS) performance, and consistently lower inter-instance latencies, still EFA (Elastic Fabric Adapter) is a better fit for the given use-case because the EFA device provides all the functionality of an ENA device, plus hardware support for applications to communicate directly with the EFA device without involving the instance kernel (OS-bypass communication) using an extended programming interface.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ec2-launch-templates">EC2 Launch Templates<a href="#ec2-launch-templates" class="hash-link" aria-label="Direct link to EC2 Launch Templates" title="Direct link to EC2 Launch Templates">​</a></h2>
<p>A launch template specifies instance configuration information. It includes the ID of the Amazon Machine Image (AMI), the instance type, a key pair, security groups, and other parameters used to launch EC2 instances. If you&#x27;ve launched an EC2 instance before, you specified the same information to launch the instance.</p>
<p>When you create a Launch Template, the default value for the instance tenancy is shared and the instance tenancy is controlled by the tenancy attribute of the VPC. If you set the Launch Template Tenancy to shared (default) and the VPC Tenancy is set to dedicated, then the instances have dedicated tenancy. If you set the Launch Template Tenancy to dedicated and the VPC Tenancy is set to default, then again the instances have dedicated tenancy.</p>
<p>A launch template is similar to a launch configuration, in that it specifies instance configuration information such as the ID of the Amazon Machine Image (AMI), the instance type, a key pair, security groups, and the other parameters that you use to launch EC2 instances. Also, defining a launch template instead of a launch configuration allows you to have multiple versions of a template.</p>
<p>With launch templates, you can provision capacity across multiple instance types using both On-Demand Instances and Spot Instances to achieve the desired scale, performance, and cost.</p>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/create-launch-template.html" target="_blank" rel="noopener noreferrer">Create an Amazon EC2 launch template - Amazon Elastic Compute Cloud</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="launch-configuration">Launch Configuration<a href="#launch-configuration" class="hash-link" aria-label="Direct link to Launch Configuration" title="Direct link to Launch Configuration">​</a></h3>
<p>A launch configuration is an instance configuration template that an Auto Scaling group uses to launch EC2 instances. When you create a launch configuration, you specify information for the instances such as the ID of the Amazon Machine Image (AMI), the instance type, a key pair, one or more security groups, and a block device mapping.</p>
<p>You cannot use a launch configuration to provision capacity across multiple instance types using both On-Demand Instances and Spot Instances.</p>
<p>It is not possible to modify a launch configuration once it is created in ASG.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="placement-groups-for-your-amazon-ec2-instances">Placement groups for your Amazon EC2 instances<a href="#placement-groups-for-your-amazon-ec2-instances" class="hash-link" aria-label="Direct link to Placement groups for your Amazon EC2 instances" title="Direct link to Placement groups for your Amazon EC2 instances">​</a></h2>
<p>To meet the needs of your workload, you can launch a group of <em>interdependent</em> EC2 instances into a <em>placement group</em> to influence their placement.</p>
<p>Depending on the type of workload, you can create a placement group using one of the following placement strategies:</p>
<ul>
<li><strong>Cluster</strong> – Packs instances close together inside an Availability Zone. This strategy enables workloads to achieve the low-latency network performance necessary for tightly-coupled node-to-node communication that is typical of high-performance computing (HPC) applications.</li>
<li><strong>Partition</strong> – Spreads your instances across logical partitions such that groups of instances in one partition do not share the underlying hardware with groups of instances in different partitions. This strategy is typically used by large distributed and replicated workloads, such as Hadoop, Cassandra, and Kafka.</li>
<li><strong>Spread</strong> – Strictly places a small group of instances across distinct underlying hardware to reduce correlated failures.</li>
</ul>
<p>Placement groups are optional. If you don&#x27;t launch your instances into a placement group, EC2 tries to place the instances in such a way that all of your instances are spread out across the underlying hardware to minimize correlated failures.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pricing">Pricing<a href="#pricing" class="hash-link" aria-label="Direct link to Pricing" title="Direct link to Pricing">​</a></h3>
<p>There is no charge for creating a placement group.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rules-and-limitations">Rules and limitations<a href="#rules-and-limitations" class="hash-link" aria-label="Direct link to Rules and limitations" title="Direct link to Rules and limitations">​</a></h3>
<p>Before you use placement groups, be aware of the following rules:</p>
<ul>
<li>An instance can be placed in one placement group at a time; you can&#x27;t place an instance in multiple placement groups.</li>
<li>You can&#x27;t merge placement groups.</li>
<li><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-capacity-reservations.html#capacity-reservations-limits" target="_blank" rel="noopener noreferrer">On-Demand Capacity Reservations</a> and <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/reserved-instances-scope.html" target="_blank" rel="noopener noreferrer">zonal Reserved Instances</a> allow you to reserve capacity for EC2 instances in Availability Zones. When you launch an instance, if the instance attributes match those specified by an On-Demand Capacity Reservation or a zonal Reserved Instance, then the reserved capacity is automatically used by the instance. This is also true if you launch the instance into a placement group.</li>
<li>You can&#x27;t launch Dedicated Hosts in placement groups.</li>
<li>You can&#x27;t launch a Spot Instance that is configured to stop or hibernate on interruption in a placement group.</li>
</ul>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/placement-groups.html" target="_blank" rel="noopener noreferrer">Placement groups for your Amazon EC2 instances - Amazon Elastic Compute Cloud</a></p>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/placement-strategies.html" target="_blank" rel="noopener noreferrer">Placement strategies for your placement groups - Amazon Elastic Compute Cloud</a></p>
<p><a href="https://medium.com/@dbrandonbawe/choosing-the-right-ec2-placement-group-type-for-your-workloads-3d93b6d83fc8" target="_blank" rel="noopener noreferrer">Choosing the Right EC2 Placement Group Type for Your Workloads | by Brandon Damue | Medium</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ec2-instance-metadata-and-user-data">EC2 instance metadata and user data<a href="#ec2-instance-metadata-and-user-data" class="hash-link" aria-label="Direct link to EC2 instance metadata and user data" title="Direct link to EC2 instance metadata and user data">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="instance-metadata">Instance Metadata<a href="#instance-metadata" class="hash-link" aria-label="Direct link to Instance Metadata" title="Direct link to Instance Metadata">​</a></h3>
<p><strong>Instance metadata is data about your instance that you can use to configure or manage the running instance.</strong> Instance metadata is divided into <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-categories.html" target="_blank" rel="noopener noreferrer">categories</a>, for example, host name, events, and security groups.</p>
<p>EC2 instance metadata is a service accessible from within EC2 instances, which allows querying or managing data about a given running instance.</p>
<p>It is possible to retrieve an instance’s IAM access key by accessing the <code>iam/security-credentials/role-name</code> metadata category. This returns a temporary set of credentials that the EC2 instance automatically uses for communicating with AWS services.</p>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html" target="_blank" rel="noopener noreferrer">Instance metadata and user data - Amazon Elastic Compute Cloud</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-data">User Data<a href="#user-data" class="hash-link" aria-label="Direct link to User Data" title="Direct link to User Data">​</a></h3>
<p>User Data is generally used to perform common automated configuration tasks and even run scripts after the instance starts. When you launch an instance in Amazon EC2, you can pass two types of user data - <strong>shell scripts and cloud-init directives</strong>. You can also pass this data into the launch wizard as plain text or as a file.</p>
<p><strong>Scripts entered as user data are executed as the root user</strong>, hence do not need the sudo command in the script. Any files you create will be owned by root; if you need non-root users to have file access, you should modify the permissions accordingly in the script.</p>
<p>By default, user data scripts and cloud-init directives run only <strong>during the boot cycle when you first launch an instance</strong>. You can update your configuration to ensure that your user data scripts and cloud-init directives run every time you restart your instance.</p>
<p><strong>Question -</strong> A systems administration team has a requirement to run certain custom scripts only once during the launch of the Amazon Elastic Compute Cloud (Amazon EC2) instances that host their application.</p>
<p><strong>Answer -</strong> Run the custom scripts as user data scripts on the Amazon EC2 instances</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-machine-images-ami--amis">Amazon Machine Images (AMI / AMIs)<a href="#amazon-machine-images-ami--amis" class="hash-link" aria-label="Direct link to Amazon Machine Images (AMI / AMIs)" title="Direct link to Amazon Machine Images (AMI / AMIs)">​</a></h2>
<p>It is used as a provisioning system, to provision a new instance with an image of the instance.</p>
<p>An Amazon Machine Image (AMI) provides the information required to launch an instance, which is a virtual server in the cloud. You must specify a source AMI when you launch an instance. You can launch multiple instances from a single AMI when you need multiple instances with the same configuration. You can use different AMIs to launch instances when you need instances with different configurations.</p>
<p>An AMI includes the following:</p>
<ul>
<li>A template for the root volume for the instance (for example, an operating system, an application server, and applications)</li>
<li>Launch permissions that control which AWS accounts can use the AMI to launch instances</li>
<li>A block device mapping that specifies the volumes to attach to the instance when it&#x27;s launched</li>
</ul>
<p><strong>AMIs (Amazon Machine Images) are region-specific;</strong> an AMI that exists in one AWS region cannot be used directly in another region, and each region has a unique AMI ID for similar images. However, users can copy AMIs across regions to make them available for global deployment.</p>
<p>Launch permissions that control which AWS accounts can use the AMI to launch instances.</p>
<p>A block device mapping that specifies the volumes to attach to the instance when it&#x27;s launched.</p>
<p>You can copy an AMI within or across AWS Regions using the AWS Management Console, the AWS Command Line Interface or SDKs, or the Amazon EC2 API, all of which support the CopyImage action. You can copy both Amazon EBS-backed AMIs and instance-store-backed AMIs. You can copy AMIs with encrypted snapshots and also change encryption status during the copy process.</p>
<p>You can share an AMI with another AWS account. To copy an AMI that was shared with you from another account, the owner of the source AMI must grant you read permissions for the storage that backs the AMI, either the associated Amazon EBS snapshot (for an Amazon EBS-backed AMI) or an associated S3 bucket (for an instance store-backed AMI).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="standard-amis">Standard AMIs<a href="#standard-amis" class="hash-link" aria-label="Direct link to Standard AMIs" title="Direct link to Standard AMIs">​</a></h3>
<ul>
<li>Ubuntu 16.04 LTS AMI - ami-2757f631</li>
<li>Ubuntu 16.10 AMI - ami-b374d5a5</li>
<li>Ubuntu Server 18.04 LTS (HVM), SSD Volume Type- ami-0620d12a9cf777c87 (64-bit x86) / ami-06b0afcb36d2e27ef (64-bit Arm)</li>
<li>Ubuntu Server 16.04 LTS (HVM), SSD Volume Type- ami-0c28d7c6dd94fb3a7 (64-bit x86) / ami-08f567e9a6f67fbee (64-bit Arm)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="recovery">Recovery<a href="#recovery" class="hash-link" aria-label="Direct link to Recovery" title="Direct link to Recovery">​</a></h2>
<p>If your instance fails a system status check, you can use Amazon CloudWatch alarm actions to automatically recover it. The recover option is available for over 90% of deployed customer Amazon EC2 instances. The Amazon CloudWatch recovery option works only for system check failures, not for instance status check failures. Also, if you terminate your instance, then it can&#x27;t be recovered.</p>
<p>You can create an Amazon CloudWatch alarm that monitors an Amazon EC2 instance and automatically recovers the instance if it becomes impaired due to an underlying hardware failure or a problem that requires AWS involvement to repair. Terminated instances cannot be recovered. A recovered instance is identical to the original instance, including the instance ID, private IP addresses, Elastic IP addresses, and all instance metadata. If the impaired instance is in a placement group, the recovered instance runs in the placement group.</p>
<p>The automatic recovery process attempts to recover your instance for up to three separate failures per day. Your instance may subsequently be retired if automatic recovery fails and a hardware degradation is determined to be the root cause for the original system status check failure.</p>
<ul>
<li>A recovered instance is identical to the original instance, including the instance ID, private IP addresses, Elastic IP addresses, and all instance metadata</li>
<li>If your instance has a public IPv4 address, it retains the public IPv4 address after recovery.</li>
<li>If the impaired instance is in a placement group, the recovered instance runs in the same placement group.</li>
<li>Terminated instances cannot be recovered</li>
<li>During instance recovery, the instance is migrated during an instance reboot, and any data that is in-memory is lost.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-to-ec2-instance">Connecting to EC2 instance<a href="#connecting-to-ec2-instance" class="hash-link" aria-label="Direct link to Connecting to EC2 instance" title="Direct link to Connecting to EC2 instance">​</a></h2>
<table><thead><tr><th>Connection option</th><th>Instance operating system</th><th>Inbound traffic rule</th><th>IAM permissions</th><th>Instance profile role</th><th>Software on instance</th><th>Software on connecting system</th><th>Key pair</th></tr></thead><tbody><tr><td>SSH client</td><td>Linux</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>Yes</td><td>Yes</td></tr><tr><td><strong>EC2 Instance Connect</strong></td><td>Linux</td><td>Yes</td><td>Yes</td><td>No</td><td>Yes ¹</td><td>No</td><td>No</td></tr><tr><td>PuTTY</td><td>Linux</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>Yes</td><td>Yes</td></tr><tr><td>RDP client</td><td>Windows</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>Yes</td><td>Yes ²</td></tr><tr><td>Fleet Manager</td><td>Windows</td><td>No</td><td>Yes</td><td>Yes</td><td>Yes ¹</td><td>No</td><td>Yes</td></tr><tr><td><strong>Session Manager</strong></td><td>Linux, Windows</td><td>No</td><td>Yes</td><td>Yes</td><td>Yes ¹</td><td>No</td><td>No</td></tr><tr><td>EC2 Instance Connect Endpoint</td><td>Linux, Windows</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No ³</td></tr></tbody></table>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/connect.html" target="_blank" rel="noopener noreferrer">Connect to your EC2 instance - Amazon Elastic Compute Cloud</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-ec2-instance-connect">Amazon EC2 Instance Connect<a href="#amazon-ec2-instance-connect" class="hash-link" aria-label="Direct link to Amazon EC2 Instance Connect" title="Direct link to Amazon EC2 Instance Connect">​</a></h3>
<p>Amazon EC2 Instance Connect provides a secure way to connect to your Linux instances over Secure Shell (SSH). With EC2 Instance Connect, you use AWS Identity and Access Management (IAM) policies and principals to control SSH access to your instances, removing the need to share and manage SSH keys. All connection requests using EC2 Instance Connect are logged to AWS CloudTrail so that you can audit connection requests.</p>
<p>You can use EC2 Instance Connect to connect to your instances using the Amazon EC2 console or the SSH client of your choice.</p>
<p>When you connect to an instance using EC2 Instance Connect, the EC2 Instance Connect API pushes an SSH public key to the instance metadata where it remains for 60 seconds. An IAM policy attached to your user authorizes your user to push the public key to the instance metadata. The SSH daemon uses AuthorizedKeysCommand and AuthorizedKeysCommandUser, which are configured when EC2 Instance Connect is installed, to look up the public key from the instance metadata for authentication, and connects you to the instance.</p>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/connect-linux-inst-eic.html" target="_blank" rel="noopener noreferrer">Connect to your Linux instance using a public IP address and EC2 Instance Connect - Amazon Elastic Compute Cloud</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="session-manager">Session Manager<a href="#session-manager" class="hash-link" aria-label="Direct link to Session Manager" title="Direct link to Session Manager">​</a></h3>
<p>Session Manager is a fully-managed AWS Systems Manager capability for managing your Amazon EC2 instances through an interactive, one-click, browser-based shell, or through the AWS CLI. You can use Session Manager to start a session with an instance in your account. After the session is started, you can run interactive commands on the instance as you would for any other connection type.</p>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/connect-with-systems-manager-session-manager.html" target="_blank" rel="noopener noreferrer">Connect to your Amazon EC2 instance using Session Manager - Amazon Elastic Compute Cloud</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-ec2-instance-connect-vs-session-manager">Amazon EC2 Instance Connect vs Session Manager<a href="#amazon-ec2-instance-connect-vs-session-manager" class="hash-link" aria-label="Direct link to Amazon EC2 Instance Connect vs Session Manager" title="Direct link to Amazon EC2 Instance Connect vs Session Manager">​</a></h3>
<p>There many nuanced differences between these services but the basic idea is that EC2 Instance Connect allows for a convenient and secure native SSH connection using short-lived keys while Session Manager permits an SSH connection tunneled over a proxy connection.</p>
<p>The session manager agent establishes a reverse connection to the service so it is not necessary to, for example, open port 22 on the host. EC2 Instance Connect requires the host security group to permit ssh traffic inbound.</p>
<p>A few other things of note: EC2 Instance Connect supports only Linux EC2 hosts while Session Manager supports Windows and Linux hosts both EC2 Instances and On-prem.</p>
<p><a href="https://repost.aws/questions/QUnV4R9EoeSdW0GT3cKBUR7w/what-is-the-difference-between-ec2-instance-connect-and-session-manager-ssh-connections" target="_blank" rel="noopener noreferrer">What is the difference between EC2 Instance Connect and Session Manager SSH connections? | AWS re<!-- -->:Post</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/cloud/aws/compute/amazon-ec2.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-11-14T10:35:21.000Z" itemprop="dateModified">Nov 14, 2025</time></b> by <b>Deepak</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cloud/aws/compute/amazon-ec2-instance-types"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Amazon EC2 Instance types</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cloud/aws/compute/amazon-ecs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Amazon ECS (Elastic Container Service)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installing-docker-in-ubuntu-ec2-instance" class="table-of-contents__link toc-highlight">installing docker in ubuntu ec2 instance</a></li><li><a href="#installing-docker-in-amazon-linux-ec2-instance" class="table-of-contents__link toc-highlight">installing docker in amazon-linux ec2 instance</a></li><li><a href="#deploy-code-to-ec2" class="table-of-contents__link toc-highlight">Deploy code to EC2</a></li><li><a href="#increase-volume-size" class="table-of-contents__link toc-highlight">Increase volume size</a></li><li><a href="#ec2--networking--elastic-ip-addresses" class="table-of-contents__link toc-highlight">EC2 &gt; Networking &gt; Elastic IP Addresses</a><ul><li><a href="#elastic-ip-address-pricing" class="table-of-contents__link toc-highlight">Elastic IP address pricing</a></li><li><a href="#elastic-ip-address-basics" class="table-of-contents__link toc-highlight">Elastic IP address basics</a></li><li><a href="#changes-migrate-from-ipv4-to-ipv6" class="table-of-contents__link toc-highlight">Changes (Migrate from ipv4 to ipv6)</a></li></ul></li><li><a href="#ec2--networking--eni" class="table-of-contents__link toc-highlight">EC2 &gt; Networking &gt; ENI</a><ul><li><a href="#elastic-network-adapter-ena" class="table-of-contents__link toc-highlight">Elastic Network Adapter (ENA)</a></li></ul></li><li><a href="#ec2-launch-templates" class="table-of-contents__link toc-highlight">EC2 Launch Templates</a><ul><li><a href="#launch-configuration" class="table-of-contents__link toc-highlight">Launch Configuration</a></li></ul></li><li><a href="#placement-groups-for-your-amazon-ec2-instances" class="table-of-contents__link toc-highlight">Placement groups for your Amazon EC2 instances</a><ul><li><a href="#pricing" class="table-of-contents__link toc-highlight">Pricing</a></li><li><a href="#rules-and-limitations" class="table-of-contents__link toc-highlight">Rules and limitations</a></li></ul></li><li><a href="#ec2-instance-metadata-and-user-data" class="table-of-contents__link toc-highlight">EC2 instance metadata and user data</a><ul><li><a href="#instance-metadata" class="table-of-contents__link toc-highlight">Instance Metadata</a></li><li><a href="#user-data" class="table-of-contents__link toc-highlight">User Data</a></li></ul></li><li><a href="#amazon-machine-images-ami--amis" class="table-of-contents__link toc-highlight">Amazon Machine Images (AMI / AMIs)</a><ul><li><a href="#standard-amis" class="table-of-contents__link toc-highlight">Standard AMIs</a></li></ul></li><li><a href="#recovery" class="table-of-contents__link toc-highlight">Recovery</a></li><li><a href="#connecting-to-ec2-instance" class="table-of-contents__link toc-highlight">Connecting to EC2 instance</a><ul><li><a href="#amazon-ec2-instance-connect" class="table-of-contents__link toc-highlight">Amazon EC2 Instance Connect</a></li><li><a href="#session-manager" class="table-of-contents__link toc-highlight">Session Manager</a></li><li><a href="#amazon-ec2-instance-connect-vs-session-manager" class="table-of-contents__link toc-highlight">Amazon EC2 Instance Connect vs Session Manager</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>