<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ai/big-data/design-of-zookeeper" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Design of Zookeeper | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/ai/big-data/design-of-zookeeper"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Design of Zookeeper | Deep Notes"><meta data-rh="true" name="description" content="Zookeeper - Service for coordinating processes of distributed applications"><meta data-rh="true" property="og:description" content="Zookeeper - Service for coordinating processes of distributed applications"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/ai/big-data/design-of-zookeeper"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/ai/big-data/design-of-zookeeper" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/ai/big-data/design-of-zookeeper" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(47, 133, 85)">

<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.1aa998db.css">
<script src="/assets/js/runtime~main.bebfe801.js" defer="defer"></script>
<script src="/assets/js/main.9eb77980.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepaksood619/deepaksood619.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/about-me/">About Me</a><button aria-label="Expand sidebar category &#x27;About Me&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/ai/">AI</a><button aria-label="Collapse sidebar category &#x27;AI&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/ai/big-data/">Big Data</a><button aria-label="Collapse sidebar category &#x27;Big Data&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/characteristics">Characteristics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/data-masking">Data Masking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/data-preprocessing">Data Preprocessing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/data-quality"># Data Quality</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/data">Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/design-of-hbase">Design of HBase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/design-of-key-value-stores">Design of Key-Value Stores</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ai/big-data/design-of-zookeeper">Design of Zookeeper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/intro">Big Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/page-rank">Page Rank</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/parameter-servers">Parameter Servers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/processing-engine">Processing Engine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/tools">Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/big-data/types-of-data">Types of Data</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/computer-vision-cv/">Computer Vision</a><button aria-label="Expand sidebar category &#x27;Computer Vision&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/data-science/">Data Science</a><button aria-label="Expand sidebar category &#x27;Data Science&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/data-visualization/">Data Visualization</a><button aria-label="Expand sidebar category &#x27;Data Visualization&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/deep-learning/">Deep Learning</a><button aria-label="Expand sidebar category &#x27;Deep Learning&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/hackathons">Hackathons</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/libraries/">Libraries</a><button aria-label="Expand sidebar category &#x27;Libraries&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/llm/">ChatGPT / LLM</a><button aria-label="Expand sidebar category &#x27;ChatGPT / LLM&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/ml-algorithms/">ML Algorithms</a><button aria-label="Expand sidebar category &#x27;ML Algorithms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/ml-fundamentals/">ML Fundamentals</a><button aria-label="Expand sidebar category &#x27;ML Fundamentals&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/model-evaluation/">Model Evaluation</a><button aria-label="Expand sidebar category &#x27;Model Evaluation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/move-37/">Move37</a><button aria-label="Expand sidebar category &#x27;Move37&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/nlp/">NLP</a><button aria-label="Expand sidebar category &#x27;NLP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/numpy/">Numpy</a><button aria-label="Expand sidebar category &#x27;Numpy&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/others-resources-interview-learning-courses">Others / Resources / Interview / Learning / Courses</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/pandas/">Pandas</a><button aria-label="Expand sidebar category &#x27;Pandas&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ai/scikit-learn/">Scikit Learn / Scipy</a><button aria-label="Expand sidebar category &#x27;Scikit Learn / Scipy&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/social-media-analytics-solution">Social Media Analytics Solution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai/solutions">Solutions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/computer-science/">Computer Science</a><button aria-label="Expand sidebar category &#x27;Computer Science&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/databases/">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/devops/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deep Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ai/"><span itemprop="name">AI</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ai/big-data/"><span itemprop="name">Big Data</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Design of Zookeeper</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Design of Zookeeper</h1>
<p>Zookeeper - Service for coordinating processes of distributed applications</p>
<ul>
<li>Fundamentals</li>
<li>Design goals</li>
<li>Architecture</li>
<li>Applications</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="classic-distributed-system">Classic Distributed System<a href="#classic-distributed-system" class="hash-link" aria-label="Direct link to Classic Distributed System" title="Direct link to Classic Distributed System">​</a></h2>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image1-dbac48e419df76046a1d1f18fc93c225.jpg" width="986" height="612" class="img_ev3q"></p>
<ul>
<li>Most of the system like HDFS have one Master and couple of slave nodes and these slave nodes report to the master.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fault-tolerant-distributed-system">Fault Tolerant Distributed System<a href="#fault-tolerant-distributed-system" class="hash-link" aria-label="Direct link to Fault Tolerant Distributed System" title="Direct link to Fault Tolerant Distributed System">​</a></h2>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image2-57ae9d836920cc8745323b5bae36d929.jpg" width="1196" height="674" class="img_ev3q"></p>
<ul>
<li>Real distributed fault tolerant system have Coordination service, Master and backup master</li>
<li>If primary failed then backup works for it</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image3-76dcdaa4313aa4b93430019e83f9ddc5.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image4-c7b35b30c8ff426afd0e2c21dfdecc74.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image5-a035482fdb6724b0db59511f22d8d27e.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image6-28974269305b94c43844088e7fa240d9.jpg" width="1440" height="1080" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-coordination">What is Coordination?<a href="#what-is-coordination" class="hash-link" aria-label="Direct link to What is Coordination?" title="Direct link to What is Coordination?">​</a></h2>
<ul>
<li>Group membership: Set of datanodes (tasks) belong to same group</li>
<li>Leader election: Electing a leader between primary and backup</li>
<li>Dynamic Configuration: Multiple services are joining, communicating and leaving (Service lookup registry)</li>
<li>Status monitoring: Monitoring various processes and services in a cluster</li>
<li>Queuing: One process is embedding and other is using</li>
<li>Barriers: All the processes showing the barrier and leaving the barrier</li>
<li>Critical sections: Which process will go to the critical section and when?</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-zookeeper">What is ZooKeeper?<a href="#what-is-zookeeper" class="hash-link" aria-label="Direct link to What is ZooKeeper?" title="Direct link to What is ZooKeeper?">​</a></h2>
<ul>
<li>ZooKeeper is a highly reliable distributed coordination kernel, which can be used for distributed locking, configuration management, leadership election, work queues</li>
<li>Zookeeper is a replicated service that holds the metadata of distributed applications</li>
<li>Key attributed of such data<!-- -->
<ul>
<li>Small size</li>
<li>Performance sensitive</li>
<li>Dynamic</li>
<li>Critical</li>
</ul>
</li>
<li>In very simple words, it is a central store of key-value using which distributed systems can coordinate. Since it needs to be able to handle the load, ZooKeeper itself runs on many machines</li>
<li>Exposes a simple set of primitives</li>
<li>Very easy to program</li>
<li>Uses a data model like directory tree</li>
<li>Used for<!-- -->
<ul>
<li>Synchronisation</li>
<li>Locking</li>
<li>Maintaining Configuration</li>
</ul>
</li>
<li>Coordination service that does not suffer from<!-- -->
<ul>
<li>Race Conditions</li>
<li>Dead locks</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="design-goals">Design Goals<a href="#design-goals" class="hash-link" aria-label="Direct link to Design Goals" title="Direct link to Design Goals">​</a></h2>
<ol>
<li>
<p><strong>Simple</strong></p>
<ul>
<li><strong>A shared hierarchal namespace looks like standard file system</strong></li>
<li><strong>The namespace has data nodes - znodes (similar to files/dirs)</strong></li>
<li><strong>Data is kept in-memory</strong></li>
<li><strong>Achieve high throughput and low latency numbers</strong></li>
<li><strong>High performance</strong>
<ul>
<li><strong>Used in large, distributed systems</strong></li>
</ul>
</li>
<li><strong>Highly available</strong>
<ul>
<li><strong>No single point of failure</strong></li>
</ul>
</li>
<li><strong>Strictly ordered access</strong>
<ul>
<li><strong>Synchronisation</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Replicated</strong></p>
<ul>
<li><strong>All servers have a copy of the state in memory</strong></li>
<li><strong>A leader is elected at startup</strong></li>
<li><strong>Followers service clients, all updates go through leader</strong></li>
<li><strong>Update responses are sent when a majority of servers have persisted the change</strong></li>
<li><strong>We need 2f+1 machines to tolerate f failures</strong></li>
</ul>
</li>
</ol>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image7-37294d3162e13e56856a8f54eb7d1888.jpg" width="1099" height="639" class="img_ev3q"></p>
<ol start="3">
<li>
<p><strong>Ordered</strong></p>
<ul>
<li><strong>Zookeeper stamps each update with a number</strong></li>
<li><strong>The number:</strong>
<ul>
<li><strong>Reflects the order of transactions</strong></li>
<li><strong>Used implement higher-level abstractions, such as synchronization primitives</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Fast</strong></p>
<ul>
<li><strong>Performs best where reads are more common than writes, at ratios of around 10:1</strong></li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-model">Data Model<a href="#data-model" class="hash-link" aria-label="Direct link to Data Model" title="Direct link to Data Model">​</a></h2>
<ul>
<li>The way you store data in any store is called data model</li>
<li>Think of it as highly available file system</li>
<li>Znode: we store data in an entity called znode</li>
<li>JSON data: The data that we store should be in JSON format</li>
<li>No append operation: The znode can only be updated. It does not support append operations</li>
<li>Data access (read/write) is atomic: The read or write is atomic operation meaning either it will be full or would throw an error if failed. There is no intermediate state like half written</li>
<li>Znode: Can have children</li>
<li>So znodes inside znodes make a tree like hierarchy</li>
<li>The top level znode is &quot;/&quot;</li>
<li>The znode &quot;/zoo&quot; is child of &quot;/&quot; which top level znode</li>
<li>duck is child znode of zoo. It is denoted as /zoo/duck</li>
<li>Though &quot;.&quot; or &quot;..&quot; are invalid characters as opposed to the file system</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image8-c8f386d3b2cf25c17c27ac0a863aad15.jpg" width="525" height="577" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-model---znode---types">Data model - Znode - Types<a href="#data-model---znode---types" class="hash-link" aria-label="Direct link to Data model - Znode - Types" title="Direct link to Data model - Znode - Types">​</a></h2>
<ul>
<li><strong>Persistent</strong></li>
</ul>
<p>Such kind of znodes remain in zookeeper until deleted. This is the default type of znode. To create such node you can use the command: create /name_of_myznode &quot;mydata&quot;</p>
<ul>
<li><strong>Ephemeral</strong>
<ul>
<li>Ephermal node gets deleted if the session in which the node was created has disconnected. Though it is tied to client&#x27;s session but it is visible to the other users.</li>
<li>An ephermal node can not have children not even ephermal children</li>
</ul>
</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image9-a5d7dec10623b79dfae59b09df3e60f1.jpg" width="1440" height="1080" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture">​</a></h2>
<ul>
<li>Zookeeper can run in two nodes<!-- -->
<ul>
<li>Standalone<!-- -->
<ul>
<li>In standalone mode, it is just running on one machine and for practical purposes we do not use standalone mode</li>
<li>This is only for testing purposes</li>
<li>It doesn&#x27;t have high availability</li>
</ul>
</li>
<li>Replicated<!-- -->
<ul>
<li>Run on cluster of machines called an ensemble</li>
<li>High availability</li>
<li>Tolerates as long as majority</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture-phase-1">Architecture: Phase 1<a href="#architecture-phase-1" class="hash-link" aria-label="Direct link to Architecture: Phase 1" title="Direct link to Architecture: Phase 1">​</a></h2>
<p>Phase 1: Leader election (Paxos Algorithm)</p>
<ul>
<li>The machines elect a distinguished member - leader</li>
<li>The others are termed followers</li>
<li>The phase is finished when majority sync their state with leader</li>
<li>If leader fails, the remaining machines hold election takes 200ms</li>
<li>If the majority of the machines aren&#x27;t available at any point of time the leader automatically steps down</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image10-e06fcf4cf79a153b93d50380335b950e.jpg" width="666" height="796" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture-phase-2">Architecture: Phase 2<a href="#architecture-phase-2" class="hash-link" aria-label="Direct link to Architecture: Phase 2" title="Direct link to Architecture: Phase 2">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="phase-2-atomic-broadcast">Phase 2: Atomic broadcast<a href="#phase-2-atomic-broadcast" class="hash-link" aria-label="Direct link to Phase 2: Atomic broadcast" title="Direct link to Phase 2: Atomic broadcast">​</a></h2>
<ul>
<li>All write requests are forwarded to the leader</li>
<li>Leader broadcasts the update to the followers</li>
<li>When a majority have persisted the change<!-- -->
<ul>
<li>The leader commits the up-date</li>
<li>The client gets success response</li>
</ul>
</li>
<li>The protocol for achieving consensus is atomic like two-phase commit</li>
<li>Machines write to disk before in-memory</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image11-d34dcc39ae91d149c93c6e66db224269.jpg" width="522" height="584" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="election-in-zookeeper">Election in Zookeeper<a href="#election-in-zookeeper" class="hash-link" aria-label="Direct link to Election in Zookeeper" title="Direct link to Election in Zookeeper">​</a></h2>
<ul>
<li>Centralized service for maintaining configuration information</li>
<li>Uses a <strong>variant of Paxos called Zab (Zookeeper Atomic Broadcast)</strong></li>
<li>Needs to keep a leader elected at all times</li>
<li>Each server creates a new sequence number for itself<!-- -->
<ul>
<li>Let&#x27;s say the sequence number are ids</li>
<li>Gets highers id so far (from ZK file system), creates next-higher id, writes it into ZK file system</li>
</ul>
</li>
<li>Elect the highest-id server as leader</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image12-8c09d900f402690a8190d08cf83edfbb.jpg" width="516" height="511" class="img_ev3q"></p>
<ul>
<li>Failures:<!-- -->
<ul>
<li>One option: everyone monitors current master (directly or via a failure detector)<!-- -->
<ul>
<li>On failure, initiate election</li>
<li>Leads to a flood of elections</li>
<li>Too many messages</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image13-699ef0db108fc817a1863c1f82ad269b.jpg" width="666" height="592" class="img_ev3q"></p>
<ul>
<li>Second option: (implemented in Zookeeper)<!-- -->
<ul>
<li>Each process monitors its next-higher id process</li>
<li><strong>if</strong> that successor was the leader and it has failed<!-- -->
<ul>
<li>Become the new leader</li>
</ul>
</li>
<li><strong>else</strong>
<ul>
<li>wait for a timeout, and check your successor again</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image14-7fc76c105be01468fa780ef8cf8f455a.jpg" width="462" height="516" class="img_ev3q"></p>
<ul>
<li>What about id conflicts? What if leader fails during election?</li>
<li>To address this, Zookeeper uses a two-phase commit (run after the sequence/id) protocol to commit the leader<!-- -->
<ul>
<li>Leader sends NEW_LEADER message to all</li>
<li>Each process responds with ACK to at most one leader, i.e., one with highest process id</li>
<li>Leader waits for a majority of ACKs, and then sends COMMIT to all</li>
<li>On receiving COMMIT, process updates its leader variable</li>
</ul>
</li>
<li>Ensures that safety is still maintained</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="election-demo">Election Demo<a href="#election-demo" class="hash-link" aria-label="Direct link to Election Demo" title="Direct link to Election Demo">​</a></h2>
<ul>
<li>If you have three nodes A, B, C with A as Leader. And A dies. Will someone become leader?</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image15-33decc4bbfb008d8cfa18d87b53a151f.jpg" width="836" height="374" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image16-4ec5d1a8352162545939fdaba3f85874.jpg" width="1099" height="564" class="img_ev3q"></p>
<ul>
<li>If you have three nodes A, B, C and A and B die. Will C become Leader?</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image17-85d1c76caf6075a53ca0b6fc2276f650.jpg" width="1200" height="594" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image18-eb49d8b34d1d8d9778bff47daa70515d.jpg" width="1086" height="686" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-do-we-need-majority">Why do we need majority?<a href="#why-do-we-need-majority" class="hash-link" aria-label="Direct link to Why do we need majority?" title="Direct link to Why do we need majority?">​</a></h2>
<ul>
<li>Imagine: We have an ensemble spread over two data centres.</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image19-f9e278193dcd5ef91dc0626fa5b0bce1.jpg" width="1178" height="562" class="img_ev3q"></p>
<ul>
<li>Imagine: The network between data centres got disconnected. If we did not need majority for electing Leader</li>
<li>What will happen?</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image20-f1520c894dd1e80f8f9f14556f582739.jpg" width="962" height="498" class="img_ev3q"></p>
<ul>
<li>Each data centre will have their own Leader. No Consistency and utter Chaos. That is why it requires majority.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sessions">Sessions<a href="#sessions" class="hash-link" aria-label="Direct link to Sessions" title="Direct link to Sessions">​</a></h2>
<ul>
<li>Let&#x27;s try to understand how do the zookeeper decides to delete ephermals nodes and takes care of session management.<!-- -->
<ul>
<li>A client has list of servers in the ensemble</li>
<li>It tries each until successful</li>
<li>Server creates a new session for the client</li>
<li>A session has a timeout period - decided by caller</li>
<li>If the server hasn&#x27;t received a request within the timeout period, it may expire the session</li>
<li>On session expire, ephermal nodes are lost</li>
<li>To keep sessions alive client sends pings (heartbeats)</li>
<li>Client library takes care of heartbeats</li>
<li>Sessions are still valid on switching to another server</li>
<li>Failover is handled automatically by the client</li>
<li>Application can&#x27;t remain agnostic of server reconnections because the operations will fail during disconnection</li>
</ul>
</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image21-cac5b0053f30f931b135046e937b026f.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image22-1a53e42e120df94bfba5cfdfa4a7e313.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image23-cba7f24727f64860d1bfac36f66b19c7.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image24-c6508b7e23b16125c093169198531fc1.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image25-a5286a143949a64dbf4d1620d3369f8a.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image26-4ec842f563b4031af4de95fdc23571f9.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image27-dda55068e085bbffe16872594f67fc98.jpg" width="1440" height="1080" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="multi-update">Multi Update<a href="#multi-update" class="hash-link" aria-label="Direct link to Multi Update" title="Direct link to Multi Update">​</a></h2>
<ul>
<li>Batches together multiple operations together</li>
<li>Either all fail or succeed in entirely</li>
<li>Possible to implement transactions</li>
<li>Others never observe any inconsistent state</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image28-f055e5c63ab9e4914e358c39debcc6ff.jpg" width="1440" height="1080" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="watches">Watches<a href="#watches" class="hash-link" aria-label="Direct link to Watches" title="Direct link to Watches">​</a></h2>
<ul>
<li>Clients to get notifications when a znode changes in some way</li>
<li>Watchers are triggered only once</li>
<li>For multiple notifications, re-register</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image29-590bf3d7015344ddf7e907983aa56a8d.jpg" width="1440" height="1080" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="acls---access-control-lists">ACLs - Access Control Lists<a href="#acls---access-control-lists" class="hash-link" aria-label="Direct link to ACLs - Access Control Lists" title="Direct link to ACLs - Access Control Lists">​</a></h2>
<p>ACL determines who can perform certain operations on it</p>
<ul>
<li>ACL is the combination<!-- -->
<ul>
<li>authentication scheme</li>
<li>an identity for that scheme</li>
<li>and a set of permissions</li>
</ul>
</li>
<li>Authentication Scheme<!-- -->
<ul>
<li><strong>digest -</strong> The client is authenticated by a username &amp; password</li>
<li><strong>sasl -</strong> The client is authenticated using Kerberos</li>
<li><strong>ip -</strong> The client is authenticated by its IP address</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use Cases" title="Direct link to Use Cases">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="building-a-reliable-configuration-service">Building a reliable configuration service<a href="#building-a-reliable-configuration-service" class="hash-link" aria-label="Direct link to Building a reliable configuration service" title="Direct link to Building a reliable configuration service">​</a></h3>
<ul>
<li>A Distributed lock service</li>
</ul>
<p>Only single process may hold the lock</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-not-to-use">When not to use?<a href="#when-not-to-use" class="hash-link" aria-label="Direct link to When not to use?" title="Direct link to When not to use?">​</a></h2>
<ol>
<li>
<p>To store big data because:</p>
<ul>
<li>The number of copies == number of nodes</li>
<li>All data is loaded in RAM too</li>
<li>Network load of transferring all data to all Nodes</li>
</ul>
</li>
<li>
<p>Extermely strong consistency</p>
</li>
</ol>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image30-da1504c42a67ae29d9794173797c7d1f.jpg" width="1440" height="1080" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="katta---lucene--more-in-the-cloud">Katta - Lucene &amp; more in the cloud<a href="#katta---lucene--more-in-the-cloud" class="hash-link" aria-label="Direct link to Katta - Lucene &amp; more in the cloud" title="Direct link to Katta - Lucene &amp; more in the cloud">​</a></h2>
<p>Katta is a scalable, failure tolerant, distributed, data storage for real time access.</p>
<p>Katta serves large, replicated, indices as shards to serve high loads and very large data sets. These indices can be of different type. Currently implementations are available for Lucene and Hadoop mapfiles.</p>
<ul>
<li>Makes serving large or high load indices easy</li>
<li>Serves very large Lucene or Hadoop Mapfile indices as index shards on many servers</li>
<li>Replicate shards on different servers for performance and fault-tolerance</li>
<li>Supports pluggable network topologies</li>
<li>Master fail-over</li>
<li>Fast, lightweight, easy to integrate</li>
<li>Plays well with Hadoop clusters</li>
<li>Apache Version 2 License</li>
</ul>
<p><a href="http://katta.sourceforge.net" target="_blank" rel="noopener noreferrer">http://katta.sourceforge.net</a></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image31-ccd69d4d18561c1463c5d8eee70f25b2.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image32-60a008e2a2af735ff33335287cb6478e.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image33-b9312cc8ef54d60348a176c9a202bb0b.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image34-c456e012d5b0223f1a9986ee6c5fe2a1.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image35-f49afeeba9b371ed95e93f5d4bd3367d.jpg" width="1440" height="1080" class="img_ev3q"></p>
<p><img loading="lazy" alt="image" src="/assets/images/Big-Data_Design-of-Zookeeper-image36-c37dd8a90cecd543fbc64dbb8a9c644d.jpg" width="1440" height="1080" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/ai/big-data/design-of-zookeeper.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-02-26T06:35:00.000Z">Feb 26, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ai/big-data/design-of-key-value-stores"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Design of Key-Value Stores</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ai/big-data/intro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Big Data</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#classic-distributed-system" class="table-of-contents__link toc-highlight">Classic Distributed System</a></li><li><a href="#fault-tolerant-distributed-system" class="table-of-contents__link toc-highlight">Fault Tolerant Distributed System</a></li><li><a href="#what-is-coordination" class="table-of-contents__link toc-highlight">What is Coordination?</a></li><li><a href="#what-is-zookeeper" class="table-of-contents__link toc-highlight">What is ZooKeeper?</a></li><li><a href="#design-goals" class="table-of-contents__link toc-highlight">Design Goals</a></li><li><a href="#data-model" class="table-of-contents__link toc-highlight">Data Model</a></li><li><a href="#data-model---znode---types" class="table-of-contents__link toc-highlight">Data model - Znode - Types</a></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a></li><li><a href="#architecture-phase-1" class="table-of-contents__link toc-highlight">Architecture: Phase 1</a></li><li><a href="#architecture-phase-2" class="table-of-contents__link toc-highlight">Architecture: Phase 2</a></li><li><a href="#phase-2-atomic-broadcast" class="table-of-contents__link toc-highlight">Phase 2: Atomic broadcast</a></li><li><a href="#election-in-zookeeper" class="table-of-contents__link toc-highlight">Election in Zookeeper</a></li><li><a href="#election-demo" class="table-of-contents__link toc-highlight">Election Demo</a></li><li><a href="#why-do-we-need-majority" class="table-of-contents__link toc-highlight">Why do we need majority?</a></li><li><a href="#sessions" class="table-of-contents__link toc-highlight">Sessions</a></li><li><a href="#multi-update" class="table-of-contents__link toc-highlight">Multi Update</a></li><li><a href="#watches" class="table-of-contents__link toc-highlight">Watches</a></li><li><a href="#acls---access-control-lists" class="table-of-contents__link toc-highlight">ACLs - Access Control Lists</a></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a><ul><li><a href="#building-a-reliable-configuration-service" class="table-of-contents__link toc-highlight">Building a reliable configuration service</a></li></ul></li><li><a href="#when-not-to-use" class="table-of-contents__link toc-highlight">When not to use?</a></li><li><a href="#katta---lucene--more-in-the-cloud" class="table-of-contents__link toc-highlight">Katta - Lucene &amp; more in the cloud</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>