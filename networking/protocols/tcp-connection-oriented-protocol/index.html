<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-networking/protocols/tcp-connection-oriented-protocol/readme" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">TCP (Connection Oriented Protocol) | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/networking/protocols/tcp-connection-oriented-protocol/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TCP (Connection Oriented Protocol) | Deep Notes"><meta data-rh="true" name="description" content="TCP stands for transmission control protocol. It is implemented in the transport layer of the IP/TCP model and is used to establish reliable connections."><meta data-rh="true" property="og:description" content="TCP stands for transmission control protocol. It is implemented in the transport layer of the IP/TCP model and is used to establish reliable connections."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/networking/protocols/tcp-connection-oriented-protocol/"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/networking/protocols/tcp-connection-oriented-protocol/" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/networking/protocols/tcp-connection-oriented-protocol/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(47, 133, 85)">

<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.1aa998db.css">
<script src="/assets/js/runtime~main.e6a22c42.js" defer="defer"></script>
<script src="/assets/js/main.ee0daca1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepaksood619/deepaksood619.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/about-me/">About Me</a><button aria-label="Expand sidebar category &#x27;About Me&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/computer-science/">Computer Science</a><button aria-label="Expand sidebar category &#x27;Computer Science&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/databases/">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/devops/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/networking/">Networking</a><button aria-label="Collapse sidebar category &#x27;Networking&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/networking/mqtt/">MQTT</a><button aria-label="Expand sidebar category &#x27;MQTT&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/networking/networking-concepts/">Networking Concepts</a><button aria-label="Expand sidebar category &#x27;Networking Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/networking/others/">Others</a><button aria-label="Expand sidebar category &#x27;Others&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/networking/protocols/">Protocols</a><button aria-label="Collapse sidebar category &#x27;Protocols&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/amqp">AMQP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/dns-domain-name-system">DNS Domain Name System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/graphql">GraphQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/http-3-quic">HTTP/3 QUIC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/http-https">HTTP / HTTPS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/http-status-code">Http Status Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/intro">Protocols</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/messaging">Messaging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/openapi">OpenAPI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/openthread">OpenThread</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/protocols-intro">Protocols Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/rest-representational-state-transfer-restful">REST Representational State Transfer / RESTFul</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/rsocket">Rsocket</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/networking/protocols/tcp-connection-oriented-protocol/">TCP (Connection Oriented Protocol)</a><button aria-label="Collapse sidebar category &#x27;TCP (Connection Oriented Protocol)&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/tcp-connection-oriented-protocol/flow-control">Flow Control</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/udp">UDP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/video-live-streaming">Video / Live Streaming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/weave">Weave</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/websockets">WebSockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/networking/protocols/zeromq-distributed-messaging">ZeroMQ: Distributed Messaging</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deep Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/networking/"><span itemprop="name">Networking</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/networking/protocols/"><span itemprop="name">Protocols</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">TCP (Connection Oriented Protocol)</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>TCP (Connection Oriented Protocol)</h1>
<p>TCP stands for transmission control protocol. It is implemented in the transport layer of the IP/TCP model and is used to establish reliable connections.</p>
<p>TCP is one of the protocols that encapsulates data into packets. It then transfers these to the remote end of the connection using the methods available on the lower layers. On the other end, it can check for errors, request certain pieces to be resent, and reassemble the information into one logical piece to send to the application layer.</p>
<p>The protocol builds up a connection prior to data transfer using a system called a <strong>three-way handshake</strong>. This is a way for the two ends of the communication to acknowledge the request and agree upon a method of ensuring data reliability.</p>
<p>After the data has been sent, the connection is torn down using a similar <strong>four-way handshake</strong>.</p>
<p>TCP is the protocol of choice for many of the most popular uses for the internet, including WWW, FTP, SSH, and email. It is safe to say that the internet we know today would not be here without TCP.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tcp-congestion-control">TCP Congestion Control<a href="#tcp-congestion-control" class="hash-link" aria-label="Direct link to TCP Congestion Control" title="Direct link to TCP Congestion Control">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-algorithms">Common Algorithms<a href="#common-algorithms" class="hash-link" aria-label="Direct link to Common Algorithms" title="Direct link to Common Algorithms">​</a></h3>
<ul>
<li><strong>Reno</strong></li>
<li><strong>BIC</strong></li>
<li><strong>CUBIC</strong></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-strategy">General Strategy<a href="#general-strategy" class="hash-link" aria-label="Direct link to General Strategy" title="Direct link to General Strategy">​</a></h3>
<ul>
<li>Increase sending rate if ACK</li>
<li>Decrease if ACK missed</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/TCP-Connection-Oriented-Protocol-image1-089531701de01c4abf813f1be596cca2.jpg" width="1098" height="509" class="img_ev3q"></p>
<p><code>cat /proc/sys/net/ipv4/tcp_congestion_control</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tcp-bbr">TCP BBR<a href="#tcp-bbr" class="hash-link" aria-label="Direct link to TCP BBR" title="Direct link to TCP BBR">​</a></h3>
<p>It&#x27;s a TCP Congestion Control Algorithm</p>
<p>New Backoff algorithm for handling network congestion. Great for clients working in low bandwidth connection like 2G.</p>
<p>Only needed to set a flag on server, Client doesn&#x27;t need to be updated</p>
<p><a href="https://medium.com/google-cloud/tcp-bbr-magic-dust-for-network-performance-57a5f1ccf437" target="_blank" rel="noopener noreferrer">https://medium.com/google-cloud/tcp-bbr-magic-dust-for-network-performance-57a5f1ccf437</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="additive-increasemultiplicative-decrease-aimd">Additive increase/multiplicative decrease (AIMD)<a href="#additive-increasemultiplicative-decrease-aimd" class="hash-link" aria-label="Direct link to Additive increase/multiplicative decrease (AIMD)" title="Direct link to Additive increase/multiplicative decrease (AIMD)">​</a></h3>
<p>The additive-increase/multiplicative-decrease(AIMD) algorithm is a feedback control algorithm best known for its use in <a href="https://en.wikipedia.org/wiki/TCP_congestion_control" target="_blank" rel="noopener noreferrer">TCP congestion control</a>. AIMD combines linear growth of the congestion window with an exponential reduction when congestion is detected. Multiple flows using AIMD congestion control will eventually converge to use equal amounts of a shared link.The related schemes of multiplicative-increase/multiplicative-decrease (MIMD) and additive-increase/additive-decrease (AIAD) do not reach <a href="https://en.wikipedia.org/wiki/Stability_theory" target="_blank" rel="noopener noreferrer">stability</a>.</p>
<p><a href="https://en.wikipedia.org/wiki/Additive_increase/multiplicative_decrease" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Additive_increase/multiplicative_decrease</a></p>
<p>TCP is a reliable stream delivery service which guarantees that all bytes received will be identical and in the same order as those sent. Since packet transfer by many networks is not reliable, TCP achieves this using a technique known as <em>positive acknowledgement with re-transmission</em>. This requires the receiver to respond with an acknowledgement message as it receives the data. The sender keeps a record of each packet it sends and maintains a timer from when the packet was sent. The sender re-transmits a packet if the timer expires before receiving the acknowledgement. The timer is needed in case a packet gets lost or corrupted.</p>
<p>While IP handles actual delivery of the data, TCP keeps track of <em>segments</em>- the individual units of data transmission that a message is divided into for efficient routing through the network. For example, when an HTML file is sent from a web server, the TCP software layer of that server divides the file into segments and forwards them individually to the <a href="https://en.wikipedia.org/wiki/Internet_layer" target="_blank" rel="noopener noreferrer">internet layer</a> in the <a href="https://en.wikipedia.org/wiki/Network_stack" target="_blank" rel="noopener noreferrer">network stack</a>. The internet layer software encapsulates each TCP segment into an IP packet by adding a header that includes (among other data) the destination <a href="https://en.wikipedia.org/wiki/IP_address" target="_blank" rel="noopener noreferrer">IP address</a>. When the client program on the destination computer receives them, the TCP software in the transport layer re-assembles the segments and ensures they are correctly ordered and error-free as it streams the file contents to the receiving application.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="concepts">Concepts<a href="#concepts" class="hash-link" aria-label="Direct link to Concepts" title="Direct link to Concepts">​</a></h2>
<p>The absolute limitation onTCPpacketsizeis 64K (65535 bytes), but in practicality this is far larger than thesizeof any packet you will see, because the lower layers (e.g. ethernet) have lower packetsizes. The MTU (MaximumTransmission Unit) for Ethernet, for instance, is 1500 bytes</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mtu-maximum-transmission-unit">MTU (Maximum Transmission Unit)<a href="#mtu-maximum-transmission-unit" class="hash-link" aria-label="Direct link to MTU (Maximum Transmission Unit)" title="Direct link to MTU (Maximum Transmission Unit)">​</a></h2>
<p>Maximum transmission unit is the maximum size of a packet or frame that can flow across the network, without being fragmented. For Ethernet networks, the maximum MTU value is 1500 bytes.</p>
<p>Path MTU Discovery(PMTUD) is a standardized technique in <a href="https://en.wikipedia.org/wiki/Computer_networking" target="_blank" rel="noopener noreferrer">computer networking</a> for determining the <a href="https://en.wikipedia.org/wiki/Maximum_transmission_unit" target="_blank" rel="noopener noreferrer">maximum transmission unit (MTU)</a> size on the network path between two Internet Protocol (IP) hosts, usually with the goal of avoiding <a href="https://en.wikipedia.org/wiki/IP_fragmentation" target="_blank" rel="noopener noreferrer">IP fragmentation</a>. PMTUD was originally intended for routers in <a href="https://en.wikipedia.org/wiki/IPv4" target="_blank" rel="noopener noreferrer">Internet Protocol Version 4</a>(IPv4).However, all modern operating systems use it on endpoints. In <a href="https://en.wikipedia.org/wiki/IPv6" target="_blank" rel="noopener noreferrer">IPv6</a>, this function has been explicitly delegated to the end points of a communications session.</p>
<p><a href="https://en.wikipedia.org/wiki/Path_MTU_Discovery" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Path_MTU_Discovery</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mss-maximum-segment-size">MSS (Maximum Segment Size)<a href="#mss-maximum-segment-size" class="hash-link" aria-label="Direct link to MSS (Maximum Segment Size)" title="Direct link to MSS (Maximum Segment Size)">​</a></h2>
<p>Maximum segment size is the maximum TCP datagram size. It represents the maximum payload size an endpoint is willing to accept within a single packet. Maximum MSS value is 1460 bytes. The MSS, IP header and TCP header, together make up the MTU value. That is, 1500 MTU = 1460 byte MSS + 20 byte IP header + 20 byte TCP header. Said another way, MSS = MTU - 40.</p>
<p><img loading="lazy" alt="image" src="/assets/images/TCP-Connection-Oriented-Protocol-image2-dd243b7fe5d204a62179c802bfa0fe05.jpg" width="1400" height="129" class="img_ev3q"></p>
<p>Do note that MSS is only announced during the TCP handshake in the SYN segment, it is not a negotiated parameter. Meaning, client and server can announce their own individual and different MSS values <a href="https://tools.ietf.org/html/rfc879" target="_blank" rel="noopener noreferrer">rfc879</a>. The actual MSS is selected based on the endpoint&#x27;s buffer and outgoing interface MTU. This can be represented visually by considering a communication between client A and server B <a href="https://www.cisco.com/c/en/us/support/docs/ip/generic-routing-encapsulation-gre/25885-pmtud-ipfrag.html" target="_blank" rel="noopener noreferrer">cisco-ipfrag</a>.<strong>TCP Segment Structure</strong></p>
<p>Transmission Control Protocol accepts data from a data stream, divides it into chunks, and adds a TCP header creating a TCP segment. The TCP segment is then <a href="https://en.wikipedia.org/wiki/Encapsulation_(networking)" target="_blank" rel="noopener noreferrer">encapsulated</a> into an Internet Protocol (IP) datagram, and exchanged with peers.
The termTCP packetappears in both informal and formal usage, whereas in more precise terminology segment refers to the TCP <a href="https://en.wikipedia.org/wiki/Protocol_data_unit" target="_blank" rel="noopener noreferrer">protocol data unit</a>(PDU), datagramto the IP PDU, andframeto the data link layer PDU:</p>
<p>Processes transmit data by calling on the TCP and passing buffers of data as arguments. The TCP packages the data from these buffers into segments and calls on the internet module [e.g. IP] to transmit each segment to the destination TCP.</p>
<p>A TCP segment consists of <strong>a segmentheaderand adatasection</strong>. The TCP header contains 10 mandatory fields, and an optional extension field (Options, pink background in table).
The data section follows the header. Its contents are the payload data carried for the application. The length of the data section is not specified in the TCP segment header. It can be calculated by subtracting the combined length of the TCP header and the encapsulating IP header from the total IP datagram length (specified in the IP header).</p>
<p><img loading="lazy" alt="image" src="/assets/images/TCP-Connection-Oriented-Protocol-image3-7408c328495691f449c74697b550b0d7.jpg" width="1501" height="476" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sequence-number-32-bits">Sequence number (32 bits)<a href="#sequence-number-32-bits" class="hash-link" aria-label="Direct link to Sequence number (32 bits)" title="Direct link to Sequence number (32 bits)">​</a></h2>
<p>TCP uses sequence number field to keep track of the amount of data sent in a communication stream. TCP uses a random 32-bit number to identify the beginning of a conversation. This is known as the initial sequence number (ISN). Rather than starting all TCP conversations with 1, a random ISN helps to identify and keep traffic separate for each flow</p>
<p>Has a dual role:</p>
<ul>
<li>If the SYN flag is set (1), then this is the initial sequence number. The sequence number of the actual first data byte and the acknowledged number in the corresponding ACK are then this sequence number plus 1.</li>
<li>If the SYN flag is clear (0), then this is the accumulated sequence number of the first data byte of this segment for the current session.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="acknowledgement-number">Acknowledgement number<a href="#acknowledgement-number" class="hash-link" aria-label="Direct link to Acknowledgement number" title="Direct link to Acknowledgement number">​</a></h2>
<p>Used by the receiving host to acknowledge successful receipt of a TCP segment. An ACK message is replied to the sending host, which includes the received sequence number incremented by 1. This number also informs the sending host, the sequence number of the next segment expected by the receiving host <a href="http://www.firewall.cx/networking-topics/protocols/tcp/134-tcp-seq-ack-numbers.html" target="_blank" rel="noopener noreferrer">www.firewall.cx</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="relative-sequence-number">Relative sequence number<a href="#relative-sequence-number" class="hash-link" aria-label="Direct link to Relative sequence number" title="Direct link to Relative sequence number">​</a></h2>
<p>Wireshark uses numbers relative to each TCP stream to keep track of each session. This essentially means that the &#x27;Sequence&#x27; and &#x27;Acknowledgement numbers&#x27; will always begin with a 0 for each new session. Using a small number makes it easier to read the packet captures, as opposed to looking at a large number (since 32-bit ISN can be anything from 0 to 4.2 billion). To verify if Wireshark is using this option, go to Wireshark-&gt;preferences-&gt;protocols-&gt;TCP-&gt; check &#x27;Relative sequence numbers&#x27;.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-sequence-number">Next sequence number<a href="#next-sequence-number" class="hash-link" aria-label="Direct link to Next sequence number" title="Direct link to Next sequence number">​</a></h2>
<p>This is the length of the TCP payload + the current sequence number. It indicates the sequence number of the next segment that will sent by the client.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="selective-ack-sack">Selective ACK (SACK)<a href="#selective-ack-sack" class="hash-link" aria-label="Direct link to Selective ACK (SACK)" title="Direct link to Selective ACK (SACK)">​</a></h2>
<p>This TCP option is used to identify a block of data that was received by a host. The sender does not re-transmit data identified by the left edge and right edge of SACK. This option can be used only if supported by both the parties and is negotiated during the TCP handshake <a href="http://packetlife.net/blog/2010/jun/17/tcp-selective-acknowledgments-sack/" target="_blank" rel="noopener noreferrer">packetlife-sack</a>.</p>
<p><img loading="lazy" alt="image" src="/assets/images/TCP-Connection-Oriented-Protocol-image4-19e109a1605b0e69aa50f62b6b1fcaf1.jpg" width="902" height="138" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="duplicate-ack">Duplicate ACK<a href="#duplicate-ack" class="hash-link" aria-label="Direct link to Duplicate ACK" title="Direct link to Duplicate ACK">​</a></h2>
<p>As part of the TCP fast re-transmit mechanism, duplicate ACKs are used to inform sender of either segments received out-of-order or lost segments. Re-transmission of missing segments is performed immediately <a href="https://tools.ietf.org/html/rfc2001" target="_blank" rel="noopener noreferrer">rfc2001-sec</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="flags-9-bits-aka-control-bits">Flags (9 bits) (aka Control bits)<a href="#flags-9-bits-aka-control-bits" class="hash-link" aria-label="Direct link to Flags (9 bits) (aka Control bits)" title="Direct link to Flags (9 bits) (aka Control bits)">​</a></h2>
<p>Contains 9 1-bit flags</p>
<ul>
<li>NS (1 bit): ECN-nonce - concealment protection (experimental: see <a href="https://tools.ietf.org/html/rfc3540" target="_blank" rel="noopener noreferrer">RFC 3540</a>).</li>
<li>CWR (1 bit): Congestion Window Reduced (CWR) flag is set by the sending host to indicate that it received a TCP segment with the ECE flag set and had responded in congestion control mechanism (added to header by <a href="https://tools.ietf.org/html/rfc3168" target="_blank" rel="noopener noreferrer">RFC 3168</a>).</li>
<li>ECE (1 bit): ECN-Echo has a dual role, depending on the value of the SYN flag. It indicates:<!-- -->
<ul>
<li>If the SYN flag is set (1), that the TCP peer is <a href="https://en.wikipedia.org/wiki/Explicit_Congestion_Notification" target="_blank" rel="noopener noreferrer">ECN</a> capable.</li>
<li>If the SYN flag is clear (0), that a packet with Congestion Experienced flag set (ECN=11) in the IP header was received during normal transmission (added to header by <a href="https://tools.ietf.org/html/rfc3168" target="_blank" rel="noopener noreferrer">RFC 3168</a>). This serves as an indication of network congestion (or impending congestion) to the TCP sender.</li>
</ul>
</li>
<li>URG (1 bit): indicates that the Urgent pointer field is significant</li>
<li>ACK (1 bit): indicates that the Acknowledgment field is significant. All packets after the initial SYN packet sent by the client should have this flag set.</li>
<li>PSH (1 bit): Push function. Asks to push the buffered data to the receiving application.</li>
<li>RST (1 bit): Reset the connection</li>
<li>SYN (1 bit): Synchronize sequence numbers. Only the first packet sent from each end should have this flag set. Some other flags and fields change meaning based on this flag, and some are only valid when it is set, and others when it is clear.</li>
<li>FIN (1 bit): Last packet from sender.</li>
</ul>
<p><a href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Transmission_Control_Protocol</a></p>
<p><a href="https://medium.com/walmartlabs/how-tcp-segment-size-can-affect-application-traffic-flow-7bbceed5816e" target="_blank" rel="noopener noreferrer">https://medium.com/walmartlabs/how-tcp-segment-size-can-affect-application-traffic-flow-7bbceed5816e</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tcp-handshake-3-way-handshake-positive-acknowledgement-with-re-transmission--par">TCP Handshake (3-way handshake) (Positive Acknowledgement with Re-transmission / PAR)<a href="#tcp-handshake-3-way-handshake-positive-acknowledgement-with-re-transmission--par" class="hash-link" aria-label="Direct link to TCP Handshake (3-way handshake) (Positive Acknowledgement with Re-transmission / PAR)" title="Direct link to TCP Handshake (3-way handshake) (Positive Acknowledgement with Re-transmission / PAR)">​</a></h2>
<p>A three-way handshake is a method used in a TCP/IP network to create a connection between a local host/client and server. It is a three-step method that requires both the client and server to exchange SYN and ACK (acknowledgment) packets before actual data communication begins.</p>
<p>Now a device using PAR resend the data unit until it receives an acknowledgement. If the data unit received at the receiver&#x27;s end is damaged(It checks the data with checksum functionality of the transport layer that is used for Error Detection), then receiver discards the segment. So the sender has to resend the data unit for which positive acknowledgement is not received.</p>
<p><img loading="lazy" alt="image" src="/assets/images/TCP-Connection-Oriented-Protocol-image5-48ded6eda8a524bcd249ad7d4d250f0d.jpg" width="461" height="366" class="img_ev3q"></p>
<ul>
<li><strong>Step 1 (SYN):</strong> In the first step, client wants to establish a connection with server, so it sends a segment with SYN(Synchronize Sequence Number) which informs server that client is likely to start communication and with what sequence number it starts segments with</li>
<li><strong>Step 2 (SYN + ACK):</strong> Server responds to the client request with SYN-ACK signal bits set. Acknowledgement(ACK) signifies the response of segment it received and SYN signifies with what sequence number it is likely to start the segments with</li>
<li><strong>Step 3 (ACK):</strong> In the final part client acknowledges the response of server and they both establish a reliable connection with which they will start the actual data transfer</li>
</ul>
<p>The steps 1, 2 establish the connection parameter (sequence number) for one direction and it is acknowledged. The steps 2, 3 establish the connection parameter (sequence number) for the other direction and it is acknowledged. With these, a full-duplex communication is established.</p>
<p>Initial sequence numbers are randomly selected while establishing connections between client and server.</p>
<p><a href="https://www.geeksforgeeks.org/tcp-3-way-handshake-process" target="_blank" rel="noopener noreferrer">https://www.geeksforgeeks.org/tcp-3-way-handshake-process</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tcp-connection-termination">TCP Connection Termination<a href="#tcp-connection-termination" class="hash-link" aria-label="Direct link to TCP Connection Termination" title="Direct link to TCP Connection Termination">​</a></h2>
<p><img loading="lazy" alt="image" src="/assets/images/TCP-Connection-Oriented-Protocol-image6-1edaf9bc1961e4addb99e3bed5e0472f.jpg" width="424" height="343" class="img_ev3q"></p>
<ol>
<li>
<p><strong>Step 1 (FIN From Client)</strong> Suppose that the client application decides it wants to close the connection. (Note that the server could also choose to close the connection). This causes the client send a TCP segment with the <strong>FIN</strong> bit set to <strong>1</strong> to server and to enter the <strong>FIN_WAIT_1</strong> state. While in the <strong>FIN_WAIT_1</strong> state, the client waits for a TCP segment from the server with an acknowledgment (ACK).</p>
</li>
<li>
<p><strong>Step 2 (ACK From Server) --</strong> When Server received FIN bit segment from Sender (Client), Server Immediately send acknowledgement (ACK) segment to the Sender (Client).</p>
</li>
<li>
<p><strong>Step 3 (Client waiting) --</strong> While in the <strong>FIN_WAIT_1</strong> state, the client waits for a TCP segment from the server with an acknowledgment. When it receives this segment, the client enters the <strong>FIN_WAIT_2</strong> state. While in the <strong>FIN_WAIT_2</strong> state, the client waits for another segment from the server with the FIN bit set to 1.</p>
</li>
<li>
<p><strong>Step 4 (FIN from Server) --</strong> Server sends FIN bit segment to the Sender(Client) after some time when Server send the ACK segment (because of some closing process in the Server).</p>
</li>
<li>
<p><strong>Step 5 (ACK from Client) --</strong> When Client receive FIN bit segment from the Server, the client acknowledges the server&#x27;s segment and enters the <strong>TIME_WAIT</strong> state. The <strong>TIME_WAIT</strong> state lets the client resend the final acknowledgment in case the <strong>ACK</strong> is lost.The time spent by client in the <strong>TIME_WAIT</strong> state is depend on their implementation, but their typical values are 30 seconds, 1 minute, and 2 minutes. After the wait, the connection formally closes and all resources on the client side (including port numbers and buffer data) are released.</p>
</li>
</ol>
<p>TCP states visited by ClientSide --</p>
<p><img loading="lazy" alt="image" src="/assets/images/TCP-Connection-Oriented-Protocol-image7-26577ba735edfe65144425772cb4d4c4.jpg" width="559" height="429" class="img_ev3q"></p>
<p>TCP states visited by ServerSide --</p>
<p><img loading="lazy" alt="image" src="/assets/images/TCP-Connection-Oriented-Protocol-image8-00a6c3f915d7c374c7b58e45d1edcac1.jpg" width="559" height="429" class="img_ev3q"></p>
<p><a href="https://www.geeksforgeeks.org/tcp-connection-termination" target="_blank" rel="noopener noreferrer">https://www.geeksforgeeks.org/tcp-connection-termination</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="problems">Problems<a href="#problems" class="hash-link" aria-label="Direct link to Problems" title="Direct link to Problems">​</a></h2>
<ul>
<li><strong>Head of line blocking</strong></li>
</ul>
<p>The role of TCP is to deliver the entire stream of bytes, in the correct order, from one endpoint to the other. When a TCP packet carrying some of those bytes is lost on the network path, it creates a gap in the stream and TCP needs to fill it by resending the affected packet when the loss is detected. While doing so, none of the successfully delivered bytes that follow the lost ones can be delivered to the application, even if they were not themselves lost and belong to a completely independent HTTP request. So they end up getting unnecessarily delayed as TCP cannot know whether the application would be able to process them without the missing bits. This problem is known as &quot;head-of-line blocking&quot;.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="peformance-enhancing-proxy">Peformance-enhancing proxy<a href="#peformance-enhancing-proxy" class="hash-link" aria-label="Direct link to Peformance-enhancing proxy" title="Direct link to Peformance-enhancing proxy">​</a></h2>
<p>Performance-enhancing proxies(PEPs) are network agents designed to improve the end-to-end performance of some <a href="https://en.wikipedia.org/wiki/Communication_protocols" target="_blank" rel="noopener noreferrer">communication protocols</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="classification">Classification<a href="#classification" class="hash-link" aria-label="Direct link to Classification" title="Direct link to Classification">​</a></h2>
<p>Available PEP implementations use different methods to enhance performance.</p>
<ul>
<li><strong>Proxy type:</strong> A PEP can either &#x27;split&#x27; a connection or &#x27;snoop&#x27; into it. In the first case, the proxy pretends to be the opposite endpoint of the connection in each direction, literally splitting the connection into two. In the latter case, the proxy controls the transmissions of the TCP segments in both directions, by ack filtering and reconstruction in the existing connection (see <a href="https://en.wikipedia.org/wiki/Protocol_spoofing" target="_blank" rel="noopener noreferrer">protocol spoofing</a>). This is based on the OSI level of implementation of the PEP.</li>
<li><strong>Distribution:</strong> PEPs can be either integrated or distributed. Integrated PEP will run on a single box, while distributed PEP will require to be installed on both sides of the link that cause the performance degradation. This is quite common in commercial PEP devices, which act as a <a href="https://en.wikipedia.org/wiki/Black_box" target="_blank" rel="noopener noreferrer">black box</a>, using more or less open protocols to communicate between them in the place of TCP.</li>
<li><strong>Symmetry:</strong> A PEP implementation may be symmetric or asymmetric. Symmetric PEPs use identical behavior in both directions; the actions taken by the PEP occur independent from which interface a packet is received. Asymmetric PEPs operate differently in each direction, which can cause, for example, only one link direction performance to be enhanced.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a href="#types" class="hash-link" aria-label="Direct link to Types" title="Direct link to Types">​</a></h2>
<ul>
<li>Split-TCP</li>
<li>Ack filtering/decimation</li>
<li>Snoop</li>
<li>D-proxy</li>
</ul>
<p><a href="https://en.wikipedia.org/wiki/Performance-enhancing_proxy" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Performance-enhancing_proxy</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tcp-split">TCP Split<a href="#tcp-split" class="hash-link" aria-label="Direct link to TCP Split" title="Direct link to TCP Split">​</a></h2>
<p>TCP splitting uses a performance enhancing proxy access node that divides the end-to-end TCP connection between the client and the server into a multi-overlay-hop path where each overlay hop is an independent TCP connection, such that the RTT of each overlay hop is lower than the direct RTT between A and B. Each hop&#x27;s throughput is governed by that hop&#x27;s RTT and is individually higher than the direct throughput between A and B.</p>
<p>But performance issues can arise due to the interaction among path segments and different layers for any particular solution. For example, in TCP Splitting, the intermediate node (the spoofer) sends back a spoofing ACK packet to the TCP sender immediately upon receiving a TCP data packet instead of waiting for the ACK from the final TCP destination.</p>
<p>One of the well known problems of TCP splitting is that by breaking the end-to-end connection, a split TCP connection is no longer reliable or secure, and a server failure may cause the client to believe that data has been successfully received when it has not. From theApplication Server TCP Splittingpane, you can access the TCP Splitting for the Application Server.</p>
<p><a href="https://webhelp.radware.com/AppDirector/v214/214Advanced%20Capabilities.07.04.htm" target="_blank" rel="noopener noreferrer">https://webhelp.radware.com/AppDirector/v214/214Advanced%20Capabilities.07.04.htm</a></p>
<p><a href="https://www.youtube.com/watch?v=U1ryk2zIAjc" target="_blank" rel="noopener noreferrer">split tcp protocol | Adhoc N/W | lec-34 | Bhanu Priya</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/networking/protocols/tcp-connection-oriented-protocol/readme.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-02-05T13:06:14.000Z">Feb 5, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/networking/protocols/rsocket"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Rsocket</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/networking/protocols/tcp-connection-oriented-protocol/flow-control"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Flow Control</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tcp-congestion-control" class="table-of-contents__link toc-highlight">TCP Congestion Control</a><ul><li><a href="#common-algorithms" class="table-of-contents__link toc-highlight">Common Algorithms</a></li><li><a href="#general-strategy" class="table-of-contents__link toc-highlight">General Strategy</a></li><li><a href="#tcp-bbr" class="table-of-contents__link toc-highlight">TCP BBR</a></li><li><a href="#additive-increasemultiplicative-decrease-aimd" class="table-of-contents__link toc-highlight">Additive increase/multiplicative decrease (AIMD)</a></li></ul></li><li><a href="#concepts" class="table-of-contents__link toc-highlight">Concepts</a></li><li><a href="#mtu-maximum-transmission-unit" class="table-of-contents__link toc-highlight">MTU (Maximum Transmission Unit)</a></li><li><a href="#mss-maximum-segment-size" class="table-of-contents__link toc-highlight">MSS (Maximum Segment Size)</a></li><li><a href="#sequence-number-32-bits" class="table-of-contents__link toc-highlight">Sequence number (32 bits)</a></li><li><a href="#acknowledgement-number" class="table-of-contents__link toc-highlight">Acknowledgement number</a></li><li><a href="#relative-sequence-number" class="table-of-contents__link toc-highlight">Relative sequence number</a></li><li><a href="#next-sequence-number" class="table-of-contents__link toc-highlight">Next sequence number</a></li><li><a href="#selective-ack-sack" class="table-of-contents__link toc-highlight">Selective ACK (SACK)</a></li><li><a href="#duplicate-ack" class="table-of-contents__link toc-highlight">Duplicate ACK</a></li><li><a href="#flags-9-bits-aka-control-bits" class="table-of-contents__link toc-highlight">Flags (9 bits) (aka Control bits)</a></li><li><a href="#tcp-handshake-3-way-handshake-positive-acknowledgement-with-re-transmission--par" class="table-of-contents__link toc-highlight">TCP Handshake (3-way handshake) (Positive Acknowledgement with Re-transmission / PAR)</a></li><li><a href="#tcp-connection-termination" class="table-of-contents__link toc-highlight">TCP Connection Termination</a></li><li><a href="#problems" class="table-of-contents__link toc-highlight">Problems</a></li><li><a href="#peformance-enhancing-proxy" class="table-of-contents__link toc-highlight">Peformance-enhancing proxy</a></li><li><a href="#classification" class="table-of-contents__link toc-highlight">Classification</a></li><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a></li><li><a href="#tcp-split" class="table-of-contents__link toc-highlight">TCP Split</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>