<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-technologies/kafka/kafka-producers" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Kafka Producers | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/technologies/kafka/kafka-producers"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Kafka Producers | Deep Notes"><meta data-rh="true" name="description" content="The producer is the creator of the message in Kafka"><meta data-rh="true" property="og:description" content="The producer is the creator of the message in Kafka"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/technologies/kafka/kafka-producers"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/technologies/kafka/kafka-producers" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/technologies/kafka/kafka-producers" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Technologies","item":"https://deepaksood619.github.io/technologies/"},{"@type":"ListItem","position":2,"name":"Kafka","item":"https://deepaksood619.github.io/technologies/kafka/"},{"@type":"ListItem","position":3,"name":"Kafka Producers","item":"https://deepaksood619.github.io/technologies/kafka/kafka-producers"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(53, 120, 229)">


<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.9f55d0bd.css">
<script src="/assets/js/runtime~main.7b3a7cc3.js" defer="defer"></script>
<script src="/assets/js/main.c96be3a1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/deepaksood619" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.linkedin.com/in/deepaksood619/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/about-deepak-sood/">About Deepak Sood</a><button aria-label="Expand sidebar category &#x27;About Deepak Sood&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/computer-science/">Computer Science</a><button aria-label="Expand sidebar category &#x27;Computer Science&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-warehouses/">Data Warehouses</a><button aria-label="Expand sidebar category &#x27;Data Warehouses&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases/">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases-nosql/">NoSQL Databases</a><button aria-label="Expand sidebar category &#x27;NoSQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases-sql/">SQL Databases</a><button aria-label="Expand sidebar category &#x27;SQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/devops/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/education/">Education</a><button aria-label="Expand sidebar category &#x27;Education&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deepak&#x27;s Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/technologies/">Technologies</a><button aria-label="Collapse sidebar category &#x27;Technologies&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/apache/">Apache</a><button aria-label="Expand sidebar category &#x27;Apache&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/apache-airflow/">Airflow</a><button aria-label="Expand sidebar category &#x27;Airflow&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/apache-hadoop/">Apache Hadoop</a><button aria-label="Expand sidebar category &#x27;Apache Hadoop&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/apache-spark/">Apache Spark</a><button aria-label="Expand sidebar category &#x27;Apache Spark&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/brokers/">Brokers</a><button aria-label="Expand sidebar category &#x27;Brokers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/celery/">Celery</a><button aria-label="Expand sidebar category &#x27;Celery&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/confluent/">Confluent</a><button aria-label="Expand sidebar category &#x27;Confluent&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/elasticsearch/">Elasticsearch</a><button aria-label="Expand sidebar category &#x27;Elasticsearch&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/flink/">Apache Flink</a><button aria-label="Expand sidebar category &#x27;Apache Flink&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/git/">Git</a><button aria-label="Expand sidebar category &#x27;Git&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/technologies/kafka/">Kafka</a><button aria-label="Collapse sidebar category &#x27;Kafka&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/comparison">Comparison</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/installing-kafka">Installing Kafka</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/intro-to-kafka">Intro to Kafka</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-architecture">Kafka Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-brokers">Kafka Brokers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-commands">Kafka Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-configurations">Kafka Configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-connect">Kafka Connect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-consumers">Kafka Consumers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-guarantees">Kafka Guarantees</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-listeners">Kafka Listeners</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-message-key">Kafka Message Key</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-partitions">Partitions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/technologies/kafka/kafka-producers">Kafka Producers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-python">kafka-python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-rest-proxy">kafka-rest proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-schema-registry-compatibility-rules">Kafka Schema Registry Compatibility Rules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-schema-registry">Kafka Schema Registry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-streams">Kafka Streams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-topic-replication">Kafka Topic/Replication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafka-topics">Kafka Topics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kafkacat-kcat">kafkacat / kcat</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/kraft">Kafka without Zookeeper (Kafka with KRaft Mode)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/log-compaction">Log Compaction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/migration-mirroring-replication">Migration / Mirroring / Replication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/releases-upgrades-changelogs">Releases / Upgrades / Change logs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/kafka/security/">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/strimzi">Strimzi</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technologies/kafka/use-cases">Use Cases</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/technologies/others/">Others</a><button aria-label="Expand sidebar category &#x27;Others&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/technologies/"><span>Technologies</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/technologies/kafka/"><span>Kafka</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Kafka Producers</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Kafka Producers</h1></header>
<p>The producer is the creator of the message in Kafka</p>
<ul>
<li>The producers place the message to a particular topic</li>
<li>The producers also decide which partition to place the message into</li>
<li>Topics should already exist before a message is placed by the producer</li>
<li>Messages are added at one end of the partition</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/Technologies-Kafka-Kafka-Producers-image1-0d08afe3652975835dcc548e20cbb763.jpg" width="1000" height="1106" class="img_ev3q"></p>
<ul>
<li>We start producing messages to Kafka by creating a ProducerRecord, which must include the topic we want to send the record to and a value. Optionally, we can also specifiy a key and/or a partition. Once we send the ProducerRecord, the first thing the producer will do is serialize the key and value objects to ByteArrays so they can be send over the network.</li>
<li>Next, the data is sent to a partitioner. If we specified a partition in the ProducerRecord, the partitioner doesn&#x27;t do anything and simply returns the partition we specified. If we didn&#x27;t, the partitioner will choose a partition for us, usually based on the ProducerRecord key. Once a partition is selected, the producer knows which topic and partition the record will go to. It then adds the record to a batch of records that will also be sent to the same topic and partition. A separate thread is responsible for sending those batches of records to the appropriate Kafka brokers.<!-- -->
<ul>
<li>Kafka&#x27;s default partitioner routes messages based on the k<strong>ey&#x27;s hash, unless the key is null in which case it uses round robin to distribute messages.</strong></li>
</ul>
</li>
<li>When the broker receives the messages, it sends back a response. If the messages were successfully written to Kafka, it will return a RecordMetadata object with the topic, partition, and the offset of the record within the partition. If the broker failed to write the messages, it will return an error. When the producer receives an error, it may retry sending the message a few more times before giving up and returning an error.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="three-primary-methods-of-sending-messages">Three primary methods of sending messages<a href="#three-primary-methods-of-sending-messages" class="hash-link" aria-label="Direct link to Three primary methods of sending messages" title="Direct link to Three primary methods of sending messages">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fire-and-forget">Fire-and-forget<a href="#fire-and-forget" class="hash-link" aria-label="Direct link to Fire-and-forget" title="Direct link to Fire-and-forget">​</a></h3>
<p>We send a message to the server and don&#x27;t really care if it arrives succesfully or not. Most of the time, it will arrive successfully, since Kafka is highly available and the producer will retry sending messages automatically. However, some messages will get lost using this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="synchronous-send">Synchronous send<a href="#synchronous-send" class="hash-link" aria-label="Direct link to Synchronous send" title="Direct link to Synchronous send">​</a></h3>
<p>We send a message, the send() method returns a Future object, and we use get() to wait on the future and see if the send() was successful or not</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="asynchronous-send">Asynchronous send<a href="#asynchronous-send" class="hash-link" aria-label="Direct link to Asynchronous send" title="Direct link to Asynchronous send">​</a></h3>
<p>We call the send() method with a callback function, which gets triggered when it receives a response from the Kafka broker</p>
<ul>
<li><em>ProducerRecord</em></li>
<li>Handling Errors</li>
<li>Configuration options</li>
<li>Different Partitioning Methods, partitioners</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="serializers">Serializers<a href="#serializers" class="hash-link" aria-label="Direct link to Serializers" title="Direct link to Serializers">​</a></h2>
<ul>
<li>Thrift</li>
<li>Protobuf</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="avro">Avro<a href="#avro" class="hash-link" aria-label="Direct link to Avro" title="Direct link to Avro">​</a></h3>
<p>One of the most interesting features of Avro, and what makes it a good fit for use in a messaging system like Kafka, is that when the application that is writing messages switches to a new schema, the application reading the data can continue processing messages without requiring any change or update.</p>
<ul>
<li>Kafka has a binary wire protocol, so anyone can read messages from Kafka or write messages to Kafka simply by sending the correct byte sequences to Kafka&#x27;s network port.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-avro-records-with-kafka">Using Avro records with Kafka<a href="#using-avro-records-with-kafka" class="hash-link" aria-label="Direct link to Using Avro records with Kafka" title="Direct link to Using Avro records with Kafka">​</a></h3>
<ul>
<li>Unlike Avro files, where storing the entire schema in the data file is associated with a fairly reasonable overhead, storing the entire schema in each record will usually more than double the record size. However, Avro still requires the entire schema to be present when reading the record, so we need to locate the schema elsewhere. To achieve this, we follow a common architecture pattern and use a <em>Schema Registry</em>.</li>
<li>The idea is to store all the schemas used to write data to Kafka in the registry. Then we simply store the identifier for the schema in the record we produce to Kafka. The consumers can then use the identifier to pull the record out of the schema registry and deserialize the data. The key is that all this work - storing the schema in the reg‐ istry and pulling it up when required - is done in the serializers and deserializers. The code that produces data to Kafka simply uses the Avro serializer just like it would any other serializer.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/Technologies-Kafka-Kafka-Producers-image2-9c9a7d875cf3654a315ba265e94f7b5b.jpg" width="996" height="478" class="img_ev3q"></p>
<ul>
<li><strong>Partitions</strong>
<ul>
<li>Keys serve two goals: they are additional information that gets stored with the message, and they are also used to decide which one of the topic partitions the message will be written to. All messages with the same key will go to the same partition.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="partitioners---dynamic-partition-assignment">Partitioners - Dynamic Partition Assignment<a href="#partitioners---dynamic-partition-assignment" class="hash-link" aria-label="Direct link to Partitioners - Dynamic Partition Assignment" title="Direct link to Partitioners - Dynamic Partition Assignment">​</a></h2>
<p>In dynamic multi-tenant environments, tenants might not have equal traffic. Some tenants may generate a high volume of messages, while others contribute minimally. Using dynamic partition assignment with tenant IDs can help distribute messages evenly by adjusting partition counts and reassigning tenants dynamically.</p>
<ul>
<li><strong>Load Balancing:</strong> This helps avoid overloaded partitions when certain tenants generate more traffic. Kafka can handle dynamic rebalancing based on the load, ensuring fair distribution across partitions.</li>
<li><strong>Hotspot Prevention:</strong> Dynamic reassignment mitigates the risk of certain partitions becoming &quot;hotspots&quot; due to uneven traffic from larger tenants.</li>
</ul>
<p>It is important to clarify a key architectural distinction upfront: Standard Apache Kafka <strong>does not</strong> automatically reassign specific Tenant IDs to different partitions based on live traffic load out of the box.</p>
<p>The capability you described—dynamically routing specific tenants to specific partitions based on their real-time volume—is achieved through an architectural pattern often called <strong>&quot;Smart Partitioning&quot;</strong> or <strong>&quot;Virtual Partitioning.&quot;</strong></p>
<p>This is achieved by moving away from the default hashing mechanism (<code>hash(TenantID) % PartitionCount</code>) and implementing a control layer that dictates exactly where each tenant&#x27;s data goes.</p>
<p>Here is the detailed breakdown of how this architecture is achieved.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-the-core-architecture-decoupling-logical-from-physical">1. The Core Architecture: Decoupling Logical from Physical<a href="#1-the-core-architecture-decoupling-logical-from-physical" class="hash-link" aria-label="Direct link to 1. The Core Architecture: Decoupling Logical from Physical" title="Direct link to 1. The Core Architecture: Decoupling Logical from Physical">​</a></h3>
<p>In a standard setup, a tenant is permanently bound to a partition by their ID. In a <strong>Dynamic Assignment</strong> setup, you introduce a layer of indirection.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="a-the-metadata-store-the-brain">A. The Metadata Store (The &quot;Brain&quot;)<a href="#a-the-metadata-store-the-brain" class="hash-link" aria-label="Direct link to A. The Metadata Store (The &quot;Brain&quot;)" title="Direct link to A. The Metadata Store (The &quot;Brain&quot;)">​</a></h4>
<p>You maintain a separate &quot;Routing Table&quot; or &quot;State Store&quot; (often kept in a fast database like Redis, Zookeeper, or a compacted Kafka topic). This table maps <strong>Logical Tenant IDs</strong> to <strong>Physical Partition IDs</strong>.</p>
<table><thead><tr><th><strong>Tenant ID</strong></th><th><strong>Assigned Partition(s)</strong></th><th><strong>Status</strong></th></tr></thead><tbody><tr><td>Tenant_A (Small)</td><td>Partition 0</td><td>Shared</td></tr><tr><td>Tenant_B (Small)</td><td>Partition 0</td><td>Shared</td></tr><tr><td><strong>Tenant_C (Huge)</strong></td><td><strong>Partition 1, 2, 3</strong></td><td><strong>Dedicated/Sharded</strong></td></tr><tr><td>Tenant_D (Medium)</td><td>Partition 4</td><td>Dedicated</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="b-the-smart-producer-custom-partitioner">B. The Smart Producer (Custom Partitioner)<a href="#b-the-smart-producer-custom-partitioner" class="hash-link" aria-label="Direct link to B. The Smart Producer (Custom Partitioner)" title="Direct link to B. The Smart Producer (Custom Partitioner)">​</a></h4>
<p>You must implement a <strong>Custom Partitioner</strong> in your Kafka Producer configuration.</p>
<ol>
<li><strong>Fetch Map:</strong> When the producer starts (and periodically afterwards), it fetches the &quot;Routing Table&quot; from the Metadata Store.</li>
<li><strong>Intercept Record:</strong> When a message comes in for <code>Tenant_C</code>, the producer does <em>not</em> hash the ID.</li>
<li><strong>Look up:</strong> It looks at its local cache of the table: <em>&quot;Where does Tenant_C go currently?&quot;</em></li>
<li><strong>Dispatch:</strong> It sees <code>Tenant_C</code> is assigned to Partitions 1, 2, and 3. It then uses a round-robin or sticky strategy to send the message to one of those specific partitions.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-achieving-hotspot-prevention--load-balancing">2. Achieving Hotspot Prevention &amp; Load Balancing<a href="#2-achieving-hotspot-prevention--load-balancing" class="hash-link" aria-label="Direct link to 2. Achieving Hotspot Prevention &amp; Load Balancing" title="Direct link to 2. Achieving Hotspot Prevention &amp; Load Balancing">​</a></h3>
<p>Here is the workflow for how the system dynamically adjusts to traffic spikes (Hotspot Prevention):</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-observation-the-metrics">Step 1: Observation (The Metrics)<a href="#step-1-observation-the-metrics" class="hash-link" aria-label="Direct link to Step 1: Observation (The Metrics)" title="Direct link to Step 1: Observation (The Metrics)">​</a></h4>
<p>An external monitoring process (The &quot;Observer&quot;) watches the throughput metrics of the topics.</p>
<ul>
<li><em>Scenario:</em> <code>Tenant_A</code> was small and shared Partition 0 with 50 other tenants. Suddenly, <code>Tenant_A</code> starts sending 10,000 events/sec.</li>
<li><em>Alert:</em> Partition 0 lag spikes, and the Observer identifies <code>Tenant_A</code> as the source of the volume.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-decision-the-reassignment">Step 2: Decision (The Reassignment)<a href="#step-2-decision-the-reassignment" class="hash-link" aria-label="Direct link to Step 2: Decision (The Reassignment)" title="Direct link to Step 2: Decision (The Reassignment)">​</a></h4>
<p>The Observer decides to isolate <code>Tenant_A</code> to prevent it from starving the other small tenants on Partition 0.</p>
<ol>
<li>It selects a currently under-utilized partition (e.g., Partition 5).</li>
<li>It updates the <strong>Metadata Store</strong>:<!-- -->
<ul>
<li><code>Tenant_A</code> -&gt; <code>Partition 5</code></li>
</ul>
</li>
<li>(Optional) If <code>Tenant_A</code> is too big for <em>any</em> single partition, the Observer assigns it multiple partitions (<code>Partition 5, 6, 7</code>).</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-propagation">Step 3: Propagation<a href="#step-3-propagation" class="hash-link" aria-label="Direct link to Step 3: Propagation" title="Direct link to Step 3: Propagation">​</a></h4>
<p>The Kafka Producers (which are polling the Metadata Store for updates) detect the change. They update their internal routing map.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-execution">Step 4: Execution<a href="#step-4-execution" class="hash-link" aria-label="Direct link to Step 4: Execution" title="Direct link to Step 4: Execution">​</a></h4>
<p>The very next message produced for <code>Tenant_A</code> is routed directly to Partition 5. Partition 0 cools down, and the other tenants there return to normal latency.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-advanced-strategies-for-elephant-tenants">3. Advanced Strategies for &quot;Elephant&quot; Tenants<a href="#3-advanced-strategies-for-elephant-tenants" class="hash-link" aria-label="Direct link to 3. Advanced Strategies for &quot;Elephant&quot; Tenants" title="Direct link to 3. Advanced Strategies for &quot;Elephant&quot; Tenants">​</a></h3>
<p>The prompt mentions &quot;reassigning tenants.&quot; There are two main ways to handle a tenant that becomes too large:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-tenant-isolation-dedicated-partition">1. Tenant Isolation (Dedicated Partition)<a href="#1-tenant-isolation-dedicated-partition" class="hash-link" aria-label="Direct link to 1. Tenant Isolation (Dedicated Partition)" title="Direct link to 1. Tenant Isolation (Dedicated Partition)">​</a></h4>
<p>You give the high-volume tenant their own partition. This ensures their traffic does not impact the &quot;Noisy Neighbor&quot; tenants, and their consumer lag does not delay the processing of other tenants&#x27; data.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-tenant-sharding-sub-partitioning">2. Tenant Sharding (Sub-Partitioning)<a href="#2-tenant-sharding-sub-partitioning" class="hash-link" aria-label="Direct link to 2. Tenant Sharding (Sub-Partitioning)" title="Direct link to 2. Tenant Sharding (Sub-Partitioning)">​</a></h4>
<p>If a single tenant produces more data than a single partition/consumer can handle (e.g., 50MB/s), mapping them to one partition isn&#x27;t enough.</p>
<ul>
<li><strong>Technique:</strong> The Metadata Store assigns <code>Tenant_Huge</code> to a <strong>list</strong> of partitions: <code>[10, 11, 12]</code>.</li>
<li><strong>Producer Logic:</strong> When sending data for <code>Tenant_Huge</code>, the producer uses a secondary key (like <code>UserID</code> or <code>TransactionID</code> within that tenant) to round-robin across partitions 10, 11, and 12. This allows you to consume that single tenant&#x27;s data in parallel.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-critical-challenge-the-ordering-guarantee">4. Critical Challenge: The Ordering Guarantee<a href="#4-critical-challenge-the-ordering-guarantee" class="hash-link" aria-label="Direct link to 4. Critical Challenge: The Ordering Guarantee" title="Direct link to 4. Critical Challenge: The Ordering Guarantee">​</a></h3>
<p>There is a massive trade-off you must manage: <strong>Message Ordering.</strong></p>
<p>Kafka only guarantees ordering <em>within</em> a partition. If you dynamically move <code>Tenant_A</code> from Partition 0 to Partition 5:</p>
<ol>
<li>Messages 1-100 are on Partition 0 (waiting to be consumed).</li>
<li>You switch the map.</li>
<li>Message 101 goes to Partition 5.</li>
<li>If the consumer for Partition 5 is faster than the consumer for Partition 0, <strong>Message 101 might be processed before Message 100.</strong></li>
</ol>
<p><strong>How to solve this?</strong></p>
<ul>
<li><strong>The &quot;Stop-and-Wait&quot; Approach:</strong> The system must signal the producer to stop sending data for <code>Tenant_A</code>, wait for Partition 0 to be fully consumed (lag = 0), and <em>then</em> update the map to point to Partition 5.</li>
<li><strong>Accepting Out-of-Order:</strong> For some use cases (e.g., logging), strict ordering isn&#x27;t required, and you can switch immediately.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary-of-components">Summary of Components<a href="#summary-of-components" class="hash-link" aria-label="Direct link to Summary of Components" title="Direct link to Summary of Components">​</a></h3>
<table><thead><tr><th><strong>Component</strong></th><th><strong>Responsibility in Dynamic Assignment</strong></th></tr></thead><tbody><tr><td><strong>Metrics Collector</strong></td><td>Monitors throughput per tenant/partition to detect hotspots.</td></tr><tr><td><strong>Control Plane</strong></td><td>Calculates fair distribution and updates the Tenant-to-Partition map.</td></tr><tr><td><strong>Metadata Store</strong></td><td>Holds the &quot;Source of Truth&quot; map (e.g., Zookeeper, Redis).</td></tr><tr><td><strong>Smart Producer</strong></td><td>Consults the map to route messages to the correct physical partition.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="links">Links<a href="#links" class="hash-link" aria-label="Direct link to Links" title="Direct link to Links">​</a></h2>
<ul>
<li><a href="https://www.jesseyates.com/2020/01/01/high-performance-kafka-producers.html" target="_blank" rel="noopener noreferrer">https://www.jesseyates.com/2020/01/01/high-performance-kafka-producers.html</a></li>
<li><a href="https://developer.confluent.io/courses/architecture/producer-hands-on/" target="_blank" rel="noopener noreferrer">Tutorial: How to Tune the Kafka Producer Client</a></li>
<li><a href="https://developer.confluent.io/tutorials/optimize-producer-throughput/confluent.html" target="_blank" rel="noopener noreferrer">How to optimize your Kafka producer for throughput using Confluent</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/technologies/kafka/kafka-producers.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-01-28T11:16:30.000Z" itemprop="dateModified">Jan 28, 2026</time></b> by <b>Deepak Sood</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/technologies/kafka/kafka-partitions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Partitions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/technologies/kafka/kafka-python"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">kafka-python</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#three-primary-methods-of-sending-messages" class="table-of-contents__link toc-highlight">Three primary methods of sending messages</a><ul><li><a href="#fire-and-forget" class="table-of-contents__link toc-highlight">Fire-and-forget</a></li><li><a href="#synchronous-send" class="table-of-contents__link toc-highlight">Synchronous send</a></li><li><a href="#asynchronous-send" class="table-of-contents__link toc-highlight">Asynchronous send</a></li></ul></li><li><a href="#serializers" class="table-of-contents__link toc-highlight">Serializers</a><ul><li><a href="#avro" class="table-of-contents__link toc-highlight">Avro</a></li><li><a href="#using-avro-records-with-kafka" class="table-of-contents__link toc-highlight">Using Avro records with Kafka</a></li></ul></li><li><a href="#partitioners---dynamic-partition-assignment" class="table-of-contents__link toc-highlight">Partitioners - Dynamic Partition Assignment</a><ul><li><a href="#1-the-core-architecture-decoupling-logical-from-physical" class="table-of-contents__link toc-highlight">1. The Core Architecture: Decoupling Logical from Physical</a></li><li><a href="#2-achieving-hotspot-prevention--load-balancing" class="table-of-contents__link toc-highlight">2. Achieving Hotspot Prevention &amp; Load Balancing</a></li><li><a href="#3-advanced-strategies-for-elephant-tenants" class="table-of-contents__link toc-highlight">3. Advanced Strategies for &quot;Elephant&quot; Tenants</a></li><li><a href="#4-critical-challenge-the-ordering-guarantee" class="table-of-contents__link toc-highlight">4. Critical Challenge: The Ordering Guarantee</a></li><li><a href="#summary-of-components" class="table-of-contents__link toc-highlight">Summary of Components</a></li></ul></li><li><a href="#links" class="table-of-contents__link toc-highlight">Links</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>