<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-devops/kubernetes/services-loadbalancing-and-networking/readme" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Services, LoadBalancing and Networking | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_compressed.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_compressed.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/devops/kubernetes/services-loadbalancing-and-networking/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Services, LoadBalancing and Networking | Deep Notes"><meta data-rh="true" name="description" content="1. Services"><meta data-rh="true" property="og:description" content="1. Services"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/devops/kubernetes/services-loadbalancing-and-networking/"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/devops/kubernetes/services-loadbalancing-and-networking/" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/devops/kubernetes/services-loadbalancing-and-networking/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(53, 120, 229)">

<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.de817004.css">
<script src="/assets/js/runtime~main.ea241f5b.js" defer="defer"></script>
<script src="/assets/js/main.8b889e2b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepaksood619" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.linkedin.com/in/deepaksood619/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/about-deepak-sood/">About Deepak Sood</a><button aria-label="Expand sidebar category &#x27;About Deepak Sood&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/computer-science/">Computer Science</a><button aria-label="Expand sidebar category &#x27;Computer Science&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases/">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/devops/">DevOps</a><button aria-label="Collapse sidebar category &#x27;DevOps&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/ansible/">Ansible</a><button aria-label="Expand sidebar category &#x27;Ansible&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/devops-intro/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/docker/">Docker</a><button aria-label="Expand sidebar category &#x27;Docker&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/ides/">IDEs</a><button aria-label="Expand sidebar category &#x27;IDEs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/devops/kubernetes/">Kubernetes</a><button aria-label="Collapse sidebar category &#x27;Kubernetes&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/api-resources">api-resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/kubernetes/cluster-administration/">Cluster Administration</a><button aria-label="Expand sidebar category &#x27;Cluster Administration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/kubernetes/concepts-and-overview/">Concepts &amp; Overview</a><button aria-label="Expand sidebar category &#x27;Concepts &amp; Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/design-patterns">Design Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/helm">Helm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/intro">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/keda">KEDA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/kubectl-commands">kubectl Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/kubeedge">KubeEdge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/kubernetes-manifests-examples">Kubernetes Manifests Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/operators">Operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/optimizations">Optimizations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/outline-documentation">Outline Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/kubernetes/reference/">Reference</a><button aria-label="Expand sidebar category &#x27;Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/devops/kubernetes/services-loadbalancing-and-networking/">Services, LoadBalancing and Networking</a><button aria-label="Collapse sidebar category &#x27;Services, LoadBalancing and Networking&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/services-loadbalancing-and-networking/ingress">Ingress</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/services-loadbalancing-and-networking/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/services-loadbalancing-and-networking/services">Services</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/storage">Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/tasks">Tasks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/tools-scaling">Kubernetes Scaling Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/tools-serverless">Serverless Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/tools">Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/kubernetes/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/kubernetes/workloads/">Workloads</a><button aria-label="Expand sidebar category &#x27;Workloads&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/monitoring/">Monitoring</a><button aria-label="Expand sidebar category &#x27;Monitoring&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/others/">Other DevOps</a><button aria-label="Expand sidebar category &#x27;Other DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/servers/">Servers</a><button aria-label="Expand sidebar category &#x27;Servers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/terminal-bash/">Terminal Bash</a><button aria-label="Expand sidebar category &#x27;Terminal Bash&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/terraform/">Terraform</a><button aria-label="Expand sidebar category &#x27;Terraform&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deepak&#x27;s Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/devops/"><span itemprop="name">DevOps</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/devops/kubernetes/"><span itemprop="name">Kubernetes</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Services, LoadBalancing and Networking</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Services, LoadBalancing and Networking</h1></header>
<ol>
<li>Services</li>
<li>DNS for Services and Pods</li>
<li>Connecting Applications with Services</li>
<li>Ingress</li>
<li>Network Policies</li>
<li>Adding entries to Pod /etc/hosts with Host Aliases</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-networking">Kubernetes Networking<a href="#kubernetes-networking" class="hash-link" aria-label="Direct link to Kubernetes Networking" title="Direct link to Kubernetes Networking">​</a></h2>
<p>Pods - share a network stack, it means that all the containers in a pod can reach each other on localhost.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pod-network-architecture">Pod Network Architecture<a href="#pod-network-architecture" class="hash-link" aria-label="Direct link to Pod Network Architecture" title="Direct link to Pod Network Architecture">​</a></h2>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Kubernetes-Services-LoadBalancing-and-Networking-image1-d09fc302937bdceea6fffe1208016739.jpg" width="1000" height="797" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-network-architecture">Kubernetes Network Architecture<a href="#kubernetes-network-architecture" class="hash-link" aria-label="Direct link to Kubernetes Network Architecture" title="Direct link to Kubernetes Network Architecture">​</a></h2>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Kubernetes-Services-LoadBalancing-and-Networking-image2-69c00351d776110c9d5e8761d9c9a799.jpg" width="1000" height="797" class="img_ev3q"></p>
<p>cbr - custom bridge</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Kubernetes-Services-LoadBalancing-and-Networking-image3-68a022a2a666feea550ccc33f228ebee.jpg" width="999" height="780" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Kubernetes-Services-LoadBalancing-and-Networking-image4-34b9202adce7cef4457327d95c04f469.jpg" width="999" height="791" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Kubernetes-Services-LoadBalancing-and-Networking-image5-02a6ed4dcbc92dd5501b6da4c54adf5a.jpg" width="999" height="746" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="netfilter">Netfilter<a href="#netfilter" class="hash-link" aria-label="Direct link to Netfilter" title="Direct link to Netfilter">​</a></h2>
<p>Netfilter is a rules-based packet processing engine. It runs in kernel space and gets a look at every packet at various points in its life cycle. It matches packets against rules and when it finds a rule that matches it takes the specified action. Among the many actions it can take is redirecting the packet to another destination. That&#x27;s right, netfilter is a kernel space proxy.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-service-discovery">Kubernetes Service Discovery<a href="#kubernetes-service-discovery" class="hash-link" aria-label="Direct link to Kubernetes Service Discovery" title="Direct link to Kubernetes Service Discovery">​</a></h2>
<p>There&#x27;s two major operations that relate to service discovery:</p>
<ul>
<li>service registration</li>
<li>service discovery</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-registration">Service registration<a href="#service-registration" class="hash-link" aria-label="Direct link to Service registration" title="Direct link to Service registration">​</a></h2>
<p>Service registration is the process of registering a service in a service registry so that other services can discover it.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Kubernetes-Services-LoadBalancing-and-Networking-image6-6ad9669b8e51edeb76967341df90d8aa.jpg" width="998" height="435" class="img_ev3q"></p>
<p>Kubernetes uses DNS for the service registry.</p>
<p>To enable this, every Kubernetes cluster operates a well-known internal DNS service that runs as a set of Pods in the kube-system Namespace. We usually call this the &quot;cluster DNS&quot;.</p>
<p>Every Kubernetes Service is automatically registered with the cluster DNS.</p>
<p>The registration process looks like this:</p>
<ul>
<li>You POST a new Service definition to the API Server</li>
<li>The request is authenticated, authorized, and subjected to admission policies</li>
<li>The Service is allocated a ClusterIP (virtual IP address) and persisted to the cluster store</li>
<li>The Service configuration is disseminated across the cluster (more on this later)</li>
<li>The cluster&#x27;s DNS service notices the new Service and creates the necessaryDNS A records</li>
</ul>
<p>Step 5 is the secret sauce in this process. The cluster DNS service is based on <a href="https://coredns.io/" target="_blank" rel="noopener noreferrer">CoreDNS</a> and runs as a Kubernetes-native application. This means that it knows it&#x27;s running on Kubernetes and implements a controller that watches the API Server for new Service objects. Any time it sees a new Service object, it creates the DNS records that allow the Service name to be resolved to its ClusterIP. This means that Services don&#x27;t have to care about the process of registering with DNS, the CoreDNS controller watches for new Service objects and makes the DNS magic happen.</p>
<p>It&#x27;s important to understand that the name registered with DNS is the value of metadata.name and that the ClusterIP is dynamically assigned by Kubernetes.</p>
<p><img decoding="async" loading="lazy" alt="image" src="data:image/jpeg;base64,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" width="999" height="299" class="img_ev3q"></p>
<p>Once a Service is registered with the cluster&#x27;s DNS it can be discovered by other Pods running on the cluster...</p>
<p><a href="https://blog.careers360.de/magic-of-ndots-how-we-fixed-our-coredns/" target="_blank" rel="noopener noreferrer">Magic of ndots : How we fixed our coredns issue</a></p>
<ul>
<li>The ndots parameter is a setting in the pod&#x27;s DNS configuration that affects how Kubernetes processes unqualified domain names (names without dots, like service-a). The value of ndots defines the minimum number of dots that a name needs before the DNS resolver considers it &quot;qualified&quot; and tries resolving it as-is.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-discovery">Service Discovery<a href="#service-discovery" class="hash-link" aria-label="Direct link to Service Discovery" title="Direct link to Service Discovery">​</a></h2>
<p>For service discovery to work, every Pod needs to know know the location of the cluster DNS and use it. To make this work, every container in every Pod has its <code>/etc/resolv.conf</code> file configured to use the cluster DNS.</p>
<p>Every Kubernetes node runs a system service called kube-proxy. This is a Pod-based Kubernetes native app that implements a controller that watches the API Server for new Service objects and creates local ip tables, or IPVS, rules that tell the Node to trap on packets destined for the service network and forward them to individual Pod IPs.</p>
<blockquote>
<p>Interestingly, kube-proxy is not a proxy in the normal sense of the term. All it does is create and manage iptables/IPVS rules. The name comes from the fact it used to run with a userspace proxy.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<p>When a new Service is created it is allocated a virtual IP address called a ClusterIP. This is automatically registered against the name of the Service in the cluster&#x27;s internal DNS and relevant Endpoints objects (or Endpoints slices) are created to hold the list of healthy Pods with that the Service will load-balance to.</p>
<p>At the same time, all Nodes in the cluster are configured with the iptables/IPVS rules that listen for traffic to this ClusterIP and redirect it to real Pod IPs. The is summarised in the image below, though the ordering of some events might be slightly different..</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Kubernetes-Services-LoadBalancing-and-Networking-image8-bbc0f5fc89533443f417e281427e43d1.jpg" width="998" height="273" class="img_ev3q"></p>
<p>When a Pod needs to connect to another Pod, it does this via a Service. It sends a query to the cluster DNS to resolve the name of the Service to its ClusterIP and then send traffic to the ClusterIP. This ClusterIP is on a special network called theService network.However, there are no routes to theService network, so the Pod sends traffic to its default gateway. This gets forwarded to an interface on the Node the Pod is running, and eventually the default gateway of the Node. As part of this operation, the Node&#x27;s kernel traps on the address and rewrites the destination IP field in the packet header so that it now goes to the IP of a healthy Pod.</p>
<p>This is summarised in the image below.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Kubernetes-Services-LoadBalancing-and-Networking-image9-3ff604580d8fc0918b14ff80a8b1bdf9.jpg" width="1000" height="410" class="img_ev3q"></p>
<p>Last but not least... all Pods are on the same flat overlay network and routes exist to this network and the rest is simple.</p>
<p><a href="https://nigelpoulton.com/blog/f/demystifying-kubernetes-service-discovery" target="_blank" rel="noopener noreferrer">https://nigelpoulton.com/blog/f/demystifying-kubernetes-service-discovery</a></p>
<p><a href="https://hwchiu.medium.com/fun-dns-facts-learned-from-the-kind-environment-241e0ea8c6d4" target="_blank" rel="noopener noreferrer">Fun DNS Facts Learned from the KIND Environment | by HungWei Chiu | Medium</a></p>
<ol>
<li>Docker has an integrated DNS server to handle DNS requests between Docker containers.</li>
<li>Docker simplifies the deployment and operation of DNS through iptables and namespaces.</li>
<li>Kubernetes’ CoreDNS is influenced by Docker DNS by default due to /etc/resolve modifications.</li>
<li>KIND modifies these rules twice to correct all routes, ensuring DNS forwarding.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="others">Others<a href="#others" class="hash-link" aria-label="Direct link to Others" title="Direct link to Others">​</a></h2>
<ul>
<li>Kubernetes performs IP address management (<strong>IPAM</strong>) to keep track of used and free IP addresses on the Pod network.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="source-ip-preservation-in-loadbalancer">Source ip preservation in loadbalancer<a href="#source-ip-preservation-in-loadbalancer" class="hash-link" aria-label="Direct link to Source ip preservation in loadbalancer" title="Direct link to Source ip preservation in loadbalancer">​</a></h2>
<p><code>kubectl patch svc flask-republisher -n testing -p &#x27;{&quot;spec&quot;:{&quot;externalTrafficPolicy&quot;:&quot;Local&quot;}}&#x27;</code></p>
<p><a href="https://kubernetes.io/docs/tutorials/services/source-ip" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/tutorials/services/source-ip</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kube-proxy">Kube-proxy<a href="#kube-proxy" class="hash-link" aria-label="Direct link to Kube-proxy" title="Direct link to Kube-proxy">​</a></h2>
<p>Kube-proxy is a go application which can work in three modes:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="userspace">userspace<a href="#userspace" class="hash-link" aria-label="Direct link to userspace" title="Direct link to userspace">​</a></h3>
<p>In this mode, Kube-proxy installs iptables rules which capture traffic to a Service&#x27;s ClusterIP and redirects that traffic to Kube-proxy&#x27;s listening port. Kube-proxy then chooses a backend Pod and forwards the request to it.</p>
<p>kube-proxy serves as an OSI layer 4 load balancer in this model. Since Kube-proxy runs in the userspace, packages need to be copied back and forth between kernelspace and userspace, adding extra latency in the proxy process. The advantage is that Kube-proxy can retry other Pod if the first Pod is not available.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Kubernetes-Services-LoadBalancing-and-Networking-image10-efd02f1aa660cf0e00601d0a901f0338.jpg" width="999" height="563" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="iptables">iptables<a href="#iptables" class="hash-link" aria-label="Direct link to iptables" title="Direct link to iptables">​</a></h3>
<p>To avoid the additional copies between kernelspace and userspace, Kube-proxy can work on iptables mode. Kube-proxy creates an iptables rule for each of the backend Pods in the Service. After catching the traffic sent to the ClusterIP, iptables forwards that traffic directly to one of the backend Pod using DNAT. In this mode, Kube-proxy no longer serves as the OSI layer 4 proxy. It only creates corresponding iptables rules. Without switching between kernelspace and userspace, the proxy process is more efficient.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Kubernetes-Services-LoadBalancing-and-Networking-image11-cb1dbace00d1451ce69659db95f05e83.jpg" width="1000" height="749" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ipvs">ipvs<a href="#ipvs" class="hash-link" aria-label="Direct link to ipvs" title="Direct link to ipvs">​</a></h3>
<p>This model is similar to iptables because both ipvs and iptables are base on netfilter hook in kernelspace. Ipvs uses hash tables to store rules, meaning it&#x27;s faster than iptables, especially in a large cluster where there&#x27;re thousands of services. In addition, ipvs supports more load balancing algorithms.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Kubernetes-Services-LoadBalancing-and-Networking-image12-7b9e22212d18ba2e9b1b20c98c921b9e.jpg" width="999" height="702" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ip-tables">ip tables<a href="#ip-tables" class="hash-link" aria-label="Direct link to ip tables" title="Direct link to ip tables">​</a></h2>
<p><a href="https://docs.google.com/drawings/d/1MtWL8qRTs6PlnJrW4dh8135_S9e2SaawT410bJuoBPk/edit" target="_blank" rel="noopener noreferrer">https://docs.google.com/drawings/d/1MtWL8qRTs6PlnJrW4dh8135_S9e2SaawT410bJuoBPk/edit</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ul>
<li><a href="https://medium.com/google-cloud/understanding-kubernetes-networking-pods-7117dd28727" target="_blank" rel="noopener noreferrer">https://medium.com/google-cloud/understanding-kubernetes-networking-pods-7117dd28727</a></li>
<li><a href="https://medium.com/google-cloud/understanding-kubernetes-networking-services-f0cb48e4cc82" target="_blank" rel="noopener noreferrer">https://medium.com/google-cloud/understanding-kubernetes-networking-services-f0cb48e4cc82</a></li>
<li><a href="https://medium.com/google-cloud/understanding-kubernetes-networking-ingress-1bc341c84078" target="_blank" rel="noopener noreferrer">https://medium.com/google-cloud/understanding-kubernetes-networking-ingress-1bc341c84078</a></li>
<li><a href="https://sookocheff.com/post/kubernetes/understanding-kubernetes-networking-model" target="_blank" rel="noopener noreferrer">https://sookocheff.com/post/kubernetes/understanding-kubernetes-networking-model</a></li>
<li><a href="https://www.youtube.com/watch?v=0Omvgd7Hg1I" target="_blank" rel="noopener noreferrer">Life of a Packet [I] - Michael Rubin, Google - YouTube</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cni">CNI<a href="#cni" class="hash-link" aria-label="Direct link to CNI" title="Direct link to CNI">​</a></h2>
<p>The <a href="https://github.com/containernetworking/cni" target="_blank" rel="noopener noreferrer">Container Network Interface</a>(CNI) is an API specification that is focused around the creation and connection of container workloads.</p>
<p>CNI has two main commands: add and delete. Configuration is passed in as JSON data.</p>
<p>When the CNI plugin is added, a virtual ethernet device pair is created and then connected between the Pod network namespace and the Host network namespace. Once IPs and routes are created and assigned, the information is returned to the Kubernetes API server.</p>
<p>An important feature that was added in later versions is the ability to chain CNI plugins.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="calico">Calico<a href="#calico" class="hash-link" aria-label="Direct link to Calico" title="Direct link to Calico">​</a></h2>
<p>Calico is an open source networking and network security solution for containers, virtual machines, and native host-based workloads. Calico supports a broad range of platforms including Kubernetes, OpenShift, Docker EE, OpenStack, and bare metal services.</p>
<p>Calico combines flexible networking capabilities with run-anywhere security enforcement to provide a solution with native Linux kernel performance and true cloud-native scalability. Calico provides developers and cluster operators with a consistent experience and set of capabilities whether running in public cloud or on-prem, on a single node or across a multi-thousand node cluster.</p>
<ul>
<li><a href="https://docs.projectcalico.org/v3.11/introduction" target="_blank" rel="noopener noreferrer">https://docs.projectcalico.org/v3.11/introduction</a></li>
<li><a href="https://github.com/projectcalico/calico" target="_blank" rel="noopener noreferrer">https://github.com/projectcalico/calico</a></li>
<li><a href="https://www.projectcalico.org" target="_blank" rel="noopener noreferrer">https://www.projectcalico.org</a></li>
<li><a href="https://eksworkshop.com/beginner/120_network-policies/calico" target="_blank" rel="noopener noreferrer">https://eksworkshop.com/beginner/120_network-policies/calico</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="others-1">Others<a href="#others-1" class="hash-link" aria-label="Direct link to Others" title="Direct link to Others">​</a></h3>
<ul>
<li>Calico with Canal - <a href="https://docs.projectcalico.org/v3.0/getting-started/kubernetes/installation/hosted/canal" target="_blank" rel="noopener noreferrer">https://docs.projectcalico.org/v3.0/getting-started/kubernetes/installation/hosted/canal</a></li>
<li>Weave Works - <a href="https://www.weave.works/docs/net/latest/kubernetes/kube-addon" target="_blank" rel="noopener noreferrer">https://www.weave.works/docs/net/latest/kubernetes/kube-addon</a></li>
<li>Flannel - <a href="https://github.com/coreos/flannel" target="_blank" rel="noopener noreferrer">https://github.com/coreos/flannel</a></li>
<li>Romana - <a href="http://romana.io/how/romana_basics" target="_blank" rel="noopener noreferrer">http://romana.io/how/romana_basics</a></li>
<li>Kube Router - <a href="https://www.kube-router.io" target="_blank" rel="noopener noreferrer">https://www.kube-router.io</a></li>
<li>Kopeio - <a href="https://github.com/kopeio/networking" target="_blank" rel="noopener noreferrer">https://github.com/kopeio/networking</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="questions">Questions<a href="#questions" class="hash-link" aria-label="Direct link to Questions" title="Direct link to Questions">​</a></h3>
<ul>
<li>Which of the plugins allow vxlans? - Canal, Project Calico, Flannel, Kopeio-networking, Weave Net</li>
<li>Which are layer 2 plugins? - Canal, Flannel, Kopeio-networking, Weave Net</li>
<li>Which are layer 3? - Project Calico, Romana, Kube Router</li>
<li>Which allow network policies? - Project Calico, Canal, Kube Router, Romana Weave Net</li>
<li>Which can encrypt all TCP and UDP traffic? - Project Calico, Kopeio, Weave Net</li>
</ul>
<p><a href="https://github.com/containernetworking/cni" target="_blank" rel="noopener noreferrer">https://github.com/containernetworking/cni</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/devops/kubernetes/services-loadbalancing-and-networking/readme.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-11-18T16:30:39.000Z" itemprop="dateModified">Nov 18, 2024</time></b> by <b>Deepak</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/devops/kubernetes/reference/rbac"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">RBAC</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/devops/kubernetes/services-loadbalancing-and-networking/ingress"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ingress</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#kubernetes-networking" class="table-of-contents__link toc-highlight">Kubernetes Networking</a></li><li><a href="#pod-network-architecture" class="table-of-contents__link toc-highlight">Pod Network Architecture</a></li><li><a href="#kubernetes-network-architecture" class="table-of-contents__link toc-highlight">Kubernetes Network Architecture</a></li><li><a href="#netfilter" class="table-of-contents__link toc-highlight">Netfilter</a></li><li><a href="#kubernetes-service-discovery" class="table-of-contents__link toc-highlight">Kubernetes Service Discovery</a></li><li><a href="#service-registration" class="table-of-contents__link toc-highlight">Service registration</a></li><li><a href="#service-discovery" class="table-of-contents__link toc-highlight">Service Discovery</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#others" class="table-of-contents__link toc-highlight">Others</a></li><li><a href="#source-ip-preservation-in-loadbalancer" class="table-of-contents__link toc-highlight">Source ip preservation in loadbalancer</a></li><li><a href="#kube-proxy" class="table-of-contents__link toc-highlight">Kube-proxy</a><ul><li><a href="#userspace" class="table-of-contents__link toc-highlight">userspace</a></li><li><a href="#iptables" class="table-of-contents__link toc-highlight">iptables</a></li><li><a href="#ipvs" class="table-of-contents__link toc-highlight">ipvs</a></li></ul></li><li><a href="#ip-tables" class="table-of-contents__link toc-highlight">ip tables</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li><li><a href="#cni" class="table-of-contents__link toc-highlight">CNI</a></li><li><a href="#calico" class="table-of-contents__link toc-highlight">Calico</a><ul><li><a href="#others-1" class="table-of-contents__link toc-highlight">Others</a></li><li><a href="#questions" class="table-of-contents__link toc-highlight">Questions</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>