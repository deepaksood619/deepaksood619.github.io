<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-devops/servers/apache-server" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Apache Server | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/devops/servers/apache-server"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Apache Server | Deep Notes"><meta data-rh="true" name="description" content="Apache HTTP Server"><meta data-rh="true" property="og:description" content="Apache HTTP Server"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/devops/servers/apache-server"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/devops/servers/apache-server" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/devops/servers/apache-server" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"DevOps","item":"https://deepaksood619.github.io/devops/"},{"@type":"ListItem","position":2,"name":"Servers","item":"https://deepaksood619.github.io/devops/servers/"},{"@type":"ListItem","position":3,"name":"Apache Server","item":"https://deepaksood619.github.io/devops/servers/apache-server"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(53, 120, 229)">


<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.9f55d0bd.css">
<script src="/assets/js/runtime~main.7b3a7cc3.js" defer="defer"></script>
<script src="/assets/js/main.c96be3a1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/deepaksood619" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.linkedin.com/in/deepaksood619/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/about-deepak-sood/">About Deepak Sood</a><button aria-label="Expand sidebar category &#x27;About Deepak Sood&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/computer-science/">Computer Science</a><button aria-label="Expand sidebar category &#x27;Computer Science&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-warehouses/">Data Warehouses</a><button aria-label="Expand sidebar category &#x27;Data Warehouses&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases/">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases-nosql/">NoSQL Databases</a><button aria-label="Expand sidebar category &#x27;NoSQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases-sql/">SQL Databases</a><button aria-label="Expand sidebar category &#x27;SQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/devops/">DevOps</a><button aria-label="Collapse sidebar category &#x27;DevOps&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/ansible/">Ansible</a><button aria-label="Expand sidebar category &#x27;Ansible&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/devops-intro/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/docker/">Docker</a><button aria-label="Expand sidebar category &#x27;Docker&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/ides/">IDEs</a><button aria-label="Expand sidebar category &#x27;IDEs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/kubernetes/">Kubernetes</a><button aria-label="Expand sidebar category &#x27;Kubernetes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/monitoring/">Monitoring</a><button aria-label="Expand sidebar category &#x27;Monitoring&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/others/">Other DevOps</a><button aria-label="Expand sidebar category &#x27;Other DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/devops/servers/">Servers</a><button aria-label="Collapse sidebar category &#x27;Servers&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/devops/servers/apache-server">Apache Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/devops/servers/gunicorn">Gunicorn</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/servers/nginx/">NGINX</a><button aria-label="Expand sidebar category &#x27;NGINX&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/terminal-bash/">Terminal Bash</a><button aria-label="Expand sidebar category &#x27;Terminal Bash&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/devops/terraform/">Terraform</a><button aria-label="Expand sidebar category &#x27;Terraform&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/education/">Education</a><button aria-label="Expand sidebar category &#x27;Education&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deepak&#x27;s Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/devops/"><span>DevOps</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/devops/servers/"><span>Servers</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Apache Server</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Apache Server</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="apache-http-server">Apache HTTP Server<a href="#apache-http-server" class="hash-link" aria-label="Direct link to Apache HTTP Server" title="Direct link to Apache HTTP Server">​</a></h2>
<p>The <a href="https://httpd.apache.org/" target="_blank" rel="noopener noreferrer">Apache HTTP Server</a>, also known as Apache HTTPd, is a widely used open source web server that is extremely customizable. Its functionality can be extended through modules that suit a wide range of use cases, from serving <a href="https://wiki.apache.org/httpd/php" target="_blank" rel="noopener noreferrer">dynamic PHP content</a> to acting as a <a href="https://httpd.apache.org/docs/current/mod/mod_proxy.html" target="_blank" rel="noopener noreferrer">forward or reverse proxy</a>.</p>
<p>The Apache HTTP Server, colloquially called Apache, is a Web server application notable for playing a key role in the initial growth of the World Wide Web. Originally based on the NCSA HTTPd server, development of Apache began in early 1995 after work on the NCSA code stalled. Apache quickly overtook NCSA HTTPd as the dominant HTTP server, and has remained the most popular HTTP server in use since April 1996.</p>
<p>Also known as HTTPd -- open source web server and extremely customizable</p>
<ul>
<li>Dynamic PHP content</li>
<li>Acting as forward or reverse proxy</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="commands">Commands<a href="#commands" class="hash-link" aria-label="Direct link to Commands" title="Direct link to Commands">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apt install apache2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd /etc/apache2/sites-available/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp 000-default.conf gci.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nano gci.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a2ensite gci.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service apache2 start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service apache2 reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nano /etc/apache2/apache2.conf</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configs--commands">Configs / Commands<a href="#configs--commands" class="hash-link" aria-label="Direct link to Configs / Commands" title="Direct link to Configs / Commands">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat /etc/apache2/mods-available/mpm_prefork.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat /etc/apache2/apache2.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl restart apache2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apache2 reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apache2ctl -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apachectl configtest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apachectl -V</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apachectl status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apachectl start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apachectl restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apachectl stop</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configs">Configs<a href="#configs" class="hash-link" aria-label="Direct link to Configs" title="Direct link to Configs">​</a></h2>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/etc/apache2/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- apache2.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- ports.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- mods-enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||-- *.load</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- *.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- conf-enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- *.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- sites-enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|--*.conf</span><br></span></code></pre></div></div>
<ul>
<li><strong>apache2.conf</strong> is the main configuration file. It puts the pieces together by including all remaining configuration files when starting up the web server.</li>
<li><strong>ports.conf</strong> is always included from the main configuration file. It is used to determine the listening ports for incoming connections, and this file can be customized anytime.</li>
<li>Configuration files in the <strong>mods-enabled/, conf-enabled/andsites-enabled/</strong> directories contain particular configuration snippets which manage modules, global configuration fragments, or virtual host configurations, respectively.</li>
<li>They are activated by symlinking available configuration files from their respective -available/ counterparts. These should be managed by using our helpers a2enmod, a2dismod, a2ensite, a2dissite, and a2enconf, a2disconf. See their respective man pages for detailed information.</li>
<li>The binary is called apache2. Due to the use of environment variables, in the default configuration, apache2 needs to be started/stopped with/etc/init.d/apache2 or apache2ctl. Calling /usr/bin/apache2 directly will not work with the default configuration.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="document-roots">Document Roots<a href="#document-roots" class="hash-link" aria-label="Direct link to Document Roots" title="Direct link to Document Roots">​</a></h2>
<p>By default, Ubuntu does not allow access through the web browser toanyfile apart of those located in/var/www, <a href="http://httpd.apache.org/docs/2.4/mod/mod_userdir.html" target="_blank" rel="noopener noreferrer">public_html</a> directories (when enabled) and/usr/share(for web applications). If your site is using a web document root located elsewhere (such as in/srv) you may need to whitelist your document root directory in/etc/apache2/apache2.conf.</p>
<p>The default Ubuntu document root is/var/www/html. You can make your own virtual hosts under /var/<a href="http://www" target="_blank" rel="noopener noreferrer">www</a>.<!-- --> This is different to previous releases which provides better security out of the box.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="modules">modules<a href="#modules" class="hash-link" aria-label="Direct link to modules" title="Direct link to modules">​</a></h2>
<ul>
<li>mod_status</li>
</ul>
<p><a href="https://httpd.apache.org/docs/2.4/mod/mod_status.html" target="_blank" rel="noopener noreferrer">https://httpd.apache.org/docs/2.4/mod/mod_status.html</a></p>
<p><a href="https://www.datadoghq.com/blog/collect-apache-performance-metrics" target="_blank" rel="noopener noreferrer">https://www.datadoghq.com/blog/collect-apache-performance-metrics</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="apache-mpm-multi-processing-module">Apache MPM (Multi Processing Module)<a href="#apache-mpm-multi-processing-module" class="hash-link" aria-label="Direct link to Apache MPM (Multi Processing Module)" title="Direct link to Apache MPM (Multi Processing Module)">​</a></h2>
<p>Apache&#x27;s Multi-Processing Modules (MPMs) are responsible for binding to network ports on the machine, accepting requests, and dispatching children to handle the requests</p>
<p>By default mpm is prefork which is thread safe.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prefork-mpm">Prefork MPM<a href="#prefork-mpm" class="hash-link" aria-label="Direct link to Prefork MPM" title="Direct link to Prefork MPM">​</a></h3>
<p>Implements a non-threaded, pre-forking web server that handles requests in a manner similar to Apache 1.3. It is appropriate for sites that need to avoid threading for compatibility with non-thread-safe libraries. It is also the best MPM for isolating each request, so that a problem with a single request will not affect any other.</p>
<p>Prefork MPM uses multiple child processes with one thread each and each process handles one connection at a time.</p>
<p>That means that each Apache child process contains a single thread and handles one request at a time. Because of that, it consumes more resources than the threaded MPMs: Worker and Event.</p>
<p>Prefork is the default MPM, so if no MPM is selected in EasyApache, Prefork will be selected. It still is the best choice if Apache has to use non-thread safe libraries such as mod_php (DSO), and is ideal if isolation of processes is important.</p>
<p>The self-regulating MPM Prefork derives its namesake from how it forks or copies itself into new identical processes preemptively to wait for incoming requests. A non-threaded process-based approach at multiprocessing, MPM Prefork runs Apache in a single master parent server process. This parent is responsible for managing any additional child servers that make up its serverpool. While using MPM Prefork, each child server handles only a single request. This focus provides complete isolation from other requests dealt with on the server. MPM Prefork is typically used for compatibility when non-threaded libraries/software, like mod_php (DSO), are required. From an optimization standpoint, MPM Prefork can be sorely lacking when compared to multi-threaded solutions, requiring vastly more resources to reach similar traffic levels as a threaded MPM. It is resource intensive due to its need to spawn full copies of Apache for every request.</p>
<p>Each idle child process joins a queue to listen for incoming requests. This MPM uses a method called <a href="https://httpd.apache.org/docs/2.4/mod/core.html#mutex" target="_blank" rel="noopener noreferrer">accept mutex</a> to ensure that only one process listens for and accepts the next TCP request (mutex stands for MUTual EXclusion mechanism). The first idle worker process in the queue acquires the mutex and listens for the next incoming connection. After receiving a connection, it releases the accept mutex by passing it to the next idle process in the queue, and processes the request (during which time it is considered a busy worker). After it finishes processing the request, it joins the queue once again.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Others-Apache-Server-image1-16f762935625ad0f452b02051131cf0a.jpg" width="1000" height="400" class="img_ev3q"></p>
<p>Because this MPM needs a higher number of processes to handle any given number of requests, it is generally more memory-hungry than multi-threaded MPMs like worker and event. For this reason, if you are using mod_php you should consider switching over to <a href="https://wiki.apache.org/httpd/PHP-FPM" target="_blank" rel="noopener noreferrer">PHP-FPM</a> so that you can use the worker or event MPM instead.</p>
<p>Avoid using MPM Prefork whenever possible. It&#x27;s inability to scale well with increased traffic will quickly outpace the available hardware on most system configurations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="worker-mpm">Worker MPM<a href="#worker-mpm" class="hash-link" aria-label="Direct link to Worker MPM" title="Direct link to Worker MPM">​</a></h3>
<p>The <a href="http://httpd.apache.org/docs/2.2/mod/worker.html" target="_blank" rel="noopener noreferrer">workerMPM</a> implements a hybrid multi-process multi-threaded server and gives better performance, hence it should be preferred unless one is using other modules that contain non-thread-safe libraries</p>
<p>Worker MPM uses multiple child processes with many threads each. Each thread handles one connection at a time.</p>
<p>Unlike Prefork, each child process under Worker can have multiple threads. As such, Worker can handle more requests with fewer resources than Prefork. Worker generally is recommended for high-traffic servers running Apache versions prior to 2.4. However, Worker is incompatible with non-thread safe libraries. If you need to run something that isn&#x27;t thread safe, you will need to stick with Prefork.</p>
<p>In the <a href="https://httpd.apache.org/docs/current/mod/worker.html" target="_blank" rel="noopener noreferrer">worker MPM</a>, the parent process creates a certain number of child processes (once again, determined byStartServersin the main <a href="https://httpd.apache.org/docs/current/configuring.html" target="_blank" rel="noopener noreferrer">configuration file</a>), and each child process creates a constant number of threads (ThreadsPerChild), as well as a listener thread.</p>
<p>Like the prefork MPM, the worker MPM usesaccept mutexto designate which thread will process the next incoming request. Each child process&#x27;s listener thread only joins the idle queue (which indicates that it is eligible to obtain accept mutex) if it detects that at least one worker thread within the child process is currently idle. Therefore, for every process that has at least one idle worker thread, the listener thread will join the queue to apply for accept mutex.</p>
<p>The listener thread that accepts the mutex will listen for the next incoming request, accept the connection, and release the accept mutex so that another listener thread can shepherd the next incoming request. The listener thread then passes the socket to an idle worker thread within its process.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Others-Apache-Server-image2-036698f8c35c18521da03e0ea1cca134.jpg" width="999" height="605" class="img_ev3q"></p>
<p>Unlike the prefork MPM, the worker MPM enables each child process to serve more than one request at a time, by utilizing multiple threads. Because you only need one thread per connection, instead of forking one process per connection, this MPM tends to be more memory-efficient than the prefork MPM.</p>
<p>The KeepAliveTimeOut directive currently defines the amount of time Apache will wait for requests. When utilizing KeepAlive with MPM Worker use the smallest KeepAliveTimeout as possible (1 second preferably).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-mpm">Event MPM<a href="#event-mpm" class="hash-link" aria-label="Direct link to Event MPM" title="Direct link to Event MPM">​</a></h3>
<p>MPM tries to fix the &#x27;keep alive problem&#x27; in HTTP.</p>
<p>Each process under Event also can contain multiple threads but, unlike Worker, each is capable of more than one task. Apache has the lowest resource requirements when used with the Event MPM.</p>
<p>Event, though, is supported only on servers running Apache 2.4. Under Apache 2.2, Event is considered experimental and is incompatible with some modules on older versions of Apache.</p>
<p>Based off the MPM Worker source code, MPM Event shares configuration directives with MPM Worker. It works nearly identical to MPM Worker except when it comes to handling KeepAlive requests. MPM Event uses a dedicated Listener thread in each child process. This Listening thread is responsible for directing incoming requests to an available worker thread. The Listening thread solves the issue encountered by MPM Worker which locks entire threads into waiting for the KeepAliveTimeout. The Listener approach of MPM Event ensures worker threads are not &quot;stuck&quot; waiting for KeepAliveTimeout to expire. This method keeps the maximum amount of worker threads handling as many requests as possible.</p>
<p>As of version 2.4 of Apache, the <a href="https://httpd.apache.org/docs/current/mod/event.html" target="_blank" rel="noopener noreferrer">event MPM</a> is now an official MPM (it was formerly experimental). Like the worker MPM, each child process in the event MPM creates multiple threads (determined byThreadsPerChild), in addition to one listener thread.</p>
<p>In the other types of MPMs, if a worker thread or process handles a request on a keep-alive connection, the connection stays open (and the worker is blocked from processing other requests) for the duration of theKeepAliveTimeout, or until the client closes the connection.</p>
<p>A major benefit of the event MPM is that it handles keep-alive connections more efficiently by utilizing the kernel&#x27;s I/O methods like <a href="http://man7.org/linux/man-pages/man7/epoll.7.html" target="_blank" rel="noopener noreferrer">epoll</a>(on Linux) and <a href="https://www.freebsd.org/cgi/man.cgi?kqueue" target="_blank" rel="noopener noreferrer">kqueue</a>(on BSD systems).</p>
<p>In the event MPM, a worker thread can write a request to the client, and then pass control of the socket to the listener thread, freeing the worker to address another request. The listener thread assumes control of sockets that don&#x27;t require immediate action from a worker thread, until it detects an &quot;event&quot; on a socket (e.g. if the client sends a new request on a keep-alive connection, the kernel will create an event to notify the listener that the socket is readable). Once the event is detected, the listener thread will pass it on to the next available idle worker thread.</p>
<p>If the KeepAliveTimeout is reached before any activity occurs on the socket, the listener thread will close the connection. Also, if any listener thread detects that all worker threads within its process are busy, it will close keep-alive connections, forcing clients to create new connections that can be processed more quickly by other processes&#x27; worker threads (although, for the sake of simplicity, we do not show this in the example below). Because the dedicated listener thread helps monitor the lifetime of each keep-alive connection, worker threads that would otherwise have been blocked (waiting for further activity) are instead free to address other active requests.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/DevOps-Others-Apache-Server-image3-1bdfb5795f96c3858e22202db8c9117b.jpg" width="999" height="433" class="img_ev3q"></p>
<p>There are a number of other experimental MPMs such as Threadpool, Perchild, and Leader.</p>
<p><a href="https://www.liquidweb.com/kb/apache-performance-tuning-apache-mpm-modules" target="_blank" rel="noopener noreferrer">https://www.liquidweb.com/kb/apache-performance-tuning-apache-mpm-modules</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimizations">Optimizations<a href="#optimizations" class="hash-link" aria-label="Direct link to Optimizations" title="Direct link to Optimizations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="remove-the-burden-of-processing-code-from-apache">Remove the Burden of Processing Code From Apache<a href="#remove-the-burden-of-processing-code-from-apache" class="hash-link" aria-label="Direct link to Remove the Burden of Processing Code From Apache" title="Direct link to Remove the Burden of Processing Code From Apache">​</a></h3>
<p>Apache modules provide a quick and easy solution to process the code needed to operate your website. Some of the most popular modules are mod_php for PHP, mod_rails for Ruby on Rails, and mod_python for Python.</p>
<p>However, these modules come with a price: they put the burden of code processing on Apache, which can slow down website response times across the board.</p>
<p>To improve Apache&#x27;s performance, consider migrating to these alternative solutions instead:</p>
<ul>
<li>PHP: <a href="https://php-fpm.org/" target="_blank" rel="noopener noreferrer">php-fpm</a></li>
<li>Ruby: <a href="https://bogomips.org/unicorn/" target="_blank" rel="noopener noreferrer">Unicorn</a></li>
<li>Python: <a href="https://uwsgi-docs.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">uWSGI</a> or <a href="http://gunicorn.org/" target="_blank" rel="noopener noreferrer">gnunicorn</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="change-apaches-maxkeepaliverequests-keepalive-and-keepalivetimeout-settings">Change Apache&#x27;s MaxKeepAliveRequests, KeepAlive, and KeepAliveTimeout Settings<a href="#change-apaches-maxkeepaliverequests-keepalive-and-keepalivetimeout-settings" class="hash-link" aria-label="Direct link to Change Apache&#x27;s MaxKeepAliveRequests, KeepAlive, and KeepAliveTimeout Settings" title="Direct link to Change Apache&#x27;s MaxKeepAliveRequests, KeepAlive, and KeepAliveTimeout Settings">​</a></h3>
<ul>
<li><code>MaxKeepAliveRequests</code> sets the maximum number of requests to accept per connection. The higher this number, the better the performance of the server, up to a point. The recommended value is 500.</li>
<li><code>KeepAliveTimeout</code> sets the number of seconds Apache will wait for a new request from a connection before it closes the connection. This number should be kept low. The recommended value is between 1 and 5.</li>
<li><code>MaxKeepAliveRequests</code> 500</li>
<li><code>KeepAlive</code> On</li>
<li><code>KeepAliveTimeout</code> 3</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workers">Workers<a href="#workers" class="hash-link" aria-label="Direct link to Workers" title="Direct link to Workers">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo ps -y l C apache2 | awk &#x27;{x += $8;y += 1} END {print &quot;Apache Memory Usage (MB): &quot;x/1024; print &quot;Average Process Size (MB): &quot;x/((y-1)*1024)}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MaxRequestWorkers = Baseline Free (with buffer space) / Avg Process Size</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat /etc/apache2/mods-available/mpm_prefork.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;IfModule mpm_prefork_module&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StartServers 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MinSpareServers 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MaxSpareServers 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MaxRequestWorkers 250</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MaxConnectionsPerChild 10000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/IfModule&gt;</span><br></span></code></pre></div></div>
<ul>
<li>
<p><strong>StartServers</strong> is the number of child processes created upon starting Apache.</p>
</li>
<li>
<p><a href="https://httpd.apache.org/docs/2.4/mod/mpm_common.html#maxrequestworkers" target="_blank" rel="noopener noreferrer"><strong>MaxRequestWorkers</strong></a>(orMaxClientsin versions prior to 2.4) is the maximum number of connections that can be open at one time. Once this limit has been reached, any additional incoming connections are queued. The maximum size of the queue is determined by theListenBacklogsetting (by default 511, though it can be smaller depending on your OS; on Linux, the queue length is limited bynet.core.somaxconn).</p>
</li>
<li>
<p><strong>MinSpareServers</strong> / MinSpareThreads and MaxSpareServers / MaxSpareThreads refer to the minimum and maximum number of child processes (in the prefork MPM) or worker threads (in the worker and event MPMs) that should be idle at any one time. If the number of idle processes/threads does not fall within these bounds, the parent process will kill or spawn new processes/threads accordingly.</p>
</li>
<li>
<p><strong>MaxConnectionsPerChild</strong> (known as MaxRequestsPerChild prior to version 2.4) determines the total number of connections each child process can serve before it is restarted, which can be important for guarding against <a href="https://www.datadoghq.com/blog/monitoring-apache-web-server-performance/#toc-host-level-resource-metrics" target="_blank" rel="noopener noreferrer">memory leaks</a> when using certain modules like mod_php.</p>
</li>
<li>
<p><strong>Backlog Queue</strong></p>
<ul>
<li>Backlog Queue settingnet.core.somaxconnfrom128to32768</li>
<li>Ephemeral Ports settingnet.ipv4.ip_local_port_rangefrom32768 60999to1024 65000</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimizations-1">Optimizations<a href="#optimizations-1" class="hash-link" aria-label="Direct link to Optimizations" title="Direct link to Optimizations">​</a></h3>
<ul>
<li>Remove Unused Modules</li>
<li>Save memory by not loading modules that you do not need, including but not limited to mod_php, mod_ruby, mod_perl, etc.</li>
<li>Use this command to list out modulesapache2 -Mit will list all the modules and then we have to stop loading unwanted modules. Please follow this articlehttps://haydenjames.io/strip-apache-improve-performance-memory-efficiency</li>
<li>Please check and comparempm_prefork_moduleandmpm_event_module(better than prefork).</li>
<li>Turn HostnameLookups Off</li>
<li>Stop doing expensive DNS lookups. You will rarely ever need them and when you do, you can look them up after the fact.</li>
<li>Do Not set KeepAliveTimeout too high</li>
<li>If you have more requests than apache children, this setting can starve your pool of available clients.</li>
<li>Check for SYMLINKS</li>
<li>Avoid Wildcards in DirectoryIndex</li>
<li>Use a specific DirectoryIndex, i.e. index.html or index.php, not index.</li>
<li>Avoid using hostname in configs</li>
<li>If you have HostnameLookups off, this will prevent you from having to wait for the DNS resolve of the hostnames in your configs, use IP addresses instead.</li>
<li>Use Persistent Connections</li>
<li>Set KeepAlive on and then set KeepAliveTimeout and KeepAliveRequests. KeepAliveTimeout is how long apache will wait for the next request, and KeepAliveRequests is the max number of requests for a client prior to resetting the connection. This will prevent the client from having to reconnect between each request.</li>
<li>Turn off safe_mode for php</li>
<li>It will utilize about 50-70% of your script time checking against these safe directives. Instead configure open_base_dir properly and utilize plugins such as mod_itk.</li>
<li>Don&#x27;t use threaded mpm with mod_php</li>
<li>Look at using mod_itk, mod_php tends to segfault with threaded mpm.</li>
<li>Flush buffers early for pre render</li>
<li>It takes a relatively long time to create a web page on the backend, flush your buffer prior to page completion to send a partial page to the client, so it can start rendering. A good place to do this is right after the HEAD section -- so that the browser can start fetching other objects.</li>
<li>Use mod_disk_cache NOT mod_mem_cache</li>
<li>mod_mem_cache will not share its cache among different apache processes, which results in high memory usage with little performance gain since on an active server, mod_mem_cache will rarely serve the same page twice in the same apache process.</li>
<li>Configure mod_disk_cache with a flat hierarchy</li>
<li>Ensure that you are using CacheDirLength=2 and CacheDirLevels=1 to ensure htcacheclean will not take forever when cleaning up your cache directory.</li>
<li>Disabling .htaccess</li>
</ul>
<p>htaccess allows setting specific configuration for every single directory in our server root, without restarting. So, traversing all the directories, looking for the .htaccess files, on every request, incurs a performance penalty.</p>
<p>In general, you should only use.htaccessfiles when you don&#x27;t have access to the main server configuration file.</p>
<p>In general, use of.htaccessfiles should be avoided when possible. Any configuration that you would consider putting in a.htaccessfile, can just as effectively be made in a <code>&lt;directory&gt;</code> section in your main server configuration file.</p>
<p>The solution is to disable it in/etc/apache2/apache2.conf:</p>
<p>AllowOverride None</p>
<p>If we need it for the specific directories, we can then enable it withinsections in our virtual host files:</p>
<p>AllowOverride All</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="os-specifics">OS Specifics<a href="#os-specifics" class="hash-link" aria-label="Direct link to OS Specifics" title="Direct link to OS Specifics">​</a></h2>
<ul>
<li>
<p>Increase Swappiness</p>
<ul>
<li>Particularly on single site hosts this will increase performance. On linux systems increase /proc/sys/vm/swappiness to at least 60 if not greater. This will try to load as many files as possible into the memory cache for faster access.</li>
</ul>
</li>
<li>
<p>Increase Write Buffer Size</p>
<ul>
<li>Increase your write buffer size for tcp/ip buffers. On linux systems increase /proc/sys/net/core/wmem_max and /proc/sys/net/core/wmem_default. If your pages fit within this buffer, apache will complete a process in one call to the tcp/ip buffer.</li>
</ul>
</li>
<li>
<p>Increase Max Open Files</p>
<ul>
<li>If you are handling high loads increase the number of allowed open files. On linux, increase /proc/sys/fs/file-max and run ulimit -H -n 4096.</li>
</ul>
</li>
<li>
<p>If you need to get more speed from dynamic pages, you have a few options: add a <strong>Varnish</strong> or <strong>Memcached</strong> caching layer, switch to a faster PHP runtime (e.g., <strong>HHVM</strong>), do load balancing, or invest in extra hardware.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configurations">Configurations<a href="#configurations" class="hash-link" aria-label="Direct link to Configurations" title="Direct link to Configurations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-management">Log Management<a href="#log-management" class="hash-link" aria-label="Direct link to Log Management" title="Direct link to Log Management">​</a></h3>
<ul>
<li>Mod_log_config, which lets you define the settings and storage location for your logs.</li>
<li>Mod_log_forensicrecords system state immediately before and after each request, so narrowing down suspicious activity becomes much easier.</li>
<li>Mod_logiocharts all in and out traffic in bytes.</li>
</ul>
<p>Apache gathers only two distinct types of logs: Access Log and Error Logs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-to-monitor">Metrics to monitor<a href="#metrics-to-monitor" class="hash-link" aria-label="Direct link to Metrics to monitor" title="Direct link to Metrics to monitor">​</a></h3>
<ul>
<li>Throughput and latency metrics<!-- -->
<ul>
<li>Request Processing Time</li>
<li>Rate of Requests</li>
</ul>
</li>
<li>Resource Utilization and activity metrics</li>
<li>Host-level resource metrics</li>
<li>Errors</li>
</ul>
<table><thead><tr><th><strong>Name</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td>Busy workers</td><td>Total number of busy worker threads/processes</td></tr><tr><td>Idle workers</td><td>Total number of idle worker threads/processes</td></tr><tr><td>Asynchronous connections: writing</td><td>Number of async connections in writing state (only applicable to event MPM)</td></tr><tr><td>Asynchronous connections: keep-alive</td><td>Number of async connections in keep-alive state (only applicable to event MPM)</td></tr><tr><td>Asynchronous connections: closing</td><td>Number of async connections in closing state (only applicable to event MPM)</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="worker-utilization">Worker utilization<a href="#worker-utilization" class="hash-link" aria-label="Direct link to Worker utilization" title="Direct link to Worker utilization">​</a></h3>
<p>A worker is considered &quot;busy&quot; if it is in any of the following states: reading, writing, keep-alive, logging, closing, or gracefully finishing. An &quot;idle&quot; worker is not in any of the busy states;</p>
<p>If you consistently see a large number of idle workers, you may want to lower yourMinSpareServers(for the prefork MPM) orMinSpareThreads(for the worker and event MPMs) setting so that you are not sustaining a higher number of processes or threads than necessary to process your rate of traffic. Maintaining more processes or threads than you actually need will unncessarily exhaust system resources.</p>
<p>If, on the other hand, you have very few idle workers at all times, you may see slower request processing times because your server continually needs to spawn new processes or threads to handle new requests, rather than making use of the idle threads or processes already on hand. If you see thetotal number of workers (busy + idle)approaching yourMaxRequestWorkerslimit, any additional requests that come in will end up in the TCP ListenBacklog (which has a maximum size ofListenBacklog), until the next worker thread becomes available.</p>
<p>IncreasingMaxRequestWorkerscan help reduce the number of queued requests, but be careful not to set it unnecessarily high, as each additional worker thread or process requires additional system resources.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="keep-alive-connections">Keep-alive connections<a href="#keep-alive-connections" class="hash-link" aria-label="Direct link to Keep-alive connections" title="Direct link to Keep-alive connections">​</a></h3>
<p>If you see a lot of connections in a keep-alive state (indicated by aKon the mod_status scoreboard), you may be getting many requests from clients that don&#x27;t make subsequent requests (and therefore do not help you reap the intended benefits of keep-alive connections). If you are not already using the event MPM, try switching to it if possible, because this MPM was designed to process keep-alive connections more efficiently.</p>
<p>If youareusing the event MPM, Apache will expose the count of keep-alive async connections (any connections that are waiting for further events to signal that they are ready to get passed back to worker threads). If you see a high number of keep-alive async connections, combined with high CPU and memory utilization, you may want to lower the maximum number of simultaneous connections to the server (MaxRequestWorkers), and/or decrease theKeepAliveTimeoutto avoid holding connections open longer than necessary</p>
<p><a href="https://www.datadoghq.com/blog/monitoring-apache-web-server-performance/#host-level-resource-metrics" target="_blank" rel="noopener noreferrer"><strong>Host-level resource metrics</strong></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="memory-usage">Memory usage<a href="#memory-usage" class="hash-link" aria-label="Direct link to Memory usage" title="Direct link to Memory usage">​</a></h3>
<p>Memory is one of the most important resources to monitor when using Apache. If Apache runs out of memory, it will start swapping to disk, which greatly degrades performance. To guard against memory leakage (which is particularly important if you use mod_php), you could setMaxConnectionsPerChildto a high value (e.g. 1,000) rather than leaving it unbounded (by setting it to 0). By default, this directive is unbounded, which means that processes will never be forced to restart. If you do choose to set this directive, make sure not to set it too low, because restarting processes carries some overhead.</p>
<p>As mentioned above, memory use is also impacted by theMaxRequestWorkerssetting, which controls the maximum number of processes or threads running at any one time. The value ofMaxRequestWorkers(known asMaxClientsprior to version 2.4) should be calculated based on the maximum amount of memory you feel comfortable reserving for Apache processes. Using a tool like <a href="http://hisham.hm/htop/" target="_blank" rel="noopener noreferrer">htop</a> should give you a rough idea of the actual, virtual, and cached memory usage of each Apache process. You can use this to calculate an estimate of what yourMaxRequestWorkersvalue should be.</p>
<p>For example, if you observe that each Apache process uses roughly 50MB, and your server has 4GB of RAM, you would calculateMaxRequestWorkerswith a rough formula of:( (4000 - <code>&lt;OTHER_MEMORY_NEEDED&gt;</code>) / 50 )</p>
<p>The value of <code>&lt;OTHER_MEMORY_NEEDED&gt;</code> depends on whatever else you&#x27;re running, such as an application server or MySQL. You can also use htop to check how much memory your system is using when Apache isnotrunning, and use this value as a basis for <code>&lt;OTHER_MEMORY_NEEDED&gt;</code>. Make sure to add in a bit of a cushion as an extra precaution - it&#x27;s better to be conservative about theMaxRequestWorkersvalue because you don&#x27;t want to run out of memory and start swapping to disk. The <a href="https://httpd.apache.org/docs/trunk/misc/perf-scaling.html#sizing-maxClients" target="_blank" rel="noopener noreferrer">Apache docs</a> offer more advice about determining a good value forMaxRequestWorkers.</p>
<p>If Apache is using too much memory, you should try to switch from prefork to the worker or event MPM if your system allows it, and if you do not need to use non-thread-safe libraries. You can also disable any unnecessary Apache modules (to check which ones are currently loaded, runhttpd -D DUMP_MODULESon <a href="https://httpd.apache.org/docs/2.4/platform/rpm.html" target="_blank" rel="noopener noreferrer">RPM-based systems</a> orapache2ctl -Mon <a href="https://httpd.apache.org/docs/2.4/programs/apachectl.html" target="_blank" rel="noopener noreferrer">other Unix-based systems</a>).</p>
<p>Lowering the number of processes created upon startup (<a href="https://httpd.apache.org/docs/2.4/mod/mpm_common.html#startservers" target="_blank" rel="noopener noreferrer">StartServers</a>), and/or decreasingMaxSpareThreads(maximum allowed number of idle worker threads) can also help lower your memory footprint. Alternatively, you can add more memory to your servers, or <a href="https://wiki.apache.org/httpd/PerformanceScalingOut" target="_blank" rel="noopener noreferrer">scale horizontally</a> to distribute the load among a higher number of servers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cpu-utilization">CPU utilization<a href="#cpu-utilization" class="hash-link" aria-label="Direct link to CPU utilization" title="Direct link to CPU utilization">​</a></h3>
<p>If you see CPU usage continually rising on your Apache servers, this can indicate that you don&#x27;t have enough resources to serve the current rate of requests. If you are running a database and/or application server on the same host as Apache, you should consider moving them onto separate machines. This gives you more flexibility to <a href="https://wiki.apache.org/httpd/PerformanceScalingOut" target="_blank" rel="noopener noreferrer">scale each layer of your environment</a>(database, application, and web servers) as needed. The more connections Apache needs to serve, the more threads or processes are created (depending on the MPM in use), each of which requires additional CPU.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="open-file-descriptors">Open file descriptors<a href="#open-file-descriptors" class="hash-link" aria-label="Direct link to Open file descriptors" title="Direct link to Open file descriptors">​</a></h3>
<p>Apache opens a file descriptor for each connection, as well as every log file. If your server has a large number of virtual hosts, you may run into a problem with your system-imposed limit, because Apache generates separate log files for each virtual host. <a href="https://httpd.apache.org/docs/2.4/vhosts/fd-limits.html" target="_blank" rel="noopener noreferrer">The documentation</a> has some useful guidelines about how you can either raise the limit on your system, or <a href="http://httpd.apache.org/docs/current/logs.html#virtualhost" target="_blank" rel="noopener noreferrer">reduce the total number of logs created</a>, by writing all virtual host logs to the same file, and using a script like <a href="http://httpd.apache.org/docs/current/programs/split-logfile.html" target="_blank" rel="noopener noreferrer">split-logfile</a> for downstream categorization</p>
<p><a href="https://www.datadoghq.com/blog/monitoring-apache-web-server-performance/#errors" target="_blank" rel="noopener noreferrer"><strong>Errors</strong></a></p>
<table><thead><tr><th><strong>Name</strong></th><th><strong>Description</strong></th><th><strong>Availability</strong></th></tr></thead><tbody><tr><td>Client error rate</td><td>Rate of 4xx client errors (e.g. 403 Forbidden, 404 Not Found) per second</td><td>Apache access log</td></tr><tr><td>Server error rate</td><td>Rate of 5xx server-side errors (e.g. 500 Internal Server Error, 502 Bad Gateway, 503 Service Unavailable) per second</td><td>Apache access log</td></tr></tbody></table>
<p>Apache will typically generate a 503 Service Unavailable status code when it is overloaded.</p>
<ul>
<li><strong>Apache 2.2</strong> can generate one processes per second.</li>
<li><strong>Apache 2.4</strong> can generate up to 32 processes in on second. When minimum idle spare processes are less than MinSpareServers value, Apache start 1 process and wait for one second, If it&#x27;s still less, Apache start 2 processes and wait a second, If it&#x27;s still less Apache starts 4 processes and wait for a second, similarly Apache can start-up to 32 spare child processes per second and it repeated until minimum spare process exceeded MinSpareServers value.</li>
</ul>
<p><a href="https://www.datadoghq.com/blog/monitoring-apache-web-server-performance/" target="_blank" rel="noopener noreferrer"><strong>https://www.datadoghq.com/blog/monitoring-apache-web-server-performance/</strong></a></p>
<p><a href="https://www.datadoghq.com/blog/collect-apache-performance-metrics" target="_blank" rel="noopener noreferrer">https://www.datadoghq.com/blog/collect-apache-performance-metrics</a></p>
<p><a href="https://cwiki.apache.org/confluence/display/httpd/PerformanceScalingUp" target="_blank" rel="noopener noreferrer">https://cwiki.apache.org/confluence/display/httpd/PerformanceScalingUp</a></p>
<p><a href="https://cwiki.apache.org/confluence/display/httpd/PerformanceScalingOut" target="_blank" rel="noopener noreferrer">https://cwiki.apache.org/confluence/display/httpd/PerformanceScalingOut</a></p>
<p><a href="https://httpd.apache.org/docs/2.4/mod/mpm_common.html" target="_blank" rel="noopener noreferrer">https://httpd.apache.org/docs/2.4/mod/mpm_common.html</a></p>
<p><a href="https://www.liquidweb.com/kb/apache-performance-tuning-mpm-directives/#prefork" target="_blank" rel="noopener noreferrer">https://www.liquidweb.com/kb/apache-performance-tuning-mpm-directives/#prefork</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="apache-tomcat">Apache Tomcat<a href="#apache-tomcat" class="hash-link" aria-label="Direct link to Apache Tomcat" title="Direct link to Apache Tomcat">​</a></h2>
<p>Apache Tomcat (or simply Tomcat) is an open source web server and servlet container developed by the Apache Software Foundation (ASF). Tomcat implements the Java Servlet and the JavaServer Pages (JSP) specifications from Oracle, and provides a &quot;pure Java&quot; HTTP web server environment for Java code to run in. In the simplest config Tomcat runs in a single operating system process. The process runs a Java virtual machine (JVM). Every single HTTP request from a browser to Tomcat is processed in the Tomcat process in a separate thread.</p>
<p><a href="https://howtodoinjava.com/tomcat/running-multiple-instances-of-tomcat-with-single-server-installation/" target="_blank" rel="noopener noreferrer">Running Multiple Tomcats with Single Server Installation</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="difference-between-apache-http-server-and-apache-tomcat">Difference between Apache HTTP Server and Apache Tomcat<a href="#difference-between-apache-http-server-and-apache-tomcat" class="hash-link" aria-label="Direct link to Difference between Apache HTTP Server and Apache Tomcat" title="Direct link to Difference between Apache HTTP Server and Apache Tomcat">​</a></h2>
<p>The Apache &quot;http&quot; server is often referred to as Apache and is a server that handles http requests. Its job is to listen for requests and pass it on to the appropriate module to process. There are modules to process C, Java, PERL, PHP, Python, Ruby etc.</p>
<p>Apache Tomcat is a Java Servlet container. It runs as an Apache http server module. It constructs the HTML pages by executing Java Servlets and Java Server Pages and returns them to the http server.</p>
<p>In simple words, Apache is a web-server meant to serve static web-pages. Example includes plain HTML pages (you can create a simple HTML page &amp; Apache will serve it for you. Try using XAMPP or WAMP Server to see it for yourself on Windows machines). Facebook, Google, or Wordpress sites are some of the examples .</p>
<p>Apache Tomcat, on the other hand, is an application server meant to serve Java applications (Servlets, JSPs etc). You can serve web-pages as well through Tomcat, but it is less efficient at that as compared to Apache. IRCTC is one such website.</p>
<p>Apache is a server, And Tomcat is a Container.</p>
<p>Apache Takes The request from user, And handover to Tomcat. And Tomcat handover the request to suitable programs.</p>
<p>Programs process the request and provide a response and request back to Tomcat, Then Tomcat handover request and response object to Apache server and Finally Apache give a response to user.</p>
<p><a href="https://www.quora.com/What-is-the-difference-between-apache-and-apache-tomcat" target="_blank" rel="noopener noreferrer">https://www.quora.com/What-is-the-difference-between-apache-and-apache-tomcat</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="varnish">Varnish<a href="#varnish" class="hash-link" aria-label="Direct link to Varnish" title="Direct link to Varnish">​</a></h2>
<p>Varnish is an <a href="https://en.wikipedia.org/wiki/HTTP_accelerator" target="_blank" rel="noopener noreferrer">HTTP accelerator</a> designed for content-heavy <a href="https://en.wikipedia.org/wiki/Dynamic_web_site" target="_blank" rel="noopener noreferrer">dynamic web sites</a> as well as APIs. In contrast to other <a href="https://en.wikipedia.org/wiki/Web_accelerator" target="_blank" rel="noopener noreferrer">web accelerators</a>, such as <a href="https://en.wikipedia.org/wiki/Squid_(software)" target="_blank" rel="noopener noreferrer">Squid</a>, which began life as a client-side cache, or <a href="https://en.wikipedia.org/wiki/Apache_HTTP_server" target="_blank" rel="noopener noreferrer">Apache</a> and <a href="https://en.wikipedia.org/wiki/Nginx" target="_blank" rel="noopener noreferrer">nginx</a>, which are primarily origin servers, Varnish was designed as an HTTP accelerator. Varnish is focused exclusively on <a href="https://en.wikipedia.org/wiki/HTTP" target="_blank" rel="noopener noreferrer">HTTP</a>, unlike other <a href="https://en.wikipedia.org/wiki/Proxy_server" target="_blank" rel="noopener noreferrer">proxy servers</a> that often support <a href="https://en.wikipedia.org/wiki/FTP" target="_blank" rel="noopener noreferrer">FTP</a>, <a href="https://en.wikipedia.org/wiki/SMTP" target="_blank" rel="noopener noreferrer">SMTP</a> and other <a href="https://en.wikipedia.org/wiki/Network_protocol" target="_blank" rel="noopener noreferrer">network protocols</a></p>
<p>Varnish is used by websites including <a href="https://en.wikipedia.org/wiki/Wikipedia" target="_blank" rel="noopener noreferrer">Wikipedia</a>, online newspaper sites such as <a href="https://en.wikipedia.org/wiki/The_New_York_Times" target="_blank" rel="noopener noreferrer">The New York Times</a>, <a href="https://en.wikipedia.org/wiki/The_Guardian" target="_blank" rel="noopener noreferrer">The Guardian</a>, <a href="https://en.wikipedia.org/wiki/Gulf_News" target="_blank" rel="noopener noreferrer">Gulf News</a>, <a href="https://en.wikipedia.org/wiki/The_Hindu" target="_blank" rel="noopener noreferrer">The Hindu</a>, <a href="https://en.wikipedia.org/wiki/Corriere_della_Sera" target="_blank" rel="noopener noreferrer">Corriere della Sera</a>, social media and content sites such as <a href="https://en.wikipedia.org/wiki/Facebook" target="_blank" rel="noopener noreferrer">Facebook</a>, <a href="https://en.wikipedia.org/wiki/Twitter" target="_blank" rel="noopener noreferrer">Twitter</a>, <a href="https://en.wikipedia.org/wiki/Reddit" target="_blank" rel="noopener noreferrer">Reddit</a>, Spotify, <a href="https://en.wikipedia.org/wiki/Vimeo" target="_blank" rel="noopener noreferrer">Vimeo</a>, and <a href="https://en.wikipedia.org/wiki/Tumblr" target="_blank" rel="noopener noreferrer">Tumblr</a>. In 2012, 5% of the top 10,000 sites in the web used the software.</p>
<ul>
<li>Layer 7 reverse proxy</li>
<li>HTTP Cache</li>
</ul>
<p><a href="https://en.wikipedia.org/wiki/Varnish_(software)" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Varnish_(software)</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/devops/servers/apache-server.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-04-27T18:24:55.000Z" itemprop="dateModified">Apr 27, 2025</time></b> by <b>Deepak</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/devops/servers/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Servers</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/devops/servers/gunicorn"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Gunicorn</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#apache-http-server" class="table-of-contents__link toc-highlight">Apache HTTP Server</a></li><li><a href="#commands" class="table-of-contents__link toc-highlight">Commands</a></li><li><a href="#configs--commands" class="table-of-contents__link toc-highlight">Configs / Commands</a></li><li><a href="#configs" class="table-of-contents__link toc-highlight">Configs</a></li><li><a href="#document-roots" class="table-of-contents__link toc-highlight">Document Roots</a></li><li><a href="#modules" class="table-of-contents__link toc-highlight">modules</a></li><li><a href="#apache-mpm-multi-processing-module" class="table-of-contents__link toc-highlight">Apache MPM (Multi Processing Module)</a><ul><li><a href="#prefork-mpm" class="table-of-contents__link toc-highlight">Prefork MPM</a></li><li><a href="#worker-mpm" class="table-of-contents__link toc-highlight">Worker MPM</a></li><li><a href="#event-mpm" class="table-of-contents__link toc-highlight">Event MPM</a></li></ul></li><li><a href="#optimizations" class="table-of-contents__link toc-highlight">Optimizations</a><ul><li><a href="#remove-the-burden-of-processing-code-from-apache" class="table-of-contents__link toc-highlight">Remove the Burden of Processing Code From Apache</a></li><li><a href="#change-apaches-maxkeepaliverequests-keepalive-and-keepalivetimeout-settings" class="table-of-contents__link toc-highlight">Change Apache&#39;s MaxKeepAliveRequests, KeepAlive, and KeepAliveTimeout Settings</a></li><li><a href="#workers" class="table-of-contents__link toc-highlight">Workers</a></li><li><a href="#optimizations-1" class="table-of-contents__link toc-highlight">Optimizations</a></li></ul></li><li><a href="#os-specifics" class="table-of-contents__link toc-highlight">OS Specifics</a></li><li><a href="#configurations" class="table-of-contents__link toc-highlight">Configurations</a><ul><li><a href="#log-management" class="table-of-contents__link toc-highlight">Log Management</a></li><li><a href="#metrics-to-monitor" class="table-of-contents__link toc-highlight">Metrics to monitor</a></li><li><a href="#worker-utilization" class="table-of-contents__link toc-highlight">Worker utilization</a></li><li><a href="#keep-alive-connections" class="table-of-contents__link toc-highlight">Keep-alive connections</a></li><li><a href="#memory-usage" class="table-of-contents__link toc-highlight">Memory usage</a></li><li><a href="#cpu-utilization" class="table-of-contents__link toc-highlight">CPU utilization</a></li><li><a href="#open-file-descriptors" class="table-of-contents__link toc-highlight">Open file descriptors</a></li></ul></li><li><a href="#apache-tomcat" class="table-of-contents__link toc-highlight">Apache Tomcat</a></li><li><a href="#difference-between-apache-http-server-and-apache-tomcat" class="table-of-contents__link toc-highlight">Difference between Apache HTTP Server and Apache Tomcat</a></li><li><a href="#varnish" class="table-of-contents__link toc-highlight">Varnish</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>