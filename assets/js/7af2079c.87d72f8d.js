"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[79404],{867859:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>o,contentTitle:()=>c,default:()=>d,frontMatter:()=>n,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"computer-science/system-design/n-tier-application-architecture","title":"N-Tier Application Architecture","description":"An N-tier architecture divides an application into logical layers and physical tiers.","source":"@site/docs/computer-science/system-design/n-tier-application-architecture.md","sourceDirName":"computer-science/system-design","slug":"/computer-science/system-design/n-tier-application-architecture","permalink":"/computer-science/system-design/n-tier-application-architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/computer-science/system-design/n-tier-application-architecture.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1701793554000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Microservice Architecture","permalink":"/computer-science/system-design/microservice-architecture/intro"},"next":{"title":"Others","permalink":"/computer-science/system-design/others"}}');var a=t(474848),s=t(28453);const n={},c="N-Tier Application Architecture",o={},l=[{value:"3-Tier Architecture",id:"3-tier-architecture",level:2},{value:"Common layers",id:"common-layers",level:2},{value:"When to use this architecture",id:"when-to-use-this-architecture",level:2},{value:"Benefits",id:"benefits",level:2},{value:"Challenges",id:"challenges",level:2},{value:"Best practices",id:"best-practices",level:2},{value:"N-tier architecture on virtual machines",id:"n-tier-architecture-on-virtual-machines",level:2},{value:"Additional considerations",id:"additional-considerations",level:2}];function h(e){const i={a:"a",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"n-tier-application-architecture",children:"N-Tier Application Architecture"})}),"\n",(0,a.jsx)(i.p,{children:"An N-tier architecture divides an application into logical layers and physical tiers."}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{alt:"image",src:t(632965).A+"",width:"999",height:"462"})}),"\n",(0,a.jsxs)(i.p,{children:["Layers are a way to separate responsibilities and manage dependencies. Each layer has a specific responsibility. ",(0,a.jsx)(i.strong,{children:"A higher layer can use services in a lower layer, but not the other way around."})]}),"\n",(0,a.jsx)(i.p,{children:"Tiers are physically separated, running on separate machines. A tier can call to another tier directly, or use asynchronous messaging (message queue). Although each layer might be hosted in its own tier, that's not required. Several layers might be hosted on the same tier. Physically separating the tiers improves scalability and resiliency, but also adds latency from the additional network communication."}),"\n",(0,a.jsx)(i.h2,{id:"3-tier-architecture",children:"3-Tier Architecture"}),"\n",(0,a.jsxs)(i.p,{children:["A traditional ",(0,a.jsx)(i.strong,{children:"three-tier application"})," has ",(0,a.jsx)(i.strong,{children:"a presentation tier, a middle tier, and a database tier"}),". The middle tier is optional. More complex applications can have more than three tiers. The diagram above shows an application with two middle tiers, encapsulating different areas of functionality."]}),"\n",(0,a.jsx)(i.p,{children:"A three-tier architecture is a software architecture pattern where the application is broken down into three logical tiers: the presentation layer, the business logic layer and the data storage layer. This architecture is used in a client-server application such as a web application that has the frontend, the backend and the database. Each of these layers or tiers does a specific task and can be managed independently of each other. This a shift from the monolithic way of building an application where the frontend, the backend and the database are both sitting in one place."}),"\n",(0,a.jsx)(i.h2,{id:"common-layers",children:"Common layers"}),"\n",(0,a.jsxs)(i.p,{children:["In a logical multilayered architecture for an information system with an ",(0,a.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Object-oriented_design",children:"object-oriented design"}),", the following four are the most common:"]}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Presentation layer(a.k.a. UI layer, view layer, presentation tier in multitier architecture)"}),"\n",(0,a.jsxs)(i.li,{children:["Application layer(a.k.a.",(0,a.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Service-oriented_architecture",children:"service layer"})," or ",(0,a.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)",children:"GRASP"})," Controller Layer)"]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Business_layer",children:"Business layer"}),"(a.k.a.",(0,a.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Business_logic_layer",children:"business logic layer"}),"(BLL), domain layer)"]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Data_access_layer",children:"Data access layer"}),"(a.k.a.",(0,a.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Persistence_layer",children:"persistence layer"}),", logging, networking, and other services which are required to support a particular business layer)"]}),"\n"]}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Multitier_architecture",children:"https://en.wikipedia.org/wiki/Multitier_architecture"})}),"\n",(0,a.jsx)(i.p,{children:"An N-tier application can have a closed layer architecture or an open layer architecture:"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"In a closed layer architecture, a layer can only call the next layer immediately down."}),"\n",(0,a.jsx)(i.li,{children:"In an open layer architecture, a layer can call any of the layers below it."}),"\n"]}),"\n",(0,a.jsx)(i.p,{children:"A closed layer architecture limits the dependencies between layers. However, it might create unnecessary network traffic, if one layer simply passes requests along to the next layer."}),"\n",(0,a.jsx)(i.h2,{id:"when-to-use-this-architecture",children:"When to use this architecture"}),"\n",(0,a.jsx)(i.p,{children:"N-tier architectures are typically implemented as infrastructure-as-service (IaaS) applications, with each tier running on a separate set of VMs. However, an N-tier application doesn't need to be pure IaaS. Often, it's advantageous to use managed services for some parts of the architecture, particularly caching, messaging, and data storage."}),"\n",(0,a.jsx)(i.p,{children:"Consider an N-tier architecture for:"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Simple web applications."}),"\n",(0,a.jsx)(i.li,{children:"Unified development of on-premises and cloud applications."}),"\n"]}),"\n",(0,a.jsx)(i.p,{children:"N-tier architectures are very common in traditional on-premises applications, so it's a natural fit for migrating existing workloads to Azure."}),"\n",(0,a.jsx)(i.h2,{id:"benefits",children:"Benefits"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Portability between cloud and on-premises, and between cloud platforms."}),"\n",(0,a.jsx)(i.li,{children:"Less learning curve for most developers."}),"\n",(0,a.jsx)(i.li,{children:"Natural evolution from the traditional application model."}),"\n"]}),"\n",(0,a.jsx)(i.h2,{id:"challenges",children:"Challenges"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"It's easy to end up with a middle tier that just does CRUD operations on the database, adding extra latency without doing any useful work."}),"\n",(0,a.jsx)(i.li,{children:"Monolithic design prevents independent deployment of features."}),"\n",(0,a.jsx)(i.li,{children:"Managing an IaaS application is more work than an application that uses only managed services."}),"\n",(0,a.jsx)(i.li,{children:"It can be difficult to manage network security in a large system."}),"\n"]}),"\n",(0,a.jsx)(i.h2,{id:"best-practices",children:"Best practices"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:["Use autoscaling to handle changes in load. See ",(0,a.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/architecture/best-practices/auto-scaling",children:"Autoscaling best practices"}),"."]}),"\n",(0,a.jsxs)(i.li,{children:["Use ",(0,a.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-async-messaging",children:"asynchronous messaging"})," to decouple tiers."]}),"\n",(0,a.jsxs)(i.li,{children:["Cache semistatic data. See ",(0,a.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/architecture/best-practices/caching",children:"Caching best practices"}),"."]}),"\n",(0,a.jsxs)(i.li,{children:["Configure the database tier for high availability, using a solution such as ",(0,a.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/sql/database-engine/availability-groups/windows/always-on-availability-groups-sql-server",children:"SQL Server Always On availability groups"}),"."]}),"\n",(0,a.jsx)(i.li,{children:"Place a web application firewall (WAF) between the front end and the Internet."}),"\n",(0,a.jsx)(i.li,{children:"Place each tier in its own subnet, and use subnets as a security boundary."}),"\n",(0,a.jsx)(i.li,{children:"Restrict access to the data tier, by allowing requests only from the middle tier(s)."}),"\n"]}),"\n",(0,a.jsx)(i.h2,{id:"n-tier-architecture-on-virtual-machines",children:"N-tier architecture on virtual machines"}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{alt:"image",src:t(775738).A+"",width:"999",height:"371"})}),"\n",(0,a.jsx)(i.p,{children:"Each tier consists of two or more VMs, placed in an availability set or virtual machine scale set. Multiple VMs provide resiliency in case one VM fails. Load balancers are used to distribute requests across the VMs in a tier. A tier can be scaled horizontally by adding more VMs to the pool."}),"\n",(0,a.jsx)(i.p,{children:"Each tier is also placed inside its own subnet, meaning their internal IP addresses fall within the same address range. That makes it easy to apply network security group rules and route tables to individual tiers."}),"\n",(0,a.jsx)(i.p,{children:"The web and business tiers are stateless. Any VM can handle any request for that tier. The data tier should consist of a replicated database. For Windows, we recommend SQL Server, using Always On availability groups for high availability. For Linux, choose a database that supports replication, such as Apache Cassandra."}),"\n",(0,a.jsx)(i.p,{children:"Network security groups restrict access to each tier. For example, the database tier only allows access from the business tier."}),"\n",(0,a.jsx)(i.h2,{id:"additional-considerations",children:"Additional considerations"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"N-tier architectures are not restricted to three tiers. For more complex applications, it is common to have more tiers. In that case, consider using layer-7 routing to route requests to a particular tier."}),"\n",(0,a.jsx)(i.li,{children:"Tiers are the boundary of scalability, reliability, and security. Consider having separate tiers for services with different requirements in those areas."}),"\n",(0,a.jsx)(i.li,{children:"Use virtual machine scale sets for autoscaling."}),"\n",(0,a.jsx)(i.li,{children:"Look for places in the architecture where you can use a managed service without significant refactoring. In particular, look at caching, messaging, storage, and databases."}),"\n",(0,a.jsxs)(i.li,{children:["For higher security, place a network DMZ in front of the application. The DMZ includes network virtual appliances (NVAs) that implement security functionality such as firewalls and packet inspection. For more information, see ",(0,a.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/dmz/secure-vnet-dmz",children:"Network DMZ reference architecture"}),"."]}),"\n",(0,a.jsxs)(i.li,{children:["For high availability, place two or more NVAs in an availability set, with an external load balancer to distribute Internet requests across the instances. For more information, see ",(0,a.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/dmz/nva-ha",children:"Deploy highly available network virtual appliances"}),"."]}),"\n",(0,a.jsx)(i.li,{children:"Do not allow direct RDP or SSH access to VMs that are running application code. Instead, operators should log into a jumpbox, also called a bastion host. This is a VM on the network that administrators use to connect to the other VMs. The jumpbox has a network security group that allows RDP or SSH only from approved public IP addresses."}),"\n",(0,a.jsxs)(i.li,{children:["You can extend the Azure virtual network to your on-premises network using a site-to-site virtual private network (VPN) or Azure ExpressRoute. For more information, see ",(0,a.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/hybrid-networking/",children:"Hybrid network reference architecture"}),"."]}),"\n",(0,a.jsxs)(i.li,{children:["If your organization uses Active Directory to manage identity, you may want to extend your Active Directory environment to the Azure VNet. For more information, see ",(0,a.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/identity/",children:"Identity management reference architecture"}),"."]}),"\n",(0,a.jsxs)(i.li,{children:["If you need higher availability than the Azure SLA for VMs provides, replicate the application across two regions and use Azure Traffic Manager for failover. For more information, see ",(0,a.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/n-tier/multi-region-sql-server",children:"Run Windows VMs in multiple regions"})," or ",(0,a.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/n-tier/n-tier-cassandra",children:"Run Linux VMs in multiple regions"}),"."]}),"\n"]}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/n-tier",children:"https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/n-tier"})})]})}function d(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},632965:(e,i,t)=>{t.d(i,{A:()=>r});const r=t.p+"assets/images/Architecture-Guide_N-Tier-Application-Architecture-image1-187697dce4c8b1ffa4cacf89ce65bf2d.jpg"},775738:(e,i,t)=>{t.d(i,{A:()=>r});const r=t.p+"assets/images/Architecture-Guide_N-Tier-Application-Architecture-image2-13ba65a8fa37184f3497d243e3008425.jpg"},28453:(e,i,t)=>{t.d(i,{R:()=>n,x:()=>c});var r=t(296540);const a={},s=r.createContext(a);function n(e){const i=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:n(e.components),r.createElement(s.Provider,{value:i},e.children)}}}]);