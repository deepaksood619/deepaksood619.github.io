"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[35601],{745605:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>c,toc:()=>l});var n=t(785893),o=t(511151);const s={},r="Security",c={id:"devops/monitoring/istio/security",title:"Security",description:"Istio's security capabilities free developers to focus on security at the application level. Istio provides the underlying secure communication channel, and manages authentication, authorization, and encryption of service communication at scale. With Istio, service communications are secured by default, letting you enforce policies consistently across diverse protocols and runtimes -- all with little or no application changes.",source:"@site/docs/devops/monitoring/istio/security.md",sourceDirName:"devops/monitoring/istio",slug:"/devops/monitoring/istio/security",permalink:"/devops/monitoring/istio/security",draft:!1,unlisted:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/devops/monitoring/istio/security.md",tags:[],version:"current",lastUpdatedAt:1707138374,formattedLastUpdatedAt:"Feb 5, 2024",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Others",permalink:"/devops/monitoring/istio/others"},next:{title:"Tasks",permalink:"/devops/monitoring/istio/tasks"}},a={},l=[{value:"High-level architecture",id:"high-level-architecture",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Authorization",id:"authorization",level:2},{value:"Authorization Architecture",id:"authorization-architecture",level:2}];function h(e){const i={a:"a",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h1,{id:"security",children:"Security"}),"\n",(0,n.jsx)(i.p,{children:"Istio's security capabilities free developers to focus on security at the application level. Istio provides the underlying secure communication channel, and manages authentication, authorization, and encryption of service communication at scale. With Istio, service communications are secured by default, letting you enforce policies consistently across diverse protocols and runtimes -- all with little or no application changes."}),"\n",(0,n.jsx)(i.p,{children:"While Istio is platform independent, using it with Kubernetes (or infrastructure) network policies, the benefits are even greater, including the ability to securepod-to-pod or service-to-service communication at the network and application layers."}),"\n",(0,n.jsx)(i.p,{children:"The Istio security features provide strong identity, powerful policy, transparent TLS encryption, and authentication, authorization and audit (AAA) tools to protect your services and data. The goals of Istio security are:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Security by default:"})," no changes needed for application code and infrastructure"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Defense in depth:"})," integrate with existing security systems to provide multiple layers of defense"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Zero-trust network:"})," build security solutions on untrusted networks"]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Why zero trust network because if there is a single compromised node in the VPC then the whole network is compromised"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"image",src:t(898325).Z+"",width:"1098",height:"667"})}),"\n",(0,n.jsx)(i.h2,{id:"high-level-architecture",children:"High-level architecture"}),"\n",(0,n.jsx)(i.p,{children:"Security in Istio involves multiple components:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"A Certificate Authority (CA) for key and certificate management"}),"\n",(0,n.jsxs)(i.li,{children:["The configuration API server distributes to the proxies:","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://istio.io/docs/concepts/security/#authentication-policies",children:"authentication policies"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://istio.io/docs/concepts/security/#authorization-policies",children:"authorization policies"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://istio.io/docs/concepts/security/#secure-naming",children:"secure naming information"})}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["Sidecar and perimeter proxies work as ",(0,n.jsx)(i.a,{href:"https://www.jerichosystems.com/technology/glossaryterms/policy_enforcement_point.html",children:"Policy Enforcement Points"}),"(PEPs) to secure communication between clients and servers."]}),"\n",(0,n.jsx)(i.li,{children:"A set of Envoy proxy extensions to manage telemetry and auditing"}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"image",src:t(595618).Z+"",width:"1467",height:"730"})}),"\n",(0,n.jsx)(i.h2,{id:"authentication",children:"Authentication"}),"\n",(0,n.jsx)(i.p,{children:"Istio provides two types of authentication:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Transport authentication"}),", also known asservice-to-service authentication: verifies the direct client making the connection. Istio offers ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Mutual_authentication",children:"mutual TLS"})," as a full stack solution for transport authentication. You can easily turn on this feature without requiring service code changes. This solution:","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Provides each service with a strong identity representing its role to enable interoperability across clusters and clouds."}),"\n",(0,n.jsx)(i.li,{children:"Secures service-to-service communication and end-user-to-service communication."}),"\n",(0,n.jsx)(i.li,{children:"Provides a key management system to automate key and certificate generation, distribution, and rotation."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Origin authentication"}),", also known asend-user authentication: verifies the original client making the request as an end-user or device. Istio enables request-level authentication with JSON Web Token (JWT) validation and a streamlined developer experience for open source OpenID Connect provider ",(0,n.jsx)(i.a,{href:"https://www.ory.sh/",children:"ORY Hydra"}),", ",(0,n.jsx)(i.a,{href:"https://www.keycloak.org/",children:"Keycloak"}),", ",(0,n.jsx)(i.a,{href:"https://auth0.com/",children:"Auth0"}),", ",(0,n.jsx)(i.a,{href:"https://firebase.google.com/docs/auth/",children:"Firebase Auth"}),", ",(0,n.jsx)(i.a,{href:"https://developers.google.com/identity/protocols/OpenIDConnect",children:"Google Auth"}),", and custom auth."]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"In both cases, Istio stores the authentication policies in theIstio config storevia a custom Kubernetes API. Pilot keeps them up-to-date for each proxy, along with the keys where appropriate. Additionally, Istio supports authentication in permissive mode to help you understand how a policy change can affect your security posture before it becomes effective."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Mutual TLS Authentication"}),"\n",(0,n.jsx)(i.li,{children:"Permissive mode"}),"\n",(0,n.jsx)(i.li,{children:"Secure naming"}),"\n",(0,n.jsx)(i.li,{children:"Authentication architecture"}),"\n",(0,n.jsx)(i.li,{children:"Authentication policies"}),"\n",(0,n.jsx)(i.li,{children:"Policy storage scope"}),"\n",(0,n.jsx)(i.li,{children:"Target selectors"}),"\n",(0,n.jsx)(i.li,{children:"Principal binding"}),"\n",(0,n.jsx)(i.li,{children:"Updating authentication policies"}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"authorization",children:"Authorization"}),"\n",(0,n.jsx)(i.p,{children:"Istio's authorization feature provides mesh-level, namespace-level, and workload-level access control on workloads in an Istio Mesh. It provides:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Workload-to-workload and end-user-to-workload authorization."}),"\n",(0,n.jsxs)(i.li,{children:["A Simple API, it includes a single ",(0,n.jsx)(i.a,{href:"https://istio.io/docs/reference/config/security/authorization-policy/",children:"AuthorizationPolicyCRD"}),", which is easy to use and maintain."]}),"\n",(0,n.jsx)(i.li,{children:"Flexible semantics, operators can define custom conditions on Istio attributes."}),"\n",(0,n.jsx)(i.li,{children:"High performance, as Istio authorization is enforced natively on Envoy."}),"\n",(0,n.jsx)(i.li,{children:"High compatibility, supports HTTP, HTTPS and HTTP2 natively, as well as any plain TCP protocols."}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"authorization-architecture",children:"Authorization Architecture"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"image",src:t(214661).Z+"",width:"1100",height:"991"})}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Implicit enablement"}),"\n",(0,n.jsx)(i.li,{children:"Authorization policy"}),"\n",(0,n.jsx)(i.li,{children:"Policy target"}),"\n",(0,n.jsx)(i.li,{children:"Value matching"}),"\n",(0,n.jsx)(i.li,{children:"Allow-all and deny-all"}),"\n",(0,n.jsx)(i.li,{children:"Custom conditions"}),"\n",(0,n.jsx)(i.li,{children:"Authenticated and unauthenticated identity"}),"\n",(0,n.jsx)(i.li,{children:"Using istio authorization on plain TCP protocols"}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"https://istio.io/docs/concepts/security",children:"https://istio.io/docs/concepts/security"})})]})}function d(e={}){const{wrapper:i}={...(0,o.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},898325:(e,i,t)=>{t.d(i,{Z:()=>n});const n=t.p+"assets/images/DevOps-Monitoring-Security-image1-51ad143d7e57c478fcf6b9c90ac92dcc.jpg"},595618:(e,i,t)=>{t.d(i,{Z:()=>n});const n=t.p+"assets/images/DevOps-Monitoring-Security-image2-9970977a34b09507d626738a3831337c.jpg"},214661:(e,i,t)=>{t.d(i,{Z:()=>n});const n=t.p+"assets/images/DevOps-Monitoring-Security-image3-80c370946d871b19c256fbc31c7bb084.jpg"},511151:(e,i,t)=>{t.d(i,{Z:()=>c,a:()=>r});var n=t(667294);const o={},s=n.createContext(o);function r(e){const i=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(s.Provider,{value:i},e.children)}}}]);