"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[22478],{551531:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"networking/protocols/http-3-quic","title":"HTTP/3 QUIC","description":"QUIC - Quick UDP Internet Connections","source":"@site/docs/networking/protocols/http-3-quic.md","sourceDirName":"networking/protocols","slug":"/networking/protocols/http-3-quic","permalink":"/networking/protocols/http-3-quic","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/networking/protocols/http-3-quic.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1701793554000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"GraphQL","permalink":"/networking/protocols/graphql"},"next":{"title":"HTTP / HTTPS","permalink":"/networking/protocols/http-https"}}');var o=n(474848),r=n(28453);const a={},i="HTTP/3 QUIC",l={},c=[];function h(e){const t={a:"a",h1:"h1",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"http3-quic",children:"HTTP/3 QUIC"})}),"\n",(0,o.jsx)(t.p,{children:"QUIC - Quick UDP Internet Connections"}),"\n",(0,o.jsxs)(t.p,{children:["HTTP/3 don't use TCP as the transport layer for the session, it uses ",(0,o.jsx)(t.a,{href:"https://blog.cloudflare.com/the-road-to-quic/",children:"QUIC, a new Internet transport protocol"}),", which, among other things, introduces streams as first-class citizens at the transport layer. QUIC streams share the same QUIC connection, so no additional handshakes and slow starts are required to create new ones, but QUIC streams are delivered independently such that in most cases packet loss affecting one stream doesn't affect others. This is possible because QUIC packets are encapsulated on top of ",(0,o.jsx)(t.strong,{children:"UDP datagrams."})]}),"\n",(0,o.jsx)(t.p,{children:"Using UDP allows much more flexibility compared to TCP, and enables QUIC implementations to live fully in user-space - updates to the protocol's implementations are not tied to operating systems updates as is the case with TCP. With QUIC, HTTP-level streams can be simply mapped on top of QUIC streams to get all the benefits of HTTP/2 without the head-of-line blocking."}),"\n",(0,o.jsxs)(t.p,{children:["QUIC also combines the typical 3-way TCP handshake with ",(0,o.jsx)(t.a,{href:"https://blog.cloudflare.com/rfc-8446-aka-tls-1-3/",children:"TLS 1.3"}),"'s handshake. Combining these steps means that encryption and authentication are provided by default, and also enables faster connection establishment. In other words, even when a new QUIC connection is required for the initial request in an HTTP session, the latency incurred before data starts flowing is lower than that of TCP with TLS."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"image",src:n(244627).A+"",width:"999",height:"716"})}),"\n",(0,o.jsx)(t.p,{children:"But why not just use HTTP/2 on top of QUIC, instead of creating a whole new HTTP revision? After all, HTTP/2 also offers the stream multiplexing feature. As it turns out, it's somewhat more complicated than that."}),"\n",(0,o.jsxs)(t.p,{children:["While it's true that some of the HTTP/2 features can be mapped on top of QUIC very easily, that's not true for all of them. One in particular, ",(0,o.jsx)(t.a,{href:"https://blog.cloudflare.com/hpack-the-silent-killer-feature-of-http-2/",children:"HTTP/2's header compression scheme called HPACK"}),", heavily depends on the order in which different HTTP requests and responses are delivered to the endpoints. QUIC enforces delivery order of bytes within single streams, but does not guarantee ordering among different streams."]}),"\n",(0,o.jsx)(t.p,{children:"This behavior required the creation of a new HTTP header compression scheme, called QPACK, which fixes the problem but requires changes to the HTTP mapping. In addition, some of the features offered by HTTP/2 (like per-stream flow control) are already offered by QUIC itself, so they were dropped from HTTP/3 in order to remove unnecessary complexity from the protocol.\nQUIC Features"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"All QUIC connections are fully encrypted. (End to end encryption)"}),"\n",(0,o.jsx)(t.li,{children:"forward-error correction (FEC)"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"When NASA's Deep Space Network talks to the Voyager 2 spacecraft (which recently left our solar system) it transmits messages that become garbled crossing 17.6 billion km of space (that's about 11 billion miles). Voyager 2 can't send back the equivalent of \"Say again?\" when it receives a garbled message so the messages sent to Voyager 2 contain error-correcting codes that allow it to reconstruct the message from the mess."}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"QUIC also solves the HTTP/2 HoL (Head of Line Blocking) problem"}),"\n",(0,o.jsx)(t.li,{children:"Finally, one of the slower parts of a standard HTTP/2 over TCP connection is the very beginning. When the app or browser makes a connection there's an initial handshake at the TCP level followed by a handshake to establish encryption. Over a high latency connection (say on a mobile phone on 3G) that creates a noticeable delay. Since QUIC controls all aspects of the connect it merges together connection and encryption into a single handshake."}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"Other features"})}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"connection migration"}),"\n",(0,o.jsx)(t.li,{children:"zero round trip time resumption"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://blog.cloudflare.com/http3-the-past-present-and-future",children:"https://blog.cloudflare.com/http3-the-past-present-and-future"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://www.cloudflare.com/learning/performance/what-is-http3/",children:"https://www.cloudflare.com/learning/performance/what-is-http3/"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://blog.cloudflare.com/the-road-to-quic",children:"https://blog.cloudflare.com/the-road-to-quic"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://www.mnot.net/blog/2018/11/27/header_compression",children:"https://www.mnot.net/blog/2018/11/27/header_compression"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://www.mnot.net/blog/2019/10/13/h2_api_multiplexing",children:"https://www.mnot.net/blog/2019/10/13/h2_api_multiplexing"})}),"\n",(0,o.jsxs)(t.p,{children:["HTTP Version 2 - ",(0,o.jsx)(t.a,{href:"https://httpwg.org/specs/rfc7540.html",children:"https://httpwg.org/specs/rfc7540.html"})]}),"\n",(0,o.jsxs)(t.p,{children:["HPACK: Header Compression for HTTP/2 - ",(0,o.jsx)(t.a,{href:"https://httpwg.org/specs/rfc7541.html",children:"https://httpwg.org/specs/rfc7541.html"})]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://www.toptal.com/web/performance-working-with-http-3",children:"https://www.toptal.com/web/performance-working-with-http-3"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://www.youtube.com/watch?v=2eXbf8-br0Q&ab_channel=HusseinNasser",children:"How Alt-Svc switches HTTP/2 clients to use HTTP/3 - YouTube"})})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},244627:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/HTTP-3-QUIC-image1-124da0a188ff7d31ff59bffbc57a5e83.jpg"},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var s=n(296540);const o={},r=s.createContext(o);function a(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);