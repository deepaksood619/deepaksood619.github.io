"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[39820],{954415:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"technologies/kafka/kafka-topics","title":"Kafka Topics","description":"- A topic is a category of messages in Kafka","source":"@site/docs/technologies/kafka/kafka-topics.md","sourceDirName":"technologies/kafka","slug":"/technologies/kafka/kafka-topics","permalink":"/technologies/kafka/kafka-topics","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/technologies/kafka/kafka-topics.md","tags":[],"version":"current","lastUpdatedBy":"Deepak Sood","lastUpdatedAt":1768996298000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Kafka Topic/Replication","permalink":"/technologies/kafka/kafka-topic-replication"},"next":{"title":"kafkacat / kcat","permalink":"/technologies/kafka/kafkacat-kcat"}}');var t=s(474848),r=s(28453);const a={},o="Kafka Topics",c={},d=[{value:"Kafka Topics Explained: How Events Are Organized",id:"kafka-topics-explained-how-events-are-organized",level:2},{value:"Kafka Topic Naming Convention and Best Practices",id:"kafka-topic-naming-convention-and-best-practices",level:2},{value:"Key Kafka Topic Naming Best Practices",id:"key-kafka-topic-naming-best-practices",level:3},{value:"Example Topic Names",id:"example-topic-names",level:3},{value:"Recommended Strategy: &quot;The 5-Field Standard&quot;",id:"recommended-strategy-the-5-field-standard",level:3},{value:"Good vs. Bad Examples",id:"good-vs-bad-examples",level:3},{value:"Additional Tips",id:"additional-tips",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"kafka-topics",children:"Kafka Topics"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A topic is a category of messages in Kafka"}),"\n",(0,t.jsx)(n.li,{children:"The producers publish the messages into topics"}),"\n",(0,t.jsx)(n.li,{children:"The consumers read the messages from topics"}),"\n",(0,t.jsx)(n.li,{children:"A topic is divided into one or more partitions"}),"\n",(0,t.jsx)(n.li,{children:"A partition is also known as a commit log"}),"\n",(0,t.jsx)(n.li,{children:"Each partition contains an ordered set of messages"}),"\n",(0,t.jsx)(n.li,{children:"Each message is identified by its offset in the partition"}),"\n",(0,t.jsx)(n.li,{children:"Messages are added at one end of the partition and consumed at the other"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"kafka-topics-explained-how-events-are-organized",children:"Kafka Topics Explained: How Events Are Organized"}),"\n",(0,t.jsxs)(n.p,{children:["In Apache Kafka\xae,\xa0",(0,t.jsx)(n.strong,{children:"topics"}),"\xa0are the core abstraction for storing and processing data. Unlike traditional databases where data is stored in\xa0",(0,t.jsx)(n.strong,{children:"tables"}),"\xa0and updated with each new event, Kafka uses\xa0",(0,t.jsx)(n.strong,{children:"logs"}),"\xa0to record every event in sequence. This means that instead of replacing old values, each new event is simply\xa0",(0,t.jsx)(n.strong,{children:"appended"}),"\xa0to the log, preserving the entire history. For example, if you\u2019re monitoring a smart thermostat, every temperature reading is added as a new event in the log, allowing you to track changes over time."]}),"\n",(0,t.jsxs)(n.p,{children:["Each event in a topic is called a\xa0",(0,t.jsx)(n.strong,{children:"message"}),", and it consists of three main parts:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A\xa0",(0,t.jsx)(n.strong,{children:"key"}),", which identifies the source of the event (like a thermostat ID or user ID)."]}),"\n",(0,t.jsxs)(n.li,{children:["A\xa0",(0,t.jsx)(n.strong,{children:"value"}),", which contains the actual data (like the temperature reading or the click action)."]}),"\n",(0,t.jsxs)(n.li,{children:["A\xa0",(0,t.jsx)(n.strong,{children:"timestamp"}),", which marks the exact time the event was produced."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Messages in a topic are\xa0",(0,t.jsx)(n.strong,{children:"immutable"}),"\u2014once written, they cannot be changed. This guarantees a reliable and consistent history of events. If you want to transform or filter data, you don\u2019t modify the original topic; instead, you\xa0",(0,t.jsx)(n.strong,{children:"create a new topic"}),"\xa0that reflects those changes. This keeps Kafka\u2019s logs clean and traceable."]}),"\n",(0,t.jsxs)(n.p,{children:["It\u2019s important to understand that\xa0",(0,t.jsx)(n.strong,{children:"topics are not queues"}),". In a queue, when you read a message, it\u2019s gone\u2014nobody else can read it. But in a Kafka topic, messages remain available for multiple consumers to read independently. This allows for\xa0",(0,t.jsx)(n.strong,{children:"replayability"}),"\xa0and fault tolerance, as data can be processed multiple times without being lost."]}),"\n",(0,t.jsxs)(n.p,{children:["Kafka also supports\xa0",(0,t.jsx)(n.strong,{children:"log compaction"}),". If you only care about the latest state of each key (e.g., the most recent temperature reading from each thermostat), you can enable compaction to remove old versions, keeping your storage lean without losing important information."]}),"\n",(0,t.jsxs)(n.p,{children:["Finally, you can configure\xa0",(0,t.jsx)(n.strong,{children:"retention policies"}),"\xa0to manage storage efficiently, choosing how long Kafka should keep data\u2014whether it\u2019s\xa0",(0,t.jsx)(n.strong,{children:"forever"}),", for a set number of days, or until it\u2019s compacted."]}),"\n",(0,t.jsx)(n.p,{children:"In summary, Kafka topics are powerful, immutable logs that allow you to store, process, and replay streams of events reliably, while keeping full historical context intact."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://developer.confluent.io/courses/apache-kafka/topics/",children:"Kafka Topics Explained: How Events Are Organized"})}),"\n",(0,t.jsx)(n.h2,{id:"kafka-topic-naming-convention-and-best-practices",children:"Kafka Topic Naming Convention and Best Practices"}),"\n",(0,t.jsx)(n.p,{children:"The most important best practice for Kafka topic naming is to use a clear, consistent, and semantically meaningful convention that avoids fields likely to change over time, and to enforce these conventions across your organization."}),"\n",(0,t.jsx)(n.h3,{id:"key-kafka-topic-naming-best-practices",children:"Key Kafka Topic Naming Best Practices"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use a Structured Naming Convention:"}),"\nGroup topics into namespaces based on business processes, products, or originating systems. Common patterns include:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Internal topics: ",(0,t.jsx)(n.code,{children:"<product>.<system>.<event-type>(.<version>)"})]}),"\n",(0,t.jsxs)(n.li,{children:["Business process topics: ",(0,t.jsx)(n.code,{children:"<product>.<process>.<event-type>(.<version>)"})]}),"\n",(0,t.jsxs)(n.li,{children:["Kafka Connect topics: ",(0,t.jsx)(n.code,{children:"<product>.connect.<source-system>.<event-type>(.<version>)"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Semantic Versioning:"}),"\nIf schemas evolve in a backward-incompatible way, increment the major version in the topic name (e.g., ",(0,t.jsx)(n.code,{children:"payments.funds-check-status.1"}),"). The initial version (v0) is implicit and does not need to be appended."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Avoid Volatile Fields:"}),"\nDo not include fields in topic names that are likely to change, such as owner names, service names, or product names. Instead, focus on the data's business meaning."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Do Not Couple to Applications:"}),"\nAvoid naming topics after the applications that produce or consume them. Topic names should reflect the data, not the software using it."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enforce Naming Conventions:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Disable automatic topic creation (",(0,t.jsx)(n.code,{children:"auto.topic.creation=false"}),") to prevent ad hoc topic names."]}),"\n",(0,t.jsx)(n.li,{children:"Use CI/CD pipelines to automate and enforce topic creation and naming."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Field Components to Consider:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Product"}),"\n",(0,t.jsx)(n.li,{children:"Public/Private (internal vs. external consumption)"}),"\n",(0,t.jsx)(n.li,{children:"Message Type (purpose or intent)"}),"\n",(0,t.jsx)(n.li,{children:"Scope (ETL, tracking, queueing, etc.)"}),"\n",(0,t.jsx)(n.li,{children:"Dataset Name"}),"\n",(0,t.jsx)(n.li,{children:"Data Name"}),"\n",(0,t.jsx)(n.li,{children:"Data Type (e.g., AVRO, JSON)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Separators and Allowed Characters:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use periods (",(0,t.jsx)(n.code,{children:"."}),") to separate fields, and dashes (",(0,t.jsx)(n.code,{children:"-"}),") as word separators."]}),"\n",(0,t.jsxs)(n.li,{children:["Allowed characters: ",(0,t.jsx)(n.code,{children:"[a-zA-Z0-9._-]"})]}),"\n",(0,t.jsx)(n.li,{children:"Avoid mixing underscores and dots in the same cluster, as they may be treated as equivalent in some contexts."}),"\n",(0,t.jsxs)(n.li,{children:["Do not start topic names with an underscore (",(0,t.jsx)(n.code,{children:"_"}),"), as this is reserved for internal topics."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Length Limitations:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Topic names must not exceed 249 characters, to ensure compatibility with Kafka's partition folder naming."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cluster Linking and Environment Considerations:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If using cluster linking, consider prefixing topic names with the region or environment for clarity and to avoid conflicts."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"example-topic-names",children:"Example Topic Names"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Use Case"}),(0,t.jsx)(n.th,{children:"Example Topic Name"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Internal"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"payments.core.transaction.1"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Business Process"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"retail.orders.placed.2"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Kafka Connect"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"crm.connect.salesforce.customer-update.1"})})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"recommended-strategy-the-5-field-standard",children:'Recommended Strategy: "The 5-Field Standard"'}),"\n",(0,t.jsx)(n.p,{children:"If you are starting from scratch, adopt this specific template. It strikes the best balance between detail and brevity:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"<domain>.<service>.<entity>.<event>.<version>"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Domain:"})," High-level business area (",(0,t.jsx)(n.code,{children:"ecomm"}),", ",(0,t.jsx)(n.code,{children:"fin"}),", ",(0,t.jsx)(n.code,{children:"iot"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Service:"})," The producer application (",(0,t.jsx)(n.code,{children:"checkout-api"}),", ",(0,t.jsx)(n.code,{children:"fraud-detector"}),").8"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Entity:"})," The noun (",(0,t.jsx)(n.code,{children:"cart"}),", ",(0,t.jsx)(n.code,{children:"suspicious-ip"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Event:"})," The verb/state (",(0,t.jsx)(n.code,{children:"abandoned"}),", ",(0,t.jsx)(n.code,{children:"flagged"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Version:"})," Schema version (",(0,t.jsx)(n.code,{children:"v1"}),")."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Result:"})," ",(0,t.jsx)(n.code,{children:"ecomm.checkout-api.cart.abandoned.v1"})]}),"\n",(0,t.jsx)(n.h3,{id:"good-vs-bad-examples",children:"Good vs. Bad Examples"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Structure"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Topic Name"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Verdict"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Reason"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Flat"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"orders"})}),(0,t.jsxs)(n.td,{children:["\u274c ",(0,t.jsx)(n.strong,{children:"Bad"})]}),(0,t.jsx)(n.td,{children:"Too vague. Whose orders? What schema?"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Mixed"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Billing_Invoices_Generated"})}),(0,t.jsxs)(n.td,{children:["\u274c ",(0,t.jsx)(n.strong,{children:"Bad"})]}),(0,t.jsx)(n.td,{children:"Inconsistent casing; hard to parse programmatically."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"No Version"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"marketing.clicks"})}),(0,t.jsxs)(n.td,{children:["\u26a0\ufe0f ",(0,t.jsx)(n.strong,{children:"Risky"})]}),(0,t.jsx)(n.td,{children:"Hard to migrate if the click schema changes dramatically."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Metric Clash"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"app.topic_name"})}),(0,t.jsxs)(n.td,{children:["\u274c ",(0,t.jsx)(n.strong,{children:"Bad"})]}),(0,t.jsxs)(n.td,{children:["Mixes ",(0,t.jsx)(n.code,{children:"."})," and ",(0,t.jsx)(n.code,{children:"_"}),". Messes up JMX metrics."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Hierarchical"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"sales.na.orders.created.v2"})}),(0,t.jsxs)(n.td,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Good"})]}),(0,t.jsx)(n.td,{children:"Clear ownership (Sales NA), entity (orders), event (created), and version."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Technical"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"connect-cluster.configs"})}),(0,t.jsxs)(n.td,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Good"})]}),(0,t.jsx)(n.td,{children:"Standard internal naming for Kafka Connect."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"additional-tips",children:"Additional Tips"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Build topic names from most general to most specific."}),"\n",(0,t.jsx)(n.li,{children:"Plan for future growth and cross-team usage."}),"\n",(0,t.jsx)(n.li,{children:"Document your naming convention and educate all Kafka users in your organization."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var i=s(296540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);