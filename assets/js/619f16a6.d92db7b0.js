"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[40945],{401973:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"devops/monitoring/istio/operations","title":"Operations","description":"Load Balancer","source":"@site/docs/devops/monitoring/istio/operations.md","sourceDirName":"devops/monitoring/istio","slug":"/devops/monitoring/istio/operations","permalink":"/devops/monitoring/istio/operations","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/devops/monitoring/istio/operations.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1707138374000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Observability","permalink":"/devops/monitoring/istio/observability"},"next":{"title":"Others","permalink":"/devops/monitoring/istio/others"}}');var r=s(474848),t=s(28453);const o={},l="Operations",a={},d=[{value:"Load Balancer",id:"load-balancer",level:2},{value:"To Add a New Port to the IngressGateway",id:"to-add-a-new-port-to-the-ingressgateway",level:2},{value:"To Add Certificates to an SSL Service",id:"to-add-certificates-to-an-ssl-service",level:2},{value:"Deployment",id:"deployment",level:2},{value:"Deployment Models",id:"deployment-models",level:2},{value:"Cluster models",id:"cluster-models",level:2},{value:"Network models",id:"network-models",level:2},{value:"Control plane models",id:"control-plane-models",level:2},{value:"Identity and trust models",id:"identity-and-trust-models",level:2},{value:"Mesh models",id:"mesh-models",level:2},{value:"Tenancy models",id:"tenancy-models",level:2},{value:"Integrations",id:"integrations",level:2}];function c(e){const n={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"operations",children:"Operations"})}),"\n",(0,r.jsx)(n.h2,{id:"load-balancer",children:"Load Balancer"}),"\n",(0,r.jsx)(n.p,{children:"Make sure your load balancer configuration forwards to all your worker nodes. This will ensure that the traffic gets forwarded even if some nodes are down."}),"\n",(0,r.jsx)(n.h2,{id:"to-add-a-new-port-to-the-ingressgateway",children:"To Add a New Port to the IngressGateway"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add the port to an existingGatewayor configure a new. If it's a TCP service also add the port to theVirtualService, not needed for HTTP since it matches on layer 7 (domain name, etc.)."}),"\n",(0,r.jsx)(n.li,{children:"Add the port to theingressgateway service. If you are using servicetype: LoadBalancer, you are done."}),"\n",(0,r.jsx)(n.li,{children:"Otherwise, open the port in the load balancer and forward traffic to all worker nodes."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"to-add-certificates-to-an-ssl-service",children:"To Add Certificates to an SSL Service"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add the TLS secrets to the cluster."}),"\n",(0,r.jsx)(n.li,{children:"Mount the secret volumes in theingressgateway."}),"\n",(0,r.jsx)(n.li,{children:"Configure theGatewayto use the newly created secrets."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://blog.jayway.com/2018/10/22/understanding-istio-ingress-gateway-in-kubernetes",children:"https://blog.jayway.com/2018/10/22/understanding-istio-ingress-gateway-in-kubernetes"})}),"\n",(0,r.jsx)(n.h2,{id:"deployment",children:"Deployment"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Architecture"}),"\n",(0,r.jsx)(n.li,{children:"Deployment Models"}),"\n",(0,r.jsx)(n.li,{children:"Performance and Scalability"}),"\n",(0,r.jsx)(n.li,{children:"Pods and Services"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"deployment-models",children:"Deployment Models"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"single or multiple cluster"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"single or multiple network"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"single or multiple control plane"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"single or multiple mesh"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"All combinations are possible, although some are more common than others and some are clearly not very interesting (for example, multiple mesh in a single cluster)."}),"\n",(0,r.jsx)(n.h2,{id:"cluster-models",children:"Cluster models"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Single cluster"}),"\n",(0,r.jsx)(n.li,{children:"Multiple cluster"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"network-models",children:"Network models"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Single network"}),"\n",(0,r.jsx)(n.li,{children:"Multiple networks"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"control-plane-models",children:"Control plane models"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"One cluster per region (lowest availability)"}),"\n",(0,r.jsx)(n.li,{children:"Multiple clusters per region"}),"\n",(0,r.jsx)(n.li,{children:"One cluster per zone"}),"\n",(0,r.jsx)(n.li,{children:"Multiple clusters per zone"}),"\n",(0,r.jsx)(n.li,{children:"Each cluster (highest availability)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"identity-and-trust-models",children:"Identity and trust models"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Trust within a mesh"}),"\n",(0,r.jsx)(n.li,{children:"Trust between meshes"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"mesh-models",children:"Mesh models"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Single mesh"}),"\n",(0,r.jsx)(n.li,{children:"Multiple meshes"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tenancy-models",children:"Tenancy models"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Namespace tenancy"}),"\n",(0,r.jsx)(n.li,{children:"Cluster tenancy"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://istio.io/docs/ops/deployment/deployment-models",children:"https://istio.io/docs/ops/deployment/deployment-models"})}),"\n",(0,r.jsx)(n.h2,{id:"integrations",children:"Integrations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prometheus"}),"\n",(0,r.jsx)(n.li,{children:"cert-manager"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://cert-manager.io/",children:"cert-manager"})," is a tool that automates certificate management. This can be integrated with Istio gateways to manage TLS certificates."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://istio.io/docs/ops/integrations/certmanager",children:"https://istio.io/docs/ops/integrations/certmanager"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Grafana","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://grafana.com/grafana/dashboards/7639",children:"Mesh Dashboard"})," provides an overview of all services in the mesh."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Provides Global Summary view of the Mesh and shows HTTP/gRPC and TCP workloads in the Mesh."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://grafana.com/grafana/dashboards/7636",children:"Service Dashboard"})," provides a detailed breakdown of metrics for a service."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Provides metrics about requests and responses for each individual service within the mesh (HTTP/gRPC and TCP). This also provides metrics about client and service workloads for this service."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://grafana.com/grafana/dashboards/7630",children:"Workload Dashboard"})," provides a detailed breakdown of metrics for a workload."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Provides metrics about requests and responses for each individual workload within the mesh (HTTP/gRPC and TCP). This also provides metrics about inbound workloads and outbound services for this workload."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://grafana.com/grafana/dashboards/11829",children:"Performance Dashboard"})," monitors the resource usage of the mesh."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://grafana.com/grafana/dashboards/7645",children:"Control Plane Dashboard"})," monitors the health and performance of the control plane."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://istio.io/docs/ops/integrations/grafana",children:"https://istio.io/docs/ops/integrations/grafana"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(296540);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);