"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[23342],{510445:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"python/others/sqlalchemy/models","title":"Models","description":"https://docs.sqlalchemy.org/en/14/orm/quickstart.html","source":"@site/docs/python/others/sqlalchemy/models.md","sourceDirName":"python/others/sqlalchemy","slug":"/python/others/sqlalchemy/models","permalink":"/python/others/sqlalchemy/models","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/python/others/sqlalchemy/models.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1701793554000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"SQLAlchemy","permalink":"/python/others/sqlalchemy/"},"next":{"title":"ORM","permalink":"/python/others/sqlalchemy/orm"}}');var a=t(474848),n=t(28453);const l={},o="Models",c={},h=[];function i(e){const s={a:"a",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"models",children:"Models"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.a,{href:"https://docs.sqlalchemy.org/en/14/orm/quickstart.html",children:"https://docs.sqlalchemy.org/en/14/orm/quickstart.html"})}),"\n",(0,a.jsx)(s.p,{children:"Here, we define module-level constructs that will form the structures which we will be querying from the database. This structure, known as a Declarative Mapping, defines at once both a Python object model, as well as database metadata that describes real SQL tables that exist, or will exist, in a particular database"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'from sqlalchemy import Column\nfrom sqlalchemy import ForeignKey\nfrom sqlalchemy import Integer\nfrom sqlalchemy import String\nfrom sqlalchemy.orm import declarative_base\nfrom sqlalchemy.orm import relationship\n\nBase = declarative_base()\n\nclass User(Base):\n    __tablename__ = "user_account"\n    id = Column(Integer, primary_key=True)\n    name = Column(String(30))\n    fullname = Column(String)\n    addresses = relationship(\n        "Address", back_populates="user", cascade="all, delete-orphan"\n    )\n\n    def __repr__(self):\n        return f"User(id={self.id!r}, name={self.name!r}, fullname={self.fullname!r})"\n\nclass Address(Base):\n    __tablename__ = "address"\n    id = Column(Integer, primary_key=True)\n    email_address = Column(String, nullable=False)\n    user_id = Column(Integer, ForeignKey("user_account.id"), nullable=False)\n\n    user = relationship("User", back_populates="addresses")\n\n    def __repr__(self):\n        return f"Address(id={self.id!r}, email_address={self.email_address!r})"\n'})}),"\n",(0,a.jsxs)(s.p,{children:["Above, the declarative mapping makes use of ",(0,a.jsx)(s.a,{href:"https://docs.sqlalchemy.org/en/14/core/metadata.html#sqlalchemy.schema.Column",children:"Column"})," objects to define the basic units of data storage that will be in the database. The ",(0,a.jsx)(s.a,{href:"https://docs.sqlalchemy.org/en/14/orm/relationship_api.html#sqlalchemy.orm.relationship",children:"relationship()"})," construct defines linkages between two ",(0,a.jsx)(s.a,{href:"https://docs.sqlalchemy.org/en/14/glossary.html#term-mapped",children:"mapped"})," classes, UserandAddressabove."]}),"\n",(0,a.jsxs)(s.p,{children:["The schema contains necessary elements such as primary key constraints set up by the ",(0,a.jsx)(s.a,{href:"https://docs.sqlalchemy.org/en/14/core/metadata.html#sqlalchemy.schema.Column.params.primary_key",children:"Column.primary_key"})," parameter, a ",(0,a.jsx)(s.a,{href:"https://docs.sqlalchemy.org/en/14/glossary.html#term-foreign-key-constraint",children:"foreign key constraint"})," configured using ",(0,a.jsx)(s.a,{href:"https://docs.sqlalchemy.org/en/14/core/constraints.html#sqlalchemy.schema.ForeignKey",children:"ForeignKey"}),"(which is used by ",(0,a.jsx)(s.a,{href:"https://docs.sqlalchemy.org/en/14/orm/relationship_api.html#sqlalchemy.orm.relationship",children:"relationship()"})," as well), and datatypes for columns including ",(0,a.jsx)(s.a,{href:"https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.Integer",children:"Integer"})," and ",(0,a.jsx)(s.a,{href:"https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.String",children:"String"}),"."]})]})}function m(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>o});var r=t(296540);const a={},n=r.createContext(a);function l(e){const s=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),r.createElement(n.Provider,{value:s},e.children)}}}]);