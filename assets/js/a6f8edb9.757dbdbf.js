"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[26423],{818855:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var n=t(785893),i=t(511151);const r={},a="MySQL",o={id:"databases/sql-databases/mysql/intro",title:"MySQL",description:"Many tables and relationship between tables",source:"@site/docs/databases/sql-databases/mysql/intro.md",sourceDirName:"databases/sql-databases/mysql",slug:"/databases/sql-databases/mysql/intro",permalink:"/databases/sql-databases/mysql/intro",draft:!1,unlisted:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases/sql-databases/mysql/intro.md",tags:[],version:"current",lastUpdatedAt:1707138374,formattedLastUpdatedAt:"Feb 5, 2024",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"GTID Replication",permalink:"/databases/sql-databases/mysql/gtid-replication"},next:{title:"MyDumper",permalink:"/databases/sql-databases/mysql/mydumper"}},d={},l=[{value:"History",id:"history",level:2},{value:"Checkpoints",id:"checkpoints",level:2},{value:"Compression",id:"compression",level:2},{value:"Concurrency Control",id:"concurrency-control",level:2},{value:"Data Model",id:"data-model",level:2},{value:"Foreign Keys",id:"foreign-keys",level:2},{value:"Indexes",id:"indexes",level:2},{value:"Isolation Levels",id:"isolation-levels",level:2},{value:"Joins",id:"joins",level:2},{value:"Logging",id:"logging",level:2},{value:"Query Compilation",id:"query-compilation",level:2},{value:"Query Execution",id:"query-execution",level:2},{value:"Query Interface",id:"query-interface",level:2},{value:"Storage Architecture",id:"storage-architecture",level:2},{value:"Storage Model",id:"storage-model",level:2},{value:"Storage Organization",id:"storage-organization",level:2},{value:"Stored Procedures",id:"stored-procedures",level:2},{value:"System Architecture",id:"system-architecture",level:2},{value:"Views",id:"views",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Important Paths",id:"important-paths",level:2},{value:"InnoDB internals",id:"innodb-internals",level:2}];function h(e){const s={a:"a",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"mysql",children:"MySQL"}),"\n",(0,n.jsx)(s.p,{children:"Many tables and relationship between tables"}),"\n",(0,n.jsx)(s.p,{children:"Full set of ACID properties"}),"\n",(0,n.jsx)(s.p,{children:"Master slave architecture, so scales up pretty well"}),"\n",(0,n.jsx)(s.p,{children:'MySQL is an open-source relational database management system. It is considered a "fast, stable, and true multi-user, multi-threaded sql server." MySQL is used in many web applications and websites, and there are several commercial databases that are compatible with it. Users interact with the database through the Structured Query Language (SQL). The default version of MySQL uses InnoDB as a storage engine. However, the MySQL storage engine architecture is pluggable, allowing for a specialized storage engine to be used. MySQL has been actively updated and supported since 1995, with new versions being released every 1-3 years. Several MySQL forks exist, most notably MariaDB, which is led by the original MySQL developers. Oracle, which acquired MySQL in 2010, offers several paid editions of the DBMS that offer additional features.'}),"\n",(0,n.jsx)(s.h2,{id:"history",children:"History"}),"\n",(0,n.jsx)(s.p,{children:"MySQL was first released on May 23, 1995. It was created by MySQL AB, and first developed by two of MySQL AB's founders, David Axmark and Monty Widenius. Sun Microsystems acquired MySQL AB in 2008, and thus Oracle acquired MySQL through their 2010 acquisition of Sun. In response to the Oracle purchase, Michael Widenius forked MySQL, creating MariaDB."}),"\n",(0,n.jsx)(s.p,{children:"InnoDB became the default storage engine for MySQL at version 5.5, in 2010. Prior to this, the default storage engine had been MyISAM, which lacked transaction support and foreign key support. Some MySQL forks also used a fork of InnoDB."}),"\n",(0,n.jsx)(s.h2,{id:"checkpoints",children:"Checkpoints"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?checkpoints=fuzzy",children:"Fuzzy"})}),"\n",(0,n.jsx)(s.p,{children:"InnoDB takes fuzzy checkpoints during normal operation. When the database shuts down, it takes a sharp checkpoint."}),"\n",(0,n.jsx)(s.h2,{id:"compression",children:"Compression"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?compression=naive-page-level",children:"Na\xefve (Page-Level)"})}),"\n",(0,n.jsx)(s.p,{children:"InnoDB supports table compression and page compression. Specifically, InnoDB supports transparent page compression. The algorithms used for compression are Zlib and LZ4. In order to compress or uncompress an existing table, the table must be rebuilt. The compressed data is held in small pages in the buffer pool, but in order to extract or update column values, MySQL must also create an uncompressed page in the buffer pool, containing the uncompressed data."}),"\n",(0,n.jsx)(s.h2,{id:"concurrency-control",children:"Concurrency Control"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?concurrency-control=multi-version-concurrency-control-mvcc",children:"Multi-version Concurrency Control (MVCC)"}),(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?concurrency-control=two-phase-locking-deadlock-detection",children:"Two-Phase Locking (Deadlock Detection)"})]}),"\n",(0,n.jsx)(s.p,{children:"MySQL/InnoDB utilizes Multi-version Concurrency Control. In doing so, it seeks to combine the benefits of a multi-versioning database with two phase locking. InnoDB stores information about the old versions of changed rows in a data structure called a rollback segment. This information is used to perform undo operations in the event that a transaction rollback is required. InnoDB uses shared, exclusive, intention, record, gap, next-key, insert intention, and AUTO-INC locks. In addition, when handling spatial indexes, InnoDB utilizes predicate locks."}),"\n",(0,n.jsx)(s.h2,{id:"data-model",children:"Data Model"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?data-model=relational",children:"Relational"})}),"\n",(0,n.jsx)(s.p,{children:"MySQL supports a relational model."}),"\n",(0,n.jsx)(s.h2,{id:"foreign-keys",children:"Foreign Keys"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?foreign-keys=supported",children:"Supported"})}),"\n",(0,n.jsx)(s.p,{children:"MySQL supports foreign keys and utilizes foreign key constraints to keep the data consistent. InnoDB does not support foreign keys for tables with user-defined partitioning, though certain NDB tables can."}),"\n",(0,n.jsx)(s.h2,{id:"indexes",children:"Indexes"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?indexes=btree",children:"B+Tree"})}),"\n",(0,n.jsx)(s.p,{children:"The default InnoDB indexes are B+Tree data structures. MySQL also supports spatial indexes, which use R-trees. Earlier versions supported hash indexes, but current versions do not and hash indexes have been entirely replaced by B+Trees."}),"\n",(0,n.jsxs)(s.p,{children:["Most MySQL indexes (PRIMARY KEY,UNIQUE,INDEX, andFULLTEXT) are stored in ",(0,n.jsx)(s.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_b_tree",children:"B-trees"}),". Exceptions: Indexes on spatial data types use R-trees;MEMORYtables also support ",(0,n.jsx)(s.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_hash_index",children:"hash indexes"}),";InnoDBuses inverted lists forFULLTEXTindexes."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html",children:"https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html"})}),"\n",(0,n.jsx)(s.h2,{id:"isolation-levels",children:"Isolation Levels"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?isolation-levels=read-uncommitted",children:"Read Uncommitted"}),(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?isolation-levels=read-committed",children:"Read Committed"}),(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?isolation-levels=serializable",children:"Serializable"}),(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?isolation-levels=repeatable-read",children:"Repeatable Read"})]}),"\n",(0,n.jsx)(s.p,{children:"MySQL/InnoDB supports all four of the isolation levels defined by the ANSI/ISO SQL standard - read uncommitted, read committed, repeatable read, and serializable. The default isolation level for InnoDB is repeatable read isolation."}),"\n",(0,n.jsx)(s.h2,{id:"joins",children:"Joins"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?joins=nested-loop-join",children:"Nested Loop Join"})}),"\n",(0,n.jsx)(s.p,{children:"MySQL uses the Nested-Loop Join Algorithm and the Block Nested-Loop Join Algorithm to execute joins between tables. The Block Nested-Loop Join Algorithm reduces the number of times the inner table must be read by buffering rows read in the outer loops, making the join faster."}),"\n",(0,n.jsx)(s.h2,{id:"logging",children:"Logging"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?logging=physical-logging",children:"Physical Logging"}),(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?logging=physiological-logging",children:"Physiological Logging"})]}),"\n",(0,n.jsx)(s.p,{children:"MySQL uses the InnoDB transaction log to support data durability. The InnoDB transaction log handles REDO logging using a physiological logging scheme, which maintains atomicity, consistency, and durability. MySQL also has several server logs, though by default, none of them are enabled. The server logs use physical logging."}),"\n",(0,n.jsx)(s.h2,{id:"query-compilation",children:"Query Compilation"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?query-compilation=not-supported",children:"Not Supported"})}),"\n",(0,n.jsx)(s.h2,{id:"query-execution",children:"Query Execution"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?query-execution=tuple-at-a-time-model",children:"Tuple-at-a-Time Model"})}),"\n",(0,n.jsx)(s.p,{children:"MySQL supports an iterator query processing model. Its iterator interface is tuple-at-a-time, and it does not support intra-query parallelism."}),"\n",(0,n.jsx)(s.h2,{id:"query-interface",children:"Query Interface"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?query-interface=sql",children:"SQL"})}),"\n",(0,n.jsx)(s.p,{children:'MySQL supports the standard SQL query interface to load data and execute queries. However, there are some slight differences between the MySQL implementation and the standard interface. These differences are found in the utilization of certain commands in the Sybase SQL extension and in the behavior of UPDATE. There are also a few foreign key differences, primarily due to InnoDB. MySQL has also removed the "--" start-comment sequence allowed by SQL, and instead uses only the C syntax comment style used by SQL. In addition, MySQL supports several extensions to the standard SQL query interface.'}),"\n",(0,n.jsx)(s.h2,{id:"storage-architecture",children:"Storage Architecture"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?storage-architecture=disk-oriented",children:"Disk-oriented"})}),"\n",(0,n.jsx)(s.p,{children:"MySQL/InnoDB is a disk-oriented DBMS. InnoDB uses disk storage and a buffer pool divided into pages in main memory to cache table and index data as it is accessed.The buffer pool uses an LRU replacement policy, moving older pages toward the tail of a sublist as other pages are used, until they are evicted."}),"\n",(0,n.jsx)(s.h2,{id:"storage-model",children:"Storage Model"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?storage-model=n-ary-storage-model-rowrecord",children:"N-ary Storage Model (Row/Record)"})}),"\n",(0,n.jsx)(s.p,{children:"MySQL/InnoDB is a row-storage DBMS. InnoDB supports four row formats, which determine how the data is stored within the B-trees. The formats are redundant, compact, dynamic, and compressed."}),"\n",(0,n.jsx)(s.h2,{id:"storage-organization",children:"Storage Organization"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?storage-organization=copy-on-write-shadow-paging",children:"Copy-on-Write / Shadow Paging"})}),"\n",(0,n.jsx)(s.p,{children:"InnoDB tables arrange the data on disk based on primary keys, in order to optimize queries. Each table has a clustered index, which is a primary key index that organizes the data. InnoDB primarily uses a buffer pool, change buffer, adaptive hash index, and log buffer as in memory structures, while the disk structures used are primarily tables, indexes, tablespaces, and the doublewrite buffer. InnoDB uses a doublewrite buffer, one of the disk structures, to write pages after they have been flushed, prior to writing pages to the actual data file."}),"\n",(0,n.jsx)(s.h2,{id:"stored-procedures",children:"Stored Procedures"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?stored-procedures=supported",children:"Supported"})}),"\n",(0,n.jsx)(s.p,{children:"MySQL supports stored procedures. Supported stored procedures must be written in SQL."}),"\n",(0,n.jsx)(s.h2,{id:"system-architecture",children:"System Architecture"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?system-architecture=shared-everything",children:"Shared-Everything"})}),"\n",(0,n.jsx)(s.p,{children:"MySQL is a shared-everything DBMS. The architecture of the system is comprised of three layers."}),"\n",(0,n.jsx)(s.p,{children:"The topmost layer is the client application, which contains services such as connection handling, authentication, and security. Each client receives its own thread for connecting to the server. All of that client's queries will be executed within that thread."}),"\n",(0,n.jsx)(s.p,{children:"The middle layer is the MySQL server layer, which handles the logic of the DBMS. The second layer handles query parsing, analysis, optimization, caching, and built-in functions. This is the layer that handles stored procedures and views."}),"\n",(0,n.jsx)(s.p,{children:"The third and final layer is responsible for storing and retrieving all of the data. MySQL utilizes a pluggable storage engine architecture, and thus communicates with the selected storage engine - the default of which is InnoDB - using thestorage engine API. Thestorage engine APIallows for different storage engines to be used with MySQL while allowing the DBMS to provide similar levels of functionality."}),"\n",(0,n.jsx)(s.h2,{id:"views",children:"Views"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/browse?views=virtual-views",children:"Virtual Views"})}),"\n",(0,n.jsx)(s.p,{children:"MySQL supports views, including updatable and insertable views. It does not natively support materialized views"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://dbdb.io/db/mysql",children:"https://dbdb.io/db/mysql"})}),"\n",(0,n.jsx)(s.h2,{id:"architecture",children:"Architecture"}),"\n",(0,n.jsx)(s.p,{children:"MySQLs design supports a wide range of underlying storage engines, here's a simple picture to illustrate that."}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"image",src:t(674478).Z+"",width:"227",height:"346"})}),"\n",(0,n.jsx)(s.p,{children:"Clients connect to MySQL and issues queries (which may or may not already be cached), these queries are parsed, optimized, and then MySQL through a defined API will interact with a chosen storage engine to retrieve/persist data. Each storage engine has different properties that make it suitable for different use cases."}),"\n",(0,n.jsx)(s.h2,{id:"important-paths",children:"Important Paths"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["datadir - where the data lives by default - default location for:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Data and indexes for non-InnoDB tables"}),"\n",(0,n.jsx)(s.li,{children:"InnoDB file-per-table, general, syste, and undo log tablespaces"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"innodb_data_home_dir - default location for the InnoDB system tablespace"}),"\n",(0,n.jsx)(s.li,{children:"innodb_log_group_home_dir - path to the InnoDB redo log files"}),"\n",(0,n.jsx)(s.li,{children:"innodb_undo_directory - path to the InnoDB undo tablespaces"}),"\n",(0,n.jsx)(s.li,{children:"log_bin - dual functionality: enable binary logging and set path/file name prefix"}),"\n",(0,n.jsx)(s.li,{children:"log_error"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://www.mysqltutorial.org/advanced-mysql",children:"https://www.mysqltutorial.org/advanced-mysql"})}),"\n",(0,n.jsx)(s.h2,{id:"innodb-internals",children:"InnoDB internals"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"image",src:t(583185).Z+"",width:"1023",height:"761"})})]})}function c(e={}){const{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},674478:(e,s,t)=>{t.d(s,{Z:()=>n});const n=t.p+"assets/images/MySQL-image1-31da9179a6999aa70bfe074d00647b20.jpg"},583185:(e,s,t)=>{t.d(s,{Z:()=>n});const n=t.p+"assets/images/MySQL-image2-42fab55a853d6a0f5dbf01ce9292ddb0.jpg"},511151:(e,s,t)=>{t.d(s,{Z:()=>o,a:()=>a});var n=t(667294);const i={},r=n.createContext(i);function a(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);