"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[46352],{564401:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>d});var n=s(785893),i=s(511151);const t={},r="Cassandra",l={id:"databases/nosql-databases/cassandra/intro",title:"Cassandra",description:"Apache Cassandra is a free and open-source, distributed, wide column store, NoSQLdatabase management system designed to handle large amounts of data across many commodity servers, providing high availability with no single point of failure. Cassandra offers robust support for clusters spanning multiple datacenters, with asynchronous masterless replication allowing low latency operations for all clients.",source:"@site/docs/databases/nosql-databases/cassandra/intro.md",sourceDirName:"databases/nosql-databases/cassandra",slug:"/databases/nosql-databases/cassandra/intro",permalink:"/databases/nosql-databases/cassandra/intro",draft:!1,unlisted:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases/nosql-databases/cassandra/intro.md",tags:[],version:"current",lastUpdatedAt:1728296318,formattedLastUpdatedAt:"Oct 7, 2024",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Drivers / Clients",permalink:"/databases/nosql-databases/cassandra/drivers-clients"},next:{title:"Questions",permalink:"/databases/nosql-databases/cassandra/questions"}},o={},d=[{value:"Features",id:"features",level:2},{value:"Distributed columnar data store",id:"distributed-columnar-data-store",level:4},{value:"Supports replication and multi data center replication",id:"supports-replication-and-multi-data-center-replication",level:4},{value:"Scalability",id:"scalability",level:4},{value:"Fault-tolerant (No single point of failure)",id:"fault-tolerant-no-single-point-of-failure",level:4},{value:"Tunable consistency",id:"tunable-consistency",level:4},{value:"MapReduce support",id:"mapreduce-support",level:4},{value:"Query language",id:"query-language",level:4},{value:"Others",id:"others",level:4},{value:"Cassandra Data Model",id:"cassandra-data-model",level:2},{value:"KeySpace",id:"keyspace",level:4},{value:"Column Family",id:"column-family",level:4},{value:"Rows",id:"rows",level:4},{value:"Column",id:"column",level:4},{value:"SuperColumn",id:"supercolumn",level:4},{value:"Node",id:"node",level:2},{value:"Cassandra vs RDBMS",id:"cassandra-vs-rdbms",level:3},{value:"Alternative - ScyllaDB",id:"alternative---scylladb",level:2},{value:"References",id:"references",level:2}];function c(e){const a={a:"a",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h1,{id:"cassandra",children:"Cassandra"}),"\n",(0,n.jsxs)(a.p,{children:["Apache Cassandra is a ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Free_and_open-source_software",children:"free and open-source"}),", ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Distributed_database",children:"distributed"}),", ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Wide_column_store",children:"wide column store"}),", ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/NoSQL",children:"NoSQL"}),(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Database",children:"database"})," management system designed to handle large amounts of data across many ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Commodity_computing",children:"commodity servers"}),", providing high availability with no ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Single_point_of_failure",children:"single point of failure"}),". Cassandra offers robust support for ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Computer_cluster",children:"clusters"})," spanning multiple datacenters, with asynchronous masterless replication allowing low latency operations for all clients."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Intented to run in a datacenter (and also across DCs)"}),"\n",(0,n.jsx)(a.li,{children:"Originally designed at Facebook"}),"\n",(0,n.jsx)(a.li,{children:"Open-sourced later, today an Apache project"}),"\n",(0,n.jsx)(a.li,{children:"Is a highly scalable, distributed and high-performance NoSQL database. Cassandra is designed to handle a huge amount of data"}),"\n",(0,n.jsx)(a.li,{children:"Cassandra handles the huge amount of data with its distributed architecture"}),"\n",(0,n.jsx)(a.li,{children:"Data is placed on different machines with more than one replication factor that provides high availability and no single point of failure"}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Under hood cassandra uses ",(0,n.jsx)(a.strong,{children:"consistent hashing to shard your data"})," and also use ",(0,n.jsx)(a.strong,{children:"gossiping to keep all the nodes informed about the cluster."})]}),"\n",(0,n.jsx)(a.h2,{id:"features",children:"Features"}),"\n",(0,n.jsx)(a.h4,{id:"distributed-columnar-data-store",children:"Distributed columnar data store"}),"\n",(0,n.jsx)(a.p,{children:"Every node in the cluster has the same role. There is no single point of failure. Data is distributed across the cluster (so each node contains different data), but there is no master as every node can service any request."}),"\n",(0,n.jsx)(a.h4,{id:"supports-replication-and-multi-data-center-replication",children:"Supports replication and multi data center replication"}),"\n",(0,n.jsx)(a.p,{children:"Replication strategies are configurable. Cassandra is designed as a distributed system, for deployment of large numbers of nodes across multiple data centers. Key features of Cassandra's distributed architecture are specifically tailored for multiple-data center deployment, for redundancy, for failover and disaster recovery."}),"\n",(0,n.jsx)(a.h4,{id:"scalability",children:"Scalability"}),"\n",(0,n.jsx)(a.p,{children:"Designed to have read and write throughput both increase linearly as new machines are added, with the aim of no downtime or interruption to applications."}),"\n",(0,n.jsx)(a.h4,{id:"fault-tolerant-no-single-point-of-failure",children:"Fault-tolerant (No single point of failure)"}),"\n",(0,n.jsxs)(a.p,{children:["Data is automatically replicated to multiple nodes for ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Fault-tolerance",children:"fault-tolerance"}),".",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Replication_(computer_science)",children:"Replication"})," across multiple data centers is supported. Failed nodes can be replaced with no downtime."]}),"\n",(0,n.jsx)(a.h4,{id:"tunable-consistency",children:"Tunable consistency"}),"\n",(0,n.jsxs)(a.p,{children:["Cassandra is typically classified as an ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/CAP_theorem",children:"AP system"}),", meaning that availability and partition tolerance are generally considered to be more important than consistency in Cassandra, Writes and reads offer a tunable level of ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Consistency_(database_systems)",children:"consistency"}),', all the way from "writes never fail" to "block for all replicas to be readable", with the ',(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Quorum_(distributed_computing)",children:"quorum level"})," in the middle."]}),"\n",(0,n.jsx)(a.p,{children:"Can provide both eventual and strong consistency. (Local Quorum - This many nodes must be written out to transaction to be successful)"}),"\n",(0,n.jsx)(a.h4,{id:"mapreduce-support",children:"MapReduce support"}),"\n",(0,n.jsxs)(a.p,{children:["Cassandra has ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Hadoop",children:"Hadoop"})," integration, with ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/MapReduce",children:"MapReduce"})," support. There is support also for ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Pig_(programming_tool)",children:"Apache Pig"})," and ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Apache_Hive",children:"Apache Hive"}),"."]}),"\n",(0,n.jsx)(a.h4,{id:"query-language",children:"Query language"}),"\n",(0,n.jsxs)(a.p,{children:["Cassandra introduced the Cassandra Query Language (CQL). CQL is a simple interface for accessing Cassandra, as an alternative to the traditional ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/SQL",children:"Structured Query Language"}),"(SQL)."]}),"\n",(0,n.jsx)(a.h4,{id:"others",children:"Others"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"Time-series data"}),"\n",(0,n.jsx)(a.li,{children:"Optimized for availability (through tunable consistency)"}),"\n",(0,n.jsx)(a.li,{children:"Optimized for writes"}),"\n",(0,n.jsx)(a.li,{children:"Easily maintainable"}),"\n",(0,n.jsx)(a.li,{children:"Almost infinitely scalable"}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"cassandra-data-model",children:"Cassandra Data Model"}),"\n",(0,n.jsx)(a.h4,{id:"keyspace",children:"KeySpace"}),"\n",(0,n.jsx)(a.p,{children:"A keyspace in Cassandra is a namespace that defines data replication on nodes. A cluster contains one keyspace per node."}),"\n",(0,n.jsx)(a.h4,{id:"column-family",children:"Column Family"}),"\n",(0,n.jsx)(a.h4,{id:"rows",children:"Rows"}),"\n",(0,n.jsx)(a.h4,{id:"column",children:"Column"}),"\n",(0,n.jsx)(a.h4,{id:"supercolumn",children:"SuperColumn"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.a,{href:"https://www.tutorialspoint.com/cassandra/cassandra_data_model.htm",children:"https://www.tutorialspoint.com/cassandra/cassandra_data_model.htm"})}),"\n",(0,n.jsxs)(a.p,{children:["Cassandra is fundamentally a key-value store and distributes data around the cluster by a ",(0,n.jsx)(a.strong,{children:"PARTITION KEY"}),", then sorts the data on that partition (or row) by the ",(0,n.jsx)(a.strong,{children:"CLUSTERING key"}),". Adding new data to that row is almost free, and updates are handled by marking the previous cell value with a ",(0,n.jsx)(a.strong,{children:"tombstone"})," and adding the new value to the row. Eventually, you will need to ",(0,n.jsx)(a.strong,{children:"compact"})," these partitions as data becomes fragmented over multiple files, but remember that you are amortizing your INSERTs and UPDATEs over time with almost instantaneous commits. This makes scanning a single partition or row very fast as the disk head only performs a single seek operation. However, if you want more than a single Cassandra partition, performance goes south fairly quickly as ",(0,n.jsx)(a.strong,{children:"scatter/gather"})," queries are an ",(0,n.jsx)(a.strong,{children:"anti-pattern"}),", and ",(0,n.jsx)(a.a,{href:"https://www.datastax.com/dev/blog/cassandra-native-secondary-index-deep-dive",children:"secondary indexes"})," are only useful in extremely rare and specific occasions. Therefore, when you know what partition you want to scan, and you don't want to do any aggregations, GROUPBYs, or any other more analytical operations, then you are in good shape. The result is that Cassandra is great for small, tightly constrained, well-known queries and high-volume inserts and updates."]}),"\n",(0,n.jsx)(a.h2,{id:"node",children:"Node"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"6000 - 12000 transactions/second/core"}),"\n",(0,n.jsx)(a.li,{children:"2 - 4 TB"}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"cassandra-vs-rdbms",children:"Cassandra vs RDBMS"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"On > 50 GB data"}),"\n",(0,n.jsxs)(a.li,{children:["MySQL","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Writes 300 ms avg"}),"\n",(0,n.jsx)(a.li,{children:"Reads 350 ms avg"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["Cassandra","\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Writes 0.12 ms avg"}),"\n",(0,n.jsx)(a.li,{children:"Reads 15 ms avg"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"image",src:s(706031).Z+"",width:"896",height:"466"})}),"\n",(0,n.jsx)(a.p,{children:"In the image above, circles are Cassandra nodes and lines between the circles shows distributed architecture, while the client is sending data to the node"}),"\n",(0,n.jsx)(a.h2,{id:"alternative---scylladb",children:"Alternative - ScyllaDB"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.a,{href:"https://www.youtube.com/watch?v=xynXjChKkJc",children:"How Discord Stores Trillions of Messages | Deep Dive - YouTube"})}),"\n",(0,n.jsx)(a.h2,{id:"references",children:"References"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://academy.datastax.com/",children:(0,n.jsx)(a.strong,{children:"https://academy.datastax.com/"})})}),"\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Apache_Cassandra",children:"https://en.wikipedia.org/wiki/Apache_Cassandra"})}),"\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"http://cassandra.apache.org",children:"http://cassandra.apache.org"})}),"\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://www.tutorialspoint.com/cassandra/index.htm",children:"https://www.tutorialspoint.com/cassandra/index.htm"})}),"\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://www.freecodecamp.org/news/the-apache-cassandra-beginner-tutorial",children:"https://www.freecodecamp.org/news/the-apache-cassandra-beginner-tutorial"})}),"\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://www.youtube.com/watch?v=d7o6a75sfY0",children:"Introduction to Apache Cassandra\u2122 + What's New in 4.0 by Patrick McFadin | DataStax Presents"})}),"\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://www.youtube.com/playlist?list=PL9ooVrP1hQOGJ4Yz9vbytkRmLaD6weg8k",children:"Cassandra Tutorial Videos"})}),"\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://blog.bytebytego.com/p/how-uber-scaled-cassandra-for-tens",children:"How Uber Scaled Cassandra for Tens of Millions of Queries Per Second?"})}),"\n"]})]})}function h(e={}){const{wrapper:a}={...(0,i.a)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},706031:(e,a,s)=>{s.d(a,{Z:()=>n});const n=s.p+"assets/images/Cassandra-image1-28d2de64d5c771e9a57e487dfba40c0b.jpg"},511151:(e,a,s)=>{s.d(a,{Z:()=>l,a:()=>r});var n=s(667294);const i={},t=n.createContext(i);function r(e){const a=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(t.Provider,{value:a},e.children)}}}]);