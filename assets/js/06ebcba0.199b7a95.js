"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[14864],{536994:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var t=s(785893),i=s(511151);const o={},r="Concepts",a={id:"devops/docker/concepts",title:"Concepts",description:"Namespaces",source:"@site/docs/devops/docker/concepts.md",sourceDirName:"devops/docker",slug:"/devops/docker/concepts",permalink:"/devops/docker/concepts",draft:!1,unlisted:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/devops/docker/concepts.md",tags:[],version:"current",lastUpdatedAt:1701793554,formattedLastUpdatedAt:"Dec 5, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Docker",permalink:"/devops/docker/"},next:{title:"Containers",permalink:"/devops/docker/containers"}},c={},l=[{value:"Namespaces",id:"namespaces",level:2},{value:"Network namespaces",id:"network-namespaces",level:2},{value:"Control groups (cgroups)",id:"control-groups-cgroups",level:2},{value:"Union file systems",id:"union-file-systems",level:2},{value:"Container format",id:"container-format",level:2},{value:"Docker-Machine",id:"docker-machine",level:2},{value:"Distributions",id:"distributions",level:2},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"concepts",children:"Concepts"}),"\n",(0,t.jsx)(n.h2,{id:"namespaces",children:"Namespaces"}),"\n",(0,t.jsxs)(n.p,{children:["Docker uses a technology called ",(0,t.jsx)(n.em,{children:"namespaces"}),"to provide the isolated workspace called the ",(0,t.jsx)(n.em,{children:"container"}),". When you run a container, Docker creates a set ofnamespacesfor that container."]}),"\n",(0,t.jsx)(n.p,{children:"These namespaces provide a layer of isolation. Each aspect of a container runs in a separate namespace and its access is limited to that namespace."}),"\n",(0,t.jsx)(n.p,{children:"Docker Engine uses namespaces such as the following on Linux:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"The pid namespace:"})," Process isolation (PID: Process ID)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"The net namespace:"})," Managing network interfaces (NET: Networking)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"The ipc namespace:"})," Managing access to IPC resources (IPC: InterProcess Communication)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"The mnt namespace:"})," Managing filesystem mount points (MNT: Mount)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"The uts namespace:"})," Isolating kernel and version identifiers. (UTS: Unix Timesharing System)."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Much of the macOS file system that is accessible to the user is also available to containers using the-vbind mount syntax. The following command runs a container from an image calledr-baseand shares the macOS user's~/Desktop/directory as/Desktopin the container."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"$ docker run -it -v ~/Desktop:/Desktop r-base bash"})}),"\n",(0,t.jsx)(n.p,{children:"For example, the PID namespace is what keeps processes in one container from seeing or interacting with processes in another container (or, for that matter, on the host system)."}),"\n",(0,t.jsx)(n.p,{children:"The PID namespace is the mechanism for remapping PIDs inside the container. Likewise, there are other namespaces (e.g. net, mnt, ipc, uts) that (along with cgroups) provide the isolated environments we know as containers. The user namespace, then, is the mechanism for remapping UIDs inside a container, and this is the newest namespace to be implemented in the Docker Engine, starting in 1.10."}),"\n",(0,t.jsx)(n.h2,{id:"network-namespaces",children:"Network namespaces"}),"\n",(0,t.jsxs)(n.p,{children:["Network namespaces provide a brand-new network stack for all the processes within the namespace. That includes ",(0,t.jsx)(n.strong,{children:"network interfaces, routing tables"})," and ",(0,t.jsx)(n.strong,{children:"iptables rules."})]}),"\n",(0,t.jsx)(n.h2,{id:"control-groups-cgroups",children:"Control groups (cgroups)"}),"\n",(0,t.jsx)(n.p,{children:"Docker Engine on Linux also relies on another technology calledcontrol groups(cgroups). A cgroup limits an application to a specific set of resources. Control groups allow Docker Engine to share available hardware resources to containers and optionally enforce limits and constraints. For example, you can limit the memory available to a specific container."}),"\n",(0,t.jsx)(n.h2,{id:"union-file-systems",children:"Union file systems"}),"\n",(0,t.jsx)(n.p,{children:"Union file systems, or UnionFS, are file systems that operate by creating layers, making them very lightweight and fast. Docker Engine uses UnionFS to provide the building blocks for containers. Docker Engine can use multiple UnionFS variants, including AUFS, btrfs, vfs, and DeviceMapper."}),"\n",(0,t.jsx)(n.h2,{id:"container-format",children:"Container format"}),"\n",(0,t.jsxs)(n.p,{children:["Docker Engine combines the namespaces, control groups, and UnionFS into a wrapper called a container format. The default container format is ",(0,t.jsx)(n.em,{children:"libcontainer"}),". In the future, Docker may support other container formats by integrating with technologies such as BSD Jails or Solaris Zones."]}),"\n",(0,t.jsx)(n.h2,{id:"docker-machine",children:"Docker-Machine"}),"\n",(0,t.jsx)(n.h2,{id:"distributions",children:"Distributions"}),"\n",(0,t.jsx)(n.p,{children:"Ubuntu/Alpine"}),"\n",(0,t.jsx)(n.p,{children:"Alpine Linux is a security-oriented, lightweight Linux distribution based on musl libc and busybox."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://hub.docker.com/_/alpine",children:"https://hub.docker.com/_/alpine"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://martinheinz.dev/blog/92",children:"Why I Will Never Use Alpine Linux Ever Again | Martin Heinz | Personal Website & Blog"})}),"\n",(0,t.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://docs.docker.com/engine/docker-overview/#the-underlying-technology",children:"https://docs.docker.com/engine/docker-overview/#the-underlying-technology"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://dev.to/frosnerd/docker-demystified-27kl",children:"https://dev.to/frosnerd/docker-demystified-27kl"})})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},511151:(e,n,s)=>{s.d(n,{Z:()=>a,a:()=>r});var t=s(667294);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);