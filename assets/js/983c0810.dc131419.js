"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[28607],{282651:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var i=s(785893),t=s(511151);const r={},a="(1) Linux General / Unix / Linux Commands",l={id:"devops/terminal-bash/1-linux-general-unix-linux-commands",title:"(1) Linux General / Unix / Linux Commands",description:"Display",source:"@site/docs/devops/terminal-bash/1-linux-general-unix-linux-commands.md",sourceDirName:"devops/terminal-bash",slug:"/devops/terminal-bash/1-linux-general-unix-linux-commands",permalink:"/devops/terminal-bash/1-linux-general-unix-linux-commands",draft:!1,unlisted:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/devops/terminal-bash/1-linux-general-unix-linux-commands.md",tags:[],version:"current",lastUpdatedAt:1720119349,formattedLastUpdatedAt:"Jul 4, 2024",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Terminal Bash",permalink:"/devops/terminal-bash/"},next:{title:"(2) System Calls",permalink:"/devops/terminal-bash/2-system-calls"}},o={},d=[{value:"Display",id:"display",level:2},{value:"ssh to server",id:"ssh-to-server",level:2},{value:"SSH Agent Forwarding",id:"ssh-agent-forwarding",level:3},{value:"SCP from server (Copy a file from server to local, from local machine)",id:"scp-from-server-copy-a-file-from-server-to-local-from-local-machine",level:3},{value:"SCP to server (Copy a file from local to server, from local machine)",id:"scp-to-server-copy-a-file-from-local-to-server-from-local-machine",level:3},{value:"SCP directory (use -r option)",id:"scp-directory-use--r-option",level:3},{value:"Directory and user permissions",id:"directory-and-user-permissions",level:2},{value:"Redirection and Pipes",id:"redirection-and-pipes",level:2},{value:"Wildcards and Help",id:"wildcards-and-help",level:3},{value:"rm command",id:"rm-command",level:3},{value:"date",id:"date",level:3},{value:"history",id:"history",level:3},{value:"List directory contents",id:"list-directory-contents",level:3},{value:"lsof",id:"lsof",level:2},{value:"Count",id:"count",level:2},{value:"Head (Show the top 2 lines in the file)",id:"head-show-the-top-2-lines-in-the-file",level:3},{value:"Tail (Show the last lines in the file)",id:"tail-show-the-last-lines-in-the-file",level:3},{value:"Hexdump",id:"hexdump",level:3},{value:"Source",id:"source",level:2},{value:"Make",id:"make",level:2},{value:"BitBake",id:"bitbake",level:3},{value:"Add new user",id:"add-new-user",level:3},{value:"Change current user",id:"change-current-user",level:3},{value:"See current user",id:"see-current-user",level:3},{value:"Seq command",id:"seq-command",level:2},{value:"Netstat command (list open ports)",id:"netstat-command-list-open-ports",level:2},{value:"nslookup command",id:"nslookup-command",level:2},{value:"dig command",id:"dig-command",level:2},{value:"uptime",id:"uptime",level:3},{value:"w",id:"w",level:3},{value:"sort",id:"sort",level:3},{value:"<code>alias &lt;alias_command_name&gt;</code>",id:"alias-alias_command_name",level:3},{value:"paste",id:"paste",level:3},{value:"ln (Create links)",id:"ln-create-links",level:3},{value:"hard vs symbolic links",id:"hard-vs-symbolic-links",level:4},{value:"find",id:"find",level:3},{value:"hostname",id:"hostname",level:3},{value:"environments",id:"environments",level:3},{value:"tr (translate characters)",id:"tr-translate-characters",level:3},{value:"tcpdump (wireshark)",id:"tcpdump-wireshark",level:3},{value:"killall",id:"killall",level:3},{value:"Log parsing commands",id:"log-parsing-commands",level:2},{value:"Grep",id:"grep",level:3},{value:"cut",id:"cut",level:3},{value:"sed",id:"sed",level:3},{value:"Finding duplicates with uniq",id:"finding-duplicates-with-uniq",level:3},{value:"openssl",id:"openssl",level:2},{value:"Encrypt decrypt a file or folder",id:"encrypt-decrypt-a-file-or-folder",level:3},{value:"public private key pair",id:"public-private-key-pair",level:3},{value:"ts",id:"ts",level:3},{value:"ps",id:"ps",level:3},{value:"tree",id:"tree",level:3},{value:"/usr/bin/time",id:"usrbintime",level:3},{value:"time",id:"time",level:3},{value:"Compression",id:"compression",level:3},{value:"df - report file system disk space usage",id:"df---report-file-system-disk-space-usage",level:3},{value:"du (disk usage) - estimate file space usage",id:"du-disk-usage---estimate-file-space-usage",level:3},{value:"lsblk",id:"lsblk",level:3},{value:"NetCat (NC)",id:"netcat-nc",level:2},{value:"strace",id:"strace",level:2},{value:"nice/renice",id:"nicerenice",level:2},{value:"Nice",id:"nice",level:3},{value:"Renice",id:"renice",level:3},{value:"nohup",id:"nohup",level:2},{value:"Screen",id:"screen",level:3},{value:"sample",id:"sample",level:2},{value:"Others",id:"others",level:2},{value:"taskset",id:"taskset",level:2},{value:"References",id:"references",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"1-linux-general--unix--linux-commands",children:"(1) Linux General / Unix / Linux Commands"}),"\n",(0,i.jsx)(n.h2,{id:"display",children:"Display"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'cat "file" //display a file\nless "file" //display a file a page at a time\nhead "file" //display the first few lines of a file\ntail "file" //display the last few lines of a file\n  tail -F <file> #to follow log-rotated files\nhead\nless ( spacebar - forward, b - backward, q - quit)\n\n# Copy / Move\ncp "file1" "file2" //copy file1 and call it file2\nmv "file1" "file2" //move or rename file1 to file2\n\n# move all types of files from all directory to single directory\nmv **/*.jpg media/\n'})}),"\n",(0,i.jsx)(n.h2,{id:"ssh-to-server",children:"ssh to server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'chmod 400 devec2.pem\nssh -i devec2.pem ec2-user@18.237.184.186\n\nssh ubuntu@energy.zenatix.com (simple ssh)\n\nssh -L 8889:localhost:8888 ubuntu@bepemis.zenatix.com (port forwarding from server to local)\n\nssh -L 27017:localhost:27017 -i strawhat-core-key ubuntu@3.108.70.26\n\nssh -i private.pem ubuntu@energy.zenatix.com (using key)\n\nssh -i id_rsa ubuntu@openvpn.zenatix.com\n\n# Other\nssh-add\nssh-copy-id\nssh-keygen\nssh-keyscan\nssh-old\nsshd\nssh-agent\nssh-import-id\n\n# SSH KeyGen\nssh-keygen -t rsa -b 4096 -C "deepaksood619@gmail.com"\nssh-keygen -t rsa -b 4096 -C "deepak.sood@opstree.com"\nssh-keygen -t rsa -b 4096 -C "deepak.sood@stashfin.com"\n\nssh-keygen -R energy.zenatix.com # reset the saved key of server\n\nssh-keygen -t ecdsa -b 521 -C "deepaksood619@gmail.com"\n\nssh config (man ssh_config - OpenSSH SSH client configuration files)\n  Add all the details for a server ssh to ~/.ssh/config file\n    Host dev\n      HostName dev.zenatix.com\n      Port 1234\n      User ubuntu\n      ForwardAgent yes\n      IdentityFile ~/.ssh/dev.key\n      LocalForward 8888 0.0.0.0:8888\n\n    Host git-codecommit.*.amazonaws.com\n      User XXXAU2R6AAK3AIIGFXXX\n      IdentityFile ~/.ssh/id_rsa\n\n    Without LocalForward ssh - ssh dev\n    For using LocalForward ssh - ssh -f -N dev\n'})}),"\n",(0,i.jsx)(n.h3,{id:"ssh-agent-forwarding",children:"SSH Agent Forwarding"}),"\n",(0,i.jsx)(n.p,{children:"It allows you to use your local SSH keys instead of leaving keys (without passphrases!) sitting on your server."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://dev.to/levivm/how-to-use-ssh-and-ssh-agent-forwarding-more-secure-ssh-2c32",children:"https://dev.to/levivm/how-to-use-ssh-and-ssh-agent-forwarding-more-secure-ssh-2c32"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.ssh.com/ssh/config",children:"https://www.ssh.com/ssh/config"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file",children:"https://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file"})}),"\n",(0,i.jsx)(n.h3,{id:"scp-from-server-copy-a-file-from-server-to-local-from-local-machine",children:"SCP from server (Copy a file from server to local, from local machine)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"scp username@remoteHost:/remote/dir/file.txt /local/dir/\n\nscp -i ../ec2_ssh_key.pem ubuntu@15.206.94.125:/home/ubuntu/workspace/cred-stuff .\n\n-r # for recursive copying a directory\n"})}),"\n",(0,i.jsx)(n.h3,{id:"scp-to-server-copy-a-file-from-local-to-server-from-local-machine",children:"SCP to server (Copy a file from local to server, from local machine)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"scp /local/dir/ username@remoteHost:/remote/dir/file.txt"})}),"\n",(0,i.jsx)(n.h3,{id:"scp-directory-use--r-option",children:"SCP directory (use -r option)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"scp -r ubuntu@energy.example.com:/home/ubuntu/sources/example/media /home/ubuntu/sources/example/media"})}),"\n",(0,i.jsx)(n.h2,{id:"directory-and-user-permissions",children:"Directory and user permissions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Change current directory permissions for user\nchown -R test:test .\n\n# Change current file permission\nsudo chmod +r /var/log/electric_meter.log\n\n# Give sudo access to user\nsudo usermod -a -G adm telegraf\nsudo usermod -a -G root telegraf\n"})}),"\n",(0,i.jsx)(n.h2,{id:"redirection-and-pipes",children:"Redirection and Pipes"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"program_command 2>&1 | tee -a outfile.log"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"command > output.txt"})}),"\n",(0,i.jsx)(n.p,{children:"The standard output stream will be redirected to the file only, it will not be visible in the terminal. If the file already exists, it gets overwritten."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"command >> output.txt"})}),"\n",(0,i.jsx)(n.p,{children:"The standard output stream will be redirected to the file only, it will not be visible in the terminal. If the file already exists, the new data will get appended to the end of the file."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"command 2> output.txt"})}),"\n",(0,i.jsx)(n.p,{children:"The standard error stream will be redirected to the file only, it will not be visible in the terminal. If the file already exists, it gets overwritten."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"command 2>> output.txt"})}),"\n",(0,i.jsx)(n.p,{children:"The standard error stream will be redirected to the file only, it will not be visible in the terminal. If the file already exists, the new data will get appended to the end of the file."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"command &> output.txt"})}),"\n",(0,i.jsx)(n.p,{children:"Both the standard output and standard error stream will be redirected to the file only, nothing will be visible in the terminal. If the file already exists, it gets overwritten."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"command &>> output.txt"})}),"\n",(0,i.jsx)(n.p,{children:"Both the standard output and standard error stream will be redirected to the file only, nothing will be visible in the terminal. If the file already exists, the new data will get appended to the end of the file.."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"command | tee output.txt"})}),"\n",(0,i.jsx)(n.p,{children:"The standard output stream will be copied to the file, it will still be visible in the terminal. If the file already exists, it gets overwritten."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"command | tee -a output.txt"})}),"\n",(0,i.jsx)(n.p,{children:"The standard output stream will be copied to the file, it will still be visible in the terminal. If the file already exists, the new data will get appended to the end of the file."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"command |& tee output.txt"})}),"\n",(0,i.jsx)(n.p,{children:"Both the standard output and standard error streams will be copied to the file while still being visible in the terminal. If the file already exists, it gets overwritten."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"command |& tee -a output.txt"}),"\nBoth the standard output and standard error streams will be copied to the file while still being visible in the terminal. If the file already exists, the new data will get appended to the end of the file."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:'"command" < "file"'})," //redirect standard input from a file"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:'"command1" | "command2"'})," //pipe the output of command1 to the input of command2"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:'cat "file1" "file2" > "file0"'})," //concatenate file1 and file2 to file0"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"sort"})," //sort data"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"who"})," //list users currently logged in"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Syntax"}),(0,i.jsx)(n.th,{children:"visible in terminal - StdOut"}),(0,i.jsx)(n.th,{children:"visible in terminal - StdErr"}),(0,i.jsx)(n.th,{children:"visible in file - StdOut"}),(0,i.jsx)(n.th,{children:"visible in file - StdErr"}),(0,i.jsx)(n.th,{children:"existing file"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:">"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"overwrite"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:">>"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"append"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"2>"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"overwrite"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"2>>"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"append"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"&>"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"overwrite"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"&>>"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"append"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"tee"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"overwrite"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"tee -a"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"append"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"n.e. (*)"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"overwrite"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"n.e. (*)"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"no"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"append"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"& tee"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"overwrite"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"& tee -a"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"yes"}),(0,i.jsx)(n.td,{children:"append"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"http://www.tldp.org/LDP/abs/html/io-redirection.html",children:"http://www.tldp.org/LDP/abs/html/io-redirection.html"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"vmq-admin trace client client-id=/Samhi-42 >> trace.log 2>&1 &\n\npython test_de_script.py de_run_final.csv 2>&1 | tee -a outfile.log\n\n30 0 * * * aws autoscaling update-auto-scaling-group --auto-scaling-group-name eks-application-node-group --max-size 80 >> /var/log/autoscaling_asg.log 2>&1\n"})}),"\n",(0,i.jsx)(n.h3,{id:"wildcards-and-help",children:"Wildcards and Help"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"*"})," //match any number of characters"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"?"})," //match one character"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'man "command"'})," //read the online manual page for a command"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'whatis "command"'})," //brief description of a command"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'apropos "keyword"'})," //match commands with keyword in their man pages","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"apropos compress"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"rm-command",children:"rm command"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"rm -Rdf <dir_name> #remove directory\nsudo rm -rvf * #delete everything\nrmdir #remove an empty directory\nrm <file_name> #remove a file\n"})}),"\n",(0,i.jsx)(n.h3,{id:"date",children:"date"}),"\n",(0,i.jsx)(n.p,{children:"display or set date and time"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"echo $(($(date +%s%N)/1000000)) # using nanoseconds"})}),"\n",(0,i.jsx)(n.h3,{id:"history",children:"history"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"history\n\n# clear all terminal history\nhistory -c && history -w\n"})}),"\n",(0,i.jsx)(n.h3,{id:"list-directory-contents",children:"List directory contents"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls #listing\nls -laf\nls -alst\nls -R #Show contents of directory recursively\nls -l # long listing format\n-rwxrw-r-- 1    root   root 2048    Jan 13 07:11 afile.exe\n  - file permissions,\n  - number of links,\n  - owner name,\n  - owner group,\n  - file size,\n  - time of last modification, and\n  - file/directory name\nFile permissions is displayed as following;\n  - first character is - or l or d, d indicates a directory, a line represents a file, l is a symlink (or soft link) - special type of file\n  - three sets of characters, three times, indicating permissions for owner, group and other:\n    r = readable\n    w = writable\n        x = executable\n"})}),"\n",(0,i.jsx)(n.h2,{id:"lsof",children:"lsof"}),"\n",(0,i.jsxs)(n.p,{children:['lsof is a command meaning "list open files", which is used in many ',(0,i.jsx)(n.a,{href:"https://en.m.wikipedia.org/wiki/Unix-like",children:"Unix-like"})," systems to report a list of all open files and the processes that opened them"]}),"\n",(0,i.jsxs)(n.p,{children:["Open files in the system include disk files, ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Named_pipe",children:"named pipes"}),", network ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Internet_socket",children:"sockets"})," and devices opened by all processes. One use for this command is when a disk cannot be unmounted because (unspecified) files are in use. The listing of open files can be consulted (suitably filtered if necessary) to identify the process that is using the files."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"see open ports"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo lsof -i -P -n | grep LISTEN\nsudo lsof -i:22 #see a specific port such as 22\nlsof -a -i -s TCP:SYN_RECV\n[lsof - Wikipedia](https://en.wikipedia.org/wiki/Lsof)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"count",children:"Count"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls -l <folder> | wc -l  (Count number of files in a directory)\nfind . -type f | wc -l  (Count number of files in a directory recursively)\nwc - l file.txt (lines)\nwc -w file.txt (words)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"head-show-the-top-2-lines-in-the-file",children:"Head (Show the top 2 lines in the file)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"$ head -n 2 adult.data"})}),"\n",(0,i.jsx)(n.h3,{id:"tail-show-the-last-lines-in-the-file",children:"Tail (Show the last lines in the file)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"$ tail -n 10 adult.data"})}),"\n",(0,i.jsx)(n.h3,{id:"hexdump",children:"Hexdump"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ cat test.txt\nhi\n\n$ hexdump test.txt\n0000000 68 69\n\nHere 68 is 'h' in ASCII and 69 is 'i' in ASCII\n"})}),"\n",(0,i.jsx)(n.h2,{id:"source",children:"Source"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"http://ss64.com/bash/source.html",children:"source"})," is a bash shell built-in command that executes the content of the file passed as argument, ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"in the current shell"})}),". It has a synonym in.(period)."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"source ~/.bash_profile"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:". ~/.bash_profile"})}),"\n",(0,i.jsx)(n.h2,{id:"make",children:"Make"}),"\n",(0,i.jsx)(n.h3,{id:"bitbake",children:"BitBake"}),"\n",(0,i.jsxs)(n.p,{children:["BitBakeis a ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Make_(software)",children:"make"}),"-like ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Build_tool",children:"build tool"})," with the special focus of ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Linux_distributions",children:"distributions"})," and packages for ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Embedded_Linux",children:"embedded Linux"}),(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Cross_compilation",children:"cross compilation"}),", although it is not limited to that. It is inspired by ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Portage_(software)",children:"Portage"}),", which is the ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Package_management_system",children:"package management system"})," used by the ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Gentoo_Linux",children:"Gentoo Linux"})," distribution. BitBake existed for some time in the ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/OpenEmbedded",children:"OpenEmbedded"})," project until it was separated out into a standalone, maintained, distribution-independent tool. BitBake is co-maintained by the ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Yocto_Project",children:"Yocto Project"})," and the ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/OpenEmbedded",children:"OpenEmbedded"})," project"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/BitBake",children:"https://en.wikipedia.org/wiki/BitBake"})}),"\n",(0,i.jsx)(n.h3,{id:"add-new-user",children:"Add new user"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"useradd username"})}),"\n",(0,i.jsx)(n.h3,{id:"change-current-user",children:"Change current user"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"su username\nsudo -u telegraf /bin/bash\n"})}),"\n",(0,i.jsx)(n.h3,{id:"see-current-user",children:"See current user"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"whoami"})}),"\n",(0,i.jsx)(n.h2,{id:"seq-command",children:"Seq command"}),"\n",(0,i.jsx)(n.p,{children:"print sequences of number"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"seq [-w] [-f format] [-s string] [-t string] [first [incr]] last"})}),"\n",(0,i.jsx)(n.h2,{id:"netstat-command-list-open-ports",children:"Netstat command (list open ports)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"netstat -a #list all network ports\nnetstat -at #list all TCP Ports\nnetstat -s #show statistics for all ports\nnetstat -atn           # For tcp\nnetstat -aun           # For udp\nnetstat -atun          # For both\nnetstat -an | grep :9105 | grep -v TIME_WAIT | wc -l\nnetstat -an | grep :9105 | grep ESTABLISHED | wc -l\nsudo netstat -planet | grep 1883 | wc -l\n"})}),"\n",(0,i.jsx)(n.h2,{id:"nslookup-command",children:"nslookup command"}),"\n",(0,i.jsx)(n.p,{children:"A network utility program used to obtain information about internet servers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nslookup -query=mx google.com #Query Mail Exchanger Record\nnslookup -type=ns google.com #Query Name Server\nnslookup -type=any google.com #Query DNS Record\nnslookup -type=soa google.com #Query Start of Authority\nnslookup kafka0.zenatix.com\n"})}),"\n",(0,i.jsx)(n.h2,{id:"dig-command",children:"dig command"}),"\n",(0,i.jsx)(n.p,{children:"A dig is a tool for querying DNS nameservers for information about host addresses, mail exchanges, nameservers and related information"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dig google.com +nocomments #turn off comment lines\ndig google.com +noauthority #turn off authority section\ndig google.com +noall #disable all section at once\ndig +trace www.google.com\ndig @8.8.8.8 +trace github.com\ndig @ns-421.awsdns-52.com github.com\ndig -x 172.217.167.132 #will do a reverse lookup, doesn't always work -- it depends on there being an accurate PTR record\n"})}),"\n",(0,i.jsx)(n.h3,{id:"uptime",children:"uptime"}),"\n",(0,i.jsx)(n.p,{children:"show how long system has been running"}),"\n",(0,i.jsx)(n.p,{children:"The uptime utility displays the current time, the length of time the system has been up, the number of users, and the load average of the system over the last 1, 5, and 15 minutes."}),"\n",(0,i.jsx)(n.h3,{id:"w",children:"w"}),"\n",(0,i.jsx)(n.p,{children:"Combination of uptime and who commands given one immediately after the other, in that order"}),"\n",(0,i.jsx)(n.h3,{id:"sort",children:"sort"}),"\n",(0,i.jsx)(n.p,{children:"Unix Sort uses an External R-Way merge sorting algorithm. It divides the input up into smaller portions (that fit into memory) and then merges each portion together at the end."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"sort -t $'n' -g -o sorted_large.txt 1.txt"})}),"\n",(0,i.jsx)(n.h3,{id:"alias-alias_command_name",children:(0,i.jsx)(n.code,{children:"alias <alias_command_name>"})}),"\n",(0,i.jsx)(n.p,{children:"Return the full command for the passed alias_command_name"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"alias dc='docker-compose'"})}),"\n",(0,i.jsx)(n.h3,{id:"paste",children:"paste"}),"\n",(0,i.jsx)(n.p,{children:"merge corresponding or subsequent lines of files"}),"\n",(0,i.jsx)(n.h3,{id:"ln-create-links",children:"ln (Create links)"}),"\n",(0,i.jsx)(n.p,{children:"make links"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ln test.txt link.txt"})}),"\n",(0,i.jsx)(n.p,{children:"The ln utility creates a new directory entry (linked file) which has the same modes as the original file. It is useful for maintaining multiple copies of a file in many places at once without using up storage for the copies; instead, a link points to the original copy. There are two types of links; hard links and symbolic links. How a link points to a file is one of the differences between a hard and symbolic link."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ln -s /bin/zsh /usr/local/bin/zsh # create a symbolic link\n\nln -s /path/to/original /path/to/link\n\nln -s myfile.txt my-soft-link\n"})}),"\n",(0,i.jsx)(n.h4,{id:"hard-vs-symbolic-links",children:"hard vs symbolic links"}),"\n",(0,i.jsx)(n.p,{children:"Underneath the file system, files are represented by inodes."}),"\n",(0,i.jsx)(n.p,{children:"A file in the file system is basically a link to an inode."}),"\n",(0,i.jsx)(n.p,{children:"A hard link, then, just creates another file with a link to the same underlying inode."}),"\n",(0,i.jsx)(n.p,{children:"When you delete a file, it removes one link to the underlying inode. The inode is only deleted (or deletable/over-writable) when all links to the inode have been deleted."}),"\n",(0,i.jsx)(n.p,{children:"A symbolic link is a link to another name in the file system."}),"\n",(0,i.jsx)(n.p,{children:"Once a hard link has been made the link is to the inode. Deleting, renaming, or moving the original file will not affect the hard link as it links to the underlying inode. Any changes to the data on the inode is reflected in all files that refer to that inode."}),"\n",(0,i.jsx)(n.p,{children:"Note: Hard links are only valid within the same File System. Symbolic links can span file systems as they are simply the name of another file."}),"\n",(0,i.jsx)(n.h3,{id:"find",children:"find"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'find . -name "zookeeper*"\n\n# ignore case\nfind . -iname "ipify*"\n\n# find and delete\nfind . -name "*.pyc" -type f\nfind . -name "*.pyc" -type f -delete\n\nfind . -type f -mtime +30 -exec -f {} \\;\n\n# find and replace in shole directory except \'config.yaml\'\nfind ./ ! -name \'config.yaml\' -type f -exec sed -i "s~${ecr_name}.*$~${ecr_name}\\\\/${app_name}\\\\/${env_name}:${app_name}-${env_name}-${timestamp}-${build_no}~" {} \\;\n\nfind -E . -regex \'.*hello[^/]*\' -type f\nfind AI -regex \'.*/[^a-zA-Z].*\'\nfind . -regex \'.*/[^a-zA-Z0-9.].*\' -not -path "*/node_modules/*" -not -path  "*/.git/*"\n\nfind . -type f -name \'*outline.md\' -not -path "*/node_modules/*" -not -path  "*/.git/*" -exec sh -c \'mv "$1" "${1%/*}/index.md"\' sh {} \\;\n\n# rename file, replace - with -\n# brew install rename\nfind . -name "*---*" -exec rename \'s/---/-/\' {} ";"\nfind . -name "*,*" -exec rename \'s/,//\' {} ";"\n\nfind . -name \'*\' -exec rename  x {} +\n\n# rename file extension recursively\nfind content -type f -name \'*\' -print0 | xargs -0 rename \'s/$/x/\'\n\n# rename all files and folders to lowercase\nfind . -name "*" -type f -depth -not -path "*/node_modules/*" -not -path  "*/.git/*" | xargs -n 1 rename -f \'s/(.*)\\/([^\\/]*)/$1\\/\\L$2/\' {} \\;\n\n# rename dslr photos to it\'s created date with appended original name\nfor f in *.*; do echo mv -n "$f" "$(stat -f\'%SB\' -t "%Y%m%d_%H%M%S" "$f")_${f%.*}.${f##*.}"; done\n\n# final command to rename DSLR photos\nfor f in *.*; do eval "mv -n \\"$f\\" \\"\\$(stat -f \'%SB\' -t \\"%Y%m%d_%H%M%S\\" \\"$f\\")_${f%.*}.${f##*.}\\""; done\n\n# rename dslr photos to it\'s created date without appended original name\nfor f in *.*; do echo mv -n "$f" "$(stat -f\'%SB\' -t "%Y%m%d_%H%M%S%fff" "$f").${f##*.}"; done\n'})}),"\n",(0,i.jsx)(n.h3,{id:"hostname",children:"hostname"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"hostname -- set or print name of current host system\nhostname -i #server\nhostname #mac\n"})}),"\n",(0,i.jsx)(n.h3,{id:"environments",children:"environments"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"printenv | less #print all loaded environment variables\necho $<VARIABLE> #print value for environment variable\necho $? #print last call execution return value\nenv #print all environments loaded in current session\n"})}),"\n",(0,i.jsx)(n.h3,{id:"tr-translate-characters",children:"tr (translate characters)"}),"\n",(0,i.jsx)(n.p,{children:"The tr utility copies the standard input to the standard output with substitution or deletion of selected characters."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cat domains.txt | tr [:lower:] [:upper:]\ncat linux.txt | tr [a-z] [A-Z]\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.tecmint.com/tr-command-examples-in-linux",children:"https://www.tecmint.com/tr-command-examples-in-linux"})}),"\n",(0,i.jsx)(n.h3,{id:"tcpdump-wireshark",children:"tcpdump (wireshark)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"sudo tcpdump -i any port 9101 -w tcpdump"})}),"\n",(0,i.jsx)(n.h3,{id:"killall",children:"killall"}),"\n",(0,i.jsx)(n.p,{children:"kill processes by name"}),"\n",(0,i.jsx)(n.p,{children:"The killall utility kills processes selected by name, as opposed to the selection by pid as done by kill(1). By default, it will send a TERM signal to all processes with a real UID identical to the caller of killall that match the name procname. The super-user is allowed to kill any process."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The program gets sent a SIGTERM signal. kill -9 sends a SIGKILL signal"}),"\n",(0,i.jsx)(n.li,{children:"CTRL-C"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The program gets sent a SIGINT signal. By default that stops the program immediately, but the program can choose to ignore the signal or do something else before quitting"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Is it possible for a program to ignore a SIGKILL signal"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Programs can't ignore SIGKILL."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"killall kubectl\nkillall -v kubectl\n\n# forcefully terminate all running processes except login shell, init, and kernel-specific processes.\nkillall5 -9\n"})}),"\n",(0,i.jsx)(n.h2,{id:"log-parsing-commands",children:"Log parsing commands"}),"\n",(0,i.jsx)(n.h3,{id:"grep",children:"Grep"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Search a file for keywords\ngrep \'keyword\' "file"\n\n# Grep regex\nls | grep "metrics-[^su]"\nls | grep "metrics-[^su]" | xargs rm -f\n\n# This prints 10 lines of trailing context after matching lines\ngrep -i -A 10 "my_regex" /var/log/syslog\n\n# If you need to print 10 lines of leading context before matching lines,\ngrep -i -B 10 "my_regex" /var/log/syslog\n\n# And if you need to print 10 lines of leading and trailing output context.\ngrep -i -C 10 "my_regex" /var/log/syslog\n\n# Common Flags\n-c: print a count of matching lines rather than the lines themselves\n-h: do not print the names of files when searching multiple files\n-i: ignore case (e.g., treat "Regression" and "regression" as matches)\n-l: print the names of files that contain matches, not the matches\n-n: print line numbers for matching lines\n-v: invert the match, i.e., only show lines that don\'t match\n  grep -v "172.18.0.1"\n-E \'abc|*de\': or with regex\n'})}),"\n",(0,i.jsx)(n.h3,{id:"cut",children:"cut"}),"\n",(0,i.jsx)(n.p,{children:"cut out selected portions of each line of a file"}),"\n",(0,i.jsxs)(n.p,{children:["Can use ",(0,i.jsx)(n.strong,{children:"awk"})," instead of cut for better results"]}),"\n",(0,i.jsx)(n.h3,{id:"sed",children:"sed"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sed -i '' 's+telegraf:.*+telegraf:x:0:0::/etc/telegraf:/bin/false+g' passwd #on macos\nsed -i 's+telegraf:.*+telegraf:x:0:0::/etc/telegraf:/bin/false+g' passwd #on unix\n\nfind ./ ! -name 'config.yaml' -type f -exec sed -i \"s~${ecr_name}.*$~${ecr_name}\\\\/${app_name}\\\\/${env_name}:${app_name}-${env_name}-${timestamp}-${build_no}~\" {} \\;\n\nfind ./ ! -name 'config.yaml' -type f -exec sed -i \"s~\n331916247734.dkr.ecr.ap-south-1.amazonaws.com/loan-tape-etl/prod:loan-tape-etl-prod-2020-08-07-20-10\n$~331916247734.dkr.ecr.ap-south-1.amazonaws.com/loan-tape-etl/prod:loan-tape-etl-prod-test~\" {} \\;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"finding-duplicates-with-uniq",children:"Finding duplicates with uniq"}),"\n",(0,i.jsx)(n.p,{children:"With the uniq command you can find adjacent repeated lines in a file. uniq takes several flags, the more useful ones being:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"uniq -c: which adds the repetition count to each line;"}),"\n",(0,i.jsx)(n.li,{children:"uniq -d: which only outputs duplicate lines; And"}),"\n",(0,i.jsx)(n.li,{children:"uniq -u: which only outputs unique lines."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"However, uniq is not a smart command. Repeated lines will not be detected if they are not adjacent. Which means that you first need the sort the file. This command counts the number of duplicated lines in adult.csv."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"sort adult.csv | uniq -d | wc -l"})}),"\n",(0,i.jsx)(n.p,{children:"23"}),"\n",(0,i.jsx)(n.p,{children:"and shows that there are 23 duplicates. The next command takes the output of all lines with added repetition counts, sorts in reverse and outputs the first 3 duplicates:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sort adult.csv | uniq -c | sort -r | head -n 3\n3 25, Private, 195994, 1st-4th, 2, Never-married, ...\n2 90, Private, 52386, Some-college, 10, Never-married, ...\n2 49, Self-emp-not-inc, 43479, Some-college, 10, Married-civ-spouse, ...\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Log Parsing Commands",src:s(829466).Z+"",width:"1557",height:"2048"})}),"\n",(0,i.jsx)(n.h2,{id:"openssl",children:"openssl"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'openssl rand -hex 16\nopenssl rand -hex 32\nopenssl rand -base64 32 #base64 encoded password generation\nopenssl base64 -in samhi.log -out samhi1_64.log\n\n# creating a self-signed certificate\nopenssl req -x509 -newkey rsa:4096 -sha256 -nodes -keyout tls.key -out tls.crt -subj "/CN=example.com" -days 365\n\nopenssl genrsa -out ca.key 2048\n\nopenssl req -x509 -new -nodes -key ca.key -sha256 -subj "/CN=sampleissuer.local" -days 1024 -out ca.crt -extensions v3_ca -config openssl-with-ca.cnf\n'})}),"\n",(0,i.jsx)(n.h3,{id:"encrypt-decrypt-a-file-or-folder",children:"Encrypt decrypt a file or folder"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# encrypt a folder\ntar czvf folder.tar.gz /path/to/folder\nopenssl enc -aes-256-cbc -salt -pbkdf2 -in folder.tar.gz -out folder.tar.gz.enc\nrm -rf folder.tar.gz\nrm -rf /path/to/folder\n\n# decrypt a folder\nopenssl enc -d -aes-256-cbc -salt -pbkdf2 -in folder.tar.gz.enc -out folder.tar.gz\ntar xzvf folder.tar.gz\nrm -rf folder.tar.gz.enc\nrm -rf folder.tar.gz\n\n\nalias folder_encrypt='tar czvf test_folder.tar.gz test_folder && openssl enc -aes-256-cbc -salt -pbkdf2 -in test_folder.tar.gz -out test_folder.tar.gz.enc && rm -rf test_folder.tar.gz && rm -rf test_folder'\n\nalias folder_decrypt='openssl enc -d -aes-256-cbc -salt -pbkdf2 -in test_folder.tar.gz.enc -out test_folder.tar.gz && tar xzvf test_folder.tar.gz && rm -rf test_folder.tar.gz.enc && rm -rf test_folder.tar.gz'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"public-private-key-pair",children:"public private key pair"}),"\n",(0,i.jsx)(n.p,{children:"You can generate a public-private keypair with thegenrsacontext (the last number is the keylength in bits):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"openssl genrsa -out key.pem 2048\n\n# To extract the public part, use the rsa context:\nopenssl rsa -in keypair.pem -out publickey.crt -pubout\nopenssl rsa -in key.pem -out key.pub -pubout\n\n# Finally, convert the original keypair to PKCS#8 format with the pkcs8 context:\nopenssl pkcs8 -topk8 -inform PEM -outform PEM -nocrypt -in keypair.pem -out pkcs8.key\n\n# Encrypt and Decrypt a file (using public key to encrypt)\necho --pass-- > pass.txt\nopenssl rsautl -in pass.txt -out pass.enc -pubin -inkey key.pub -encrypt\nopenssl rsautl -in pass.enc -out pass.dec -inkey key.pem -decrypt\ncat pass.dec\n\n# Compress, Encrypt, Decyrpt, Uncompress a file (using password in pass.txt)\necho content > file.txt # overwrite file with content\necho content >> file.txt # append content to file.txt\ngzip file.txt\nopenssl bf -in file.txt.gz -out file.enc -pass file:pass.txt -e\nopenssl bf -in file.enc -out file.dec.gz -pass file:pass.dec -d\ngzip -d file.dec.gz\ncat file.dec\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ts",children:"ts"}),"\n",(0,i.jsx)(n.p,{children:"openssl-ts, ts - Time Stamping Authority tool (client/server)"}),"\n",(0,i.jsx)(n.p,{children:"The ts command is a basic Time Stamping Authority (TSA) client and server application as specified in RFC 3161 (Time-Stamp Protocol, TSP). A TSA can be part of a PKI deployment and its role is to provide long term proof of the existence of a certain datum before a particular time."}),"\n",(0,i.jsxs)(n.p,{children:["A convenient tool is the ",(0,i.jsx)(n.strong,{children:"ts (timestamp)"})," tool which is available on many systems. If the trace output is piped to this command each line is prefixed with a timestamp."]}),"\n",(0,i.jsx)(n.h3,{id:"ps",children:"ps"}),"\n",(0,i.jsx)(n.p,{children:"report a snapshot of the current processes."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# get minor page fault, major page fault\nps -eo min_flt,maj_flt,cmd\n\nps -eaf\n\nps aux / auxf (tree view)\nps aux --sort=-%mem\n  - The a option tells ps the display the processes of all users, with except those processes that not associated with a terminal and processes of group leaders.\n  - The u stands for a user-oriented format which provides detailed information about the processes.\n  - The x option will case ps to list the processes without a controlling terminal. Those are mainly processes that are started on boot time and running in the background.\n\n  - PID - The process ID. In most situations when running the ps command the most important information the user is looking for is the process PID. Knowing the PID allows you to kill a malfunctioning process.\n  - TTY - The name of the controlling terminal for the process.\n  - TIME - The cumulative CPU time of the process, shown in minutes and seconds.\n  - CMD - The name of the command that was used to start the process.\n  - USER - The user who runs the process.\n  - %CPU - The process cpu utilization.\n  - %MEM - The percentage of the process\u2019s resident set size to the physical memory on the machine.\n  - VSZ - Virtual memory size of the process in KiB.\n  - RSS - The size of the physical memory that the process is using.\n  - STAT - The the process state code, which can be Z (zombie), S (sleeping), R(running) ..etc\n  - START - The time when the command started.\n\nps $$\nOutput the shell that is running\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://linuxize.com/post/ps-command-in-linux",children:"https://linuxize.com/post/ps-command-in-linux"})}),"\n",(0,i.jsx)(n.h3,{id:"tree",children:"tree"}),"\n",(0,i.jsx)(n.p,{children:"list contents of directories in a tree-like format"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"tree -L 2"})}),"\n",(0,i.jsx)(n.h3,{id:"usrbintime",children:"/usr/bin/time"}),"\n",(0,i.jsx)(n.p,{children:"run programs and summarize system resource usage"}),"\n",(0,i.jsx)(n.h3,{id:"time",children:"time"}),"\n",(0,i.jsx)(n.p,{children:"Shell command for given shell statistics"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"real"}),": The actual time spent in running the process from start to finish, as if it was measured by a human with a stopwatch"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"user"}),": The cumulative time spent by all the CPUs during the computation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"sys"}),": The cumulative time spent by all the CPUs during system-related tasks such as memory allocation."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"compression",children:"Compression"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"tar -czvf all.tar.gz error.log.* (gzip all files together in a directory)\ntar -xzvf all.tar.gz -C /tmp (unzip all files to particular location)\n\ntar -xzvf all.tar.gz (unzip all files at current location)\ntar -c <directory> -xvf all.tar.gz\ntar -xvf all.tar.xz (unzip xz files)\ngzip -d <file>.gz   #unzip gz file\n\n!tar --exclude='*.csv' --exclude='__pycache__' --exclude='.ipynb_checkpoints' --exclude='*.json' --exclude='*.xml' --exclude='*.pdf' --exclude='*.pkl' -zcvf backup.tar.gz *\n!find . -name \"*.ipynb\" -o -name \"*.py\" | tar -zcvf backup.tar.gz -T -\n\n!find . -name \"*.ipynb\" -o -name \"*.py\" | tar -zcvf backup-ipynb-$(date +%Y-%m-%d).tar.gz -T -\ntar -zcvf backup-ipynb-$(date +%Y-%m-%d).tar.gz folder_to_zip\n\ntar -zcf backup-ipynb-$(date +%Y-%m-%d).tar.gz folder_to_zip   # no output - without v\n\nbrew install rar\n  unrar x.rar\n"})}),"\n",(0,i.jsx)(n.h3,{id:"df---report-file-system-disk-space-usage",children:"df - report file system disk space usage"}),"\n",(0,i.jsx)(n.p,{children:"There might come a situation while using Linux when you want to know the amount of space consumed by a particular file system on your LINUX system or how much space is available on a particular file system."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"df -h, --human-readable"})}),"\n",(0,i.jsx)(n.h3,{id:"du-disk-usage---estimate-file-space-usage",children:"du (disk usage) - estimate file space usage"}),"\n",(0,i.jsx)(n.p,{children:"The du command can be used to track the files and directories which are consuming excessive amount of space on hard disk drive."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"du -h, --human-readable\n\n# depth = 1\ndu -h -d 1\n\nTo list the largest directories from the current directory in human readable format, with retricting number of rows\ndu -sh * | sort -hr | head -n10\n\ndu -sh file_path\nExplanation\n  - du (disc usage) command estimates file_path space usage\n  - The options -sh are (from man du):\n-s, --summarize\n        display only a total for each argument\n\n-h, --human-readable\n        print sizes in human readable format (e.g., 1K 234M 2G)\n\nTo check more than one directory and see the total, use du -sch:\n-c, --total\n        produce a grand total\n"})}),"\n",(0,i.jsx)(n.h3,{id:"lsblk",children:"lsblk"}),"\n",(0,i.jsxs)(n.p,{children:["The\xa0",(0,i.jsx)(n.code,{children:"lsblk"}),"\xa0command, short for \u201clist block devices,\u201d is a powerful tool that provides detailed information about block devices such as hard drives, solid-state drives, and other storage-related devices."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"lsblk -a # To display empty block devices as well.\nlsblk -t # tree view\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.geeksforgeeks.org/lsblk-command-in-linux-with-examples/",children:"How to List All Block Devices in Linux | lsblk Command - GeeksforGeeks"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://man7.org/linux/man-pages/man8/lsblk.8.html",children:"lsblk(8) - Linux manual page"})}),"\n",(0,i.jsx)(n.h2,{id:"netcat-nc",children:"NetCat (NC)"}),"\n",(0,i.jsx)(n.p,{children:"The nc (or netcat) utility is used for just about anything under the sun involving TCP or UDP. It can open TCP connections, send UDP packets, listen on arbitrary TCP and UDP ports, do port scanning, and deal with both IPv4 and IPv6. Unlike telnet(1), nc scripts nicely, and separates error messages onto standard error instead of sending them to standard output, as telnet(1) does with some."}),"\n",(0,i.jsx)(n.p,{children:"Common uses include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"simple TCP proxies"}),"\n",(0,i.jsx)(n.li,{children:"shell-script based HTTP clients and servers"}),"\n",(0,i.jsx)(n.li,{children:"network daemon testing"}),"\n",(0,i.jsx)(n.li,{children:"a SOCKS or HTTP ProxyCommand for ssh(1)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"nc -l 8000 -u"})}),"\n",(0,i.jsx)(n.h2,{id:"strace",children:"strace"}),"\n",(0,i.jsx)(n.p,{children:"trace system calls and signals"}),"\n",(0,i.jsx)(n.p,{children:"In the simplest casestraceruns the specifiedcommanduntil it exits. It intercepts and records the system calls which are called by a process and the signals which are received by a process. The name of each system call, its arguments and its return value are printed on standard error or to the file specified with the-ooption."}),"\n",(0,i.jsx)(n.p,{children:"straceis a useful diagnostic, instructional, and debugging tool. System administrators, diagnosticians and trouble-shooters will find it invaluable for solving problems with programs for which the source is not readily available since they do not need to be recompiled in order to trace them. Students, hackers and the overly-curious will find that a great deal can be learned about a system and its system calls by tracing even ordinary programs. And programmers will find that since system calls and signals are events that happen at the user/kernel interface, a close examination of this boundary is very useful for bug isolation, sanity checking and attempting to capture race conditions."}),"\n",(0,i.jsx)(n.p,{children:"MacOS - dtrace"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://linux.die.net/man/1/strace",children:"https://linux.die.net/man/1/strace"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://8thlight.com/blog/colin-jones/2015/11/06/dtrace-even-better-than-strace-for-osx.html",children:"https://8thlight.com/blog/colin-jones/2015/11/06/dtrace-even-better-than-strace-for-osx.html"})}),"\n",(0,i.jsx)(n.h2,{id:"nicerenice",children:"nice/renice"}),"\n",(0,i.jsx)(n.p,{children:"While the nice command lets you execute a program/process with modified scheduling priority, the renice command allows you to change the scheduling priority of an already running process. Following is the generic syntax forboth these commands:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"nice [OPTION] [COMMAND [ARG]...]"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"renice [-n] priority [[-p] pid ...] [[-g] pgrp ...] [[-u] user ...]"})}),"\n",(0,i.jsx)(n.h3,{id:"nice",children:"Nice"}),"\n",(0,i.jsx)(n.p,{children:"Run COMMAND with an adjusted niceness, which affects process scheduling. With no COMMAND, print the current niceness. Niceness values range from -20 (most favorable to the process) to 19 (least favorable to the process)."}),"\n",(0,i.jsx)(n.h3,{id:"renice",children:"Renice"}),"\n",(0,i.jsx)(n.p,{children:"Renice alters the scheduling priority of one or more running processes. The following who parameters are interpreted as process ID's, process group ID's, or user names. Renice'ing a process group causes all processes in the process group to have their scheduling priority altered. Renice'ing a user causes all processes owned by the user to have their scheduling priority altered. By default, the processes to be affected are specified by their process ID's."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.howtoforge.com/linux-nice-command",children:"https://www.howtoforge.com/linux-nice-command"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.youtube.com/watch?v=GsF8R6DBxSg",children:"how greedy are your processes? | Linux niceness - YouTube"})}),"\n",(0,i.jsx)(n.h2,{id:"nohup",children:"nohup"}),"\n",(0,i.jsx)(n.p,{children:"The nohup utility invokes utility with its arguments and at this time sets the signal SIGHUP to be ignored. If the standard output is a terminal, the standard output is appended to the file nohup.out in the current directory. If standard error is a terminal, it is directed to the same place as the standard output."}),"\n",(0,i.jsx)(n.p,{children:"If you use the nohup command, you can continue processing even if you log out of the terminal."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"nohup jupyter notebook &"})}),"\n",(0,i.jsx)(n.h3,{id:"screen",children:"Screen"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"screen --version\n\nsudo apt install screen\n\n# Starting Named Session\nscreen -S session_name\n\nCtrl+a\xa0d\n\n# To resume your screen session\nscreen -r\n\n# list the current running screen sessions\nscreen -ls\n\n# delete the screen session\nscreen -X -S <screen_session_name> quit\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://linuxize.com/post/how-to-use-linux-screen/",children:"How To Use Linux Screen | Linuxize"})}),"\n",(0,i.jsx)(n.h2,{id:"sample",children:"sample"}),"\n",(0,i.jsx)(n.p,{children:"Profile a process during a time interval"}),"\n",(0,i.jsx)(n.p,{children:"sample is a command-line tool for gathering data about the running behavior of a process. It suspends the process at specified intervals (by default, every 1 millisecond), records the call stacks of all threads in the process at that time, then resumes the process. The analysis done by sample is called ``sampling'' because it only checks the state of the program at the sampling points. The analysis may miss execution of some functions that are not executing during one of the samples, but sample still provides useful data about commonly executing functions."}),"\n",(0,i.jsx)(n.p,{children:"At the end of the sampling duration, sample produces a report showing which functions were executing during the sampling. The data is condensed into a call tree, showing the functions seen on the stack and how they were called. (This tree is a subset of the actual call tree for the execution, since some functions may not have been executing during any of the sampling events.) The tree is displayed textually, with called functions indented one level to the right of the callee."}),"\n",(0,i.jsx)(n.p,{children:"In the call tree, if a function calls more than one function then a vertical line is printed to visually connect those separate children functions, making it easier to see which functions are at the same level. The characters used to draw those lines, such as + | : ! are arbitrary and have no specific meaning."}),"\n",(0,i.jsx)(n.h2,{id:"others",children:"Others"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'1. !! / sudo !! (repeat last command with sudo)\n2. pwd (Print working Directory)\n3. xrandr -o normal (Screen rotation)\n4. sudo shred -n 1 -v -z /dev/sd (format full hard disk, first write random bits, than with zeros, to every address)\n5. bash install-missing.sh (running set of bash commands from a file)\n6. wc "file"                 //count number of lines/words/characters in file\n7. banner <anything>    #prints a banner for <anything>\n8  file [path] #to check the type of file\n'})}),"\n",(0,i.jsx)(n.h2,{id:"taskset",children:"taskset"}),"\n",(0,i.jsx)(n.p,{children:'tasksetis used to set or retrieve the CPU affinity of a running process given its PID or to launch a new COMMAND with a given CPU affinity. CPU affinity is a scheduler property that "bonds" a process to a given set of CPUs on the system. The Linux scheduler will honor the given CPU affinity and the process will not run on any other CPUs. Note that the Linux scheduler also supports natural CPU affinity: the scheduler attempts to keep processes on the same CPU as long as practical for performance reasons. Therefore, forcing a specific CPU affinity is useful only in certain applications.'}),"\n",(0,i.jsx)(n.p,{children:"The CPU affinity is represented as a bitmask, with the lowest order bit corresponding to the first logical CPU and the highest order bit corresponding to the last logical CPU. Not all CPUs may exist on a given system but a mask may specify more CPUs than are present. A retrieved mask will reflect only the bits that correspond to CPUs physically on the system. If an invalid mask is given (i.e., one that corresponds to no valid CPUs on the current system) an error is returned. The masks are typically given in hexadecimal. For example,"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://linux.die.net/man/1/taskset",children:"https://linux.die.net/man/1/taskset"})}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://dev.to/awwsmm/101-bash-commands-and-tips-for-beginners-to-experts-30je",children:"https://dev.to/awwsmm/101-bash-commands-and-tips-for-beginners-to-experts-30je"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.toptal.com/linux/tips-and-practices",children:"https://www.toptal.com/linux/tips-and-practices"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.freecodecamp.org/news/the-linux-commands-handbook",children:"https://www.freecodecamp.org/news/the-linux-commands-handbook"})})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},829466:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/Pasted image 20240620022249-82573284c9bee20723c9e3ff2504fc46.png"},511151:(e,n,s)=>{s.d(n,{Z:()=>l,a:()=>a});var i=s(667294);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);