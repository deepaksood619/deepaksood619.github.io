"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[63101],{966207:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var o=s(785893),t=s(511151);const r={},i="Pods",a={id:"devops/kubernetes/workloads/pods",title:"Pods",description:"A Pod is the basic building block of Kubernetes -- the smallest and simplest unit in the Kubernetes object model that you create or deploy. A Pod represents a running process on your cluster.",source:"@site/docs/devops/kubernetes/workloads/pods.md",sourceDirName:"devops/kubernetes/workloads",slug:"/devops/kubernetes/workloads/pods",permalink:"/devops/kubernetes/workloads/pods",draft:!1,unlisted:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/devops/kubernetes/workloads/pods.md",tags:[],version:"current",lastUpdatedAt:1707138374,formattedLastUpdatedAt:"Feb 5, 2024",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Pod Lifecycle",permalink:"/devops/kubernetes/workloads/pod-lifecycle"},next:{title:"Monitoring",permalink:"/devops/monitoring/"}},l={},c=[{value:"Networking",id:"networking",level:2},{value:"Storage",id:"storage",level:2},{value:"Use of Pods",id:"use-of-pods",level:2},{value:"Controllers",id:"controllers",level:2},{value:"Pod Template",id:"pod-template",level:2},{value:"Init Containers",id:"init-containers",level:2},{value:"Pod Presets",id:"pod-presets",level:2},{value:"Ephemeral Containers",id:"ephemeral-containers",level:2}];function d(e){const n={a:"a",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"pods",children:"Pods"}),"\n",(0,o.jsx)(n.p,{children:"A Pod is the basic building block of Kubernetes -- the smallest and simplest unit in the Kubernetes object model that you create or deploy. A Pod represents a running process on your cluster."}),"\n",(0,o.jsxs)(n.p,{children:["A Pod encapsulates an application container (or, in some cases, multiple containers), storage resources, a unique network IP, and options that govern how the container(s) should run. A Pod represents a unit of deployment:",(0,o.jsx)(n.strong,{children:"a single instance of an application in Kubernetes,"})," which might consist of either a single container or a small number of containers that are tightly coupled and that share resources."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Group of one or more containers that are always co-located, co-scheduled, and run in a shared context"}),"\n",(0,o.jsx)(n.li,{children:"Containers in the same pod have the same hostman"}),"\n",(0,o.jsxs)(n.li,{children:["Each pod is isolated by","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Process ID (PID) namespace"}),"\n",(0,o.jsx)(n.li,{children:"Network namespace"}),"\n",(0,o.jsx)(n.li,{children:"Interprocess Communication (IPC) namespace"}),"\n",(0,o.jsx)(n.li,{children:"Unix Time Sharing (UTS) namespace"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.li,{children:"Alternative to a VM with multiple processes"}),"\n",(0,o.jsxs)(n.li,{children:["A Pod does not provide self-healing functionality. It is ",(0,o.jsx)(n.strong,{children:"ephemeral"}),". When a Pod dies, it's gone."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Pods in a Kubernetes cluster can be used in two main ways:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pods that run a single container."}),' The "one-container-per-Pod" model is the most common Kubernetes use case; in this case, you can think of a Pod as a wrapper around a single container, and Kubernetes manages the Pods rather than the containers directly.']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pods that run multiple containers that need to work together"}),'. A Pod might encapsulate an application composed of multiple co-located containers that are tightly coupled and need to share resources. These co-located containers might form a single cohesive unit of service--one container serving files from a shared volume to the public, while a separate "sidecar" container refreshes or updates those files. The Pod wraps these containers and storage resources together as a single manageable entity.']}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Each Pod is meant to run a single instance of a given application. If you want to scale your application horizontally (e.g., run multiple instances), you should use multiple Pods, one for each instance. In Kubernetes, this is generally referred to asreplication. Replicated Pods are usually created and managed as a group by an abstraction called a Controller."}),"\n",(0,o.jsxs)(n.p,{children:["Pods provide two kinds of ",(0,o.jsx)(n.strong,{children:"shared resources"})," for their constituent container:"]}),"\n",(0,o.jsx)(n.h2,{id:"networking",children:"Networking"}),"\n",(0,o.jsx)(n.p,{children:"Each Pod is assigned a unique IP address. Every container in a Pod shares the network namespace, including the IP address and network ports. Containersinside a Podcan communicate with one another usinglocalhost. When containers in a Pod communicate with entitiesoutside the Pod, they must coordinate how they use the shared network resources (such as ports)."}),"\n",(0,o.jsx)(n.h2,{id:"storage",children:"Storage"}),"\n",(0,o.jsx)(n.p,{children:"A Pod can specify a set of shared storagevolumes. All containers in the Pod can access the shared volumes, allowing those containers to share data. Volumes also allow persistent data in a Pod to survive in case one of the containers within needs to be restarted."}),"\n",(0,o.jsx)(n.h2,{id:"use-of-pods",children:"Use of Pods"}),"\n",(0,o.jsx)(n.p,{children:"Pods can be used to host vertically integrated application stacks (e.g. LAMP), but their primary motivation is to support co-located, co-managed helper programs, such as:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"content management systems, file and data loaders, local cache managers, etc."}),"\n",(0,o.jsx)(n.li,{children:"log and checkpoint backup, compression, rotation, snapshotting, etc."}),"\n",(0,o.jsx)(n.li,{children:"data change watchers, log tailers, logging and monitoring adapters, event publishers, etc."}),"\n",(0,o.jsx)(n.li,{children:"proxies, bridges, and adapters"}),"\n",(0,o.jsx)(n.li,{children:"controllers, managers, configurators, and updaters"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"controllers",children:"Controllers"}),"\n",(0,o.jsx)(n.p,{children:"A Controller can create and manage multiple Pods for you, handling replication and rollout and providing self-healing capabilities at cluster scope. For example, if a Node fails, the Controller might automatically replace the Pod by scheduling an identical replacement on a different Node."}),"\n",(0,o.jsx)(n.p,{children:"Some examples of Controllers that contain one or more pods include:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/workloads/controllers/deployment/",children:"Deployment"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/",children:"StatefulSet"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/",children:"DaemonSet"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"pod-template",children:"Pod Template"}),"\n",(0,o.jsxs)(n.p,{children:["Pod templates are pod specifications which are included in other objects, such as ",(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller/",children:"Replication Controllers"}),", ",(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/jobs/run-to-completion-finite-workloads/",children:"Jobs"}),", and ",(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/",children:"DaemonSets"}),". Controllers use Pod Templates to make actual pods."]}),"\n",(0,o.jsx)(n.h2,{id:"init-containers",children:"Init Containers"}),"\n",(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/workloads/pods/pod-overview/",children:"Pod"})," can have multiple Containers running apps within it, but it can also have one or more Init Containers, which are run before the app Containers are started."]}),"\n",(0,o.jsx)(n.p,{children:"Init Containers are exactly like regular Containers, except:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"They always run to completion."}),"\n",(0,o.jsx)(n.li,{children:"Each one must complete successfully before the next one is started."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"pod-presets",children:"Pod Presets"}),"\n",(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.strong,{children:"Pod Preset"})," is an API resource for injecting additional runtime requirements into a Pod at creation time."]}),"\n",(0,o.jsx)(n.h2,{id:"ephemeral-containers",children:"Ephemeral Containers"}),"\n",(0,o.jsxs)(n.p,{children:["A special type of container that runs temporarily in an existing ",(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/workloads/pods/pod-overview/",children:"Pod"})," to accomplish user-initiated actions such as troubleshooting. You use ephemeral containers to inspect services rather than to build applications."]}),"\n",(0,o.jsx)(n.p,{children:"Ephemeral containers differ from other containers in that they lack guarantees for resources or execution, and they will never be automatically restarted, so they are not appropriate for building applications. Ephemeral containers are described using the sameContainerSpecas regular containers, but many fields are incompatible and disallowed for ephemeral containers."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/workloads/pods/ephemeral-containers",children:"https://kubernetes.io/docs/concepts/workloads/pods/ephemeral-containers"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Which deployment method would allow the most flexibility, multiple applications per pod or one per Pod? -"})," One per pod"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Which deployment method allows for the most granular scalability? -"})," One per pod"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Which have the best inter-container performance? -"})," Multiple per pod"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"How many IP addresses are assigned per pod? -"})," One"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"What are some ways containers can communicate within the same pod? -"})," IPC, loopback or shared filesystem access."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"What are some reasons you should have multiple containers per pod? -"})," Lean containers may not have functionality like logging. Able to maintain lean execution but add functionality as necessary, like Ambassadors and Sidecar containers."]}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"args: override Docker images's CMD"}),"\n",(0,o.jsx)(n.li,{children:"command: override Docker images's Entrypoint"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},511151:(e,n,s)=>{s.d(n,{Z:()=>a,a:()=>i});var o=s(667294);const t={},r=o.createContext(t);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);