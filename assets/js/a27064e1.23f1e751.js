"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[2015],{954844:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"databases-sql/mysql/percona-xtrabackup","title":"Percona XtraBackup","description":"Features","source":"@site/docs/databases-sql/mysql/percona-xtrabackup.md","sourceDirName":"databases-sql/mysql","slug":"/databases-sql/mysql/percona-xtrabackup","permalink":"/databases-sql/mysql/percona-xtrabackup","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases-sql/mysql/percona-xtrabackup.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1749575438000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Percona Toolkit","permalink":"/databases-sql/mysql/percona-toolkit"},"next":{"title":"Replication","permalink":"/databases-sql/mysql/replication"}}');var t=n(474848),o=n(28453);const s={},i="Percona XtraBackup",c={},l=[{value:"Features",id:"features",level:2},{value:"XtraBackup",id:"xtrabackup",level:2}];function d(e){const a={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"percona-xtrabackup",children:"Percona XtraBackup"})}),"\n",(0,t.jsx)(a.h2,{id:"features",children:"Features"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Create hot InnoDB backups without pausing your database"}),"\n",(0,t.jsx)(a.li,{children:"Make incremental backups of MySQL"}),"\n",(0,t.jsx)(a.li,{children:"Stream compressed MySQL backups to another server"}),"\n",(0,t.jsx)(a.li,{children:"Move tables between MySQL servers on-line"}),"\n",(0,t.jsx)(a.li,{children:"Create new MySQL replication replicas easily"}),"\n",(0,t.jsx)(a.li,{children:"Backup MySQL without adding load to the server"}),"\n",(0,t.jsx)(a.li,{children:"Backup locks are a lightweight alternative to FLUSH TABLES WITH READ LOCK available in Percona Server 5.6+. Percona XtraBackup uses them automatically to copy non-InnoDB data to avoid blocking DML queries that modify InnoDB tables."}),"\n",(0,t.jsx)(a.li,{children:"Percona XtraBackup performs throttling based on the number of IO operations per second."}),"\n",(0,t.jsx)(a.li,{children:"Percona XtraBackup skips secondary index pages and recreates them when a compact backup is prepared."}),"\n",(0,t.jsx)(a.li,{children:"Percona XtraBackup can export individual tables even from a full backup, regardless of the InnoDB version."}),"\n",(0,t.jsx)(a.li,{children:"Tables exported with Percona XtraBackup can be imported into Percona Server 5.1, 5.5 or 5.6+, or MySQL 5.6+."}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"xtrabackup",children:"XtraBackup"}),"\n",(0,t.jsx)(a.p,{children:"Amazon RDS for MySQL and Amazon Aurora MySQL support migration from Percona XtraBackup files that are stored in an Amazon S3 bucket. Percona XtraBackup produces a binary backup files which can be significantly faster than migrating from logical schema and data dumps using tools such as mysqldump. The tool can be used for small-scale to large-scale migrations."}),"\n",(0,t.jsx)(a.p,{children:"Percona XtraBackup is appropriate when the following conditions are met:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"You have administrative, system-level access to the source database."}),"\n",(0,t.jsx)(a.li,{children:"You migrate database servers in a 1-to-1 fashion: one source MySQL server becomes one new Amazon RDS for MySQL or Aurora DB cluster."}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"You can decide not to use this tool if any of the following conditions are true:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"You can\u2019t use third-party software because of operating system limitations."}),"\n",(0,t.jsx)(a.li,{children:"You migrate into existing Aurora DB clusters."}),"\n",(0,t.jsx)(a.li,{children:"You migrate multiple source MySQL servers into a single Aurora DB cluster."}),"\n",(0,t.jsxs)(a.li,{children:["For more information, see ",(0,t.jsx)(a.a,{href:"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/MySQL.Procedural.Importing.html#MySQL.Procedural.Importing.Limitations",children:"Limitations and recommendations for importing backup files from Amazon S3 to Amazon RDS"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["For details and step-by-step instructions, see ",(0,t.jsx)(a.a,{href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Migrating.ExtMySQL.html#AuroraMySQL.Migrating.ExtMySQL.S3",children:"Migrating data from MySQL by using an Amazon S3 Bucket"})," in the ",(0,t.jsx)(a.em,{children:"Amazon RDS User Guide"}),"."]}),"\n",(0,t.jsx)(a.p,{children:"Follow these three steps to perform full data load using Percona XtraBackup."}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsx)(a.li,{children:"Produce a backup file containing source data."}),"\n",(0,t.jsx)(a.li,{children:"Restore this backup file from Amazon S3 while launching a new target database."}),"\n",(0,t.jsx)(a.li,{children:"Retrieve the binary log position for ongoing replication."}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"For example, the following command creates the backup file and streams it directly to Amazon S3."}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"xtrabackup --user=<myuser> --backup --parallel=4 \\\n--stream=xbstream --compress | \\\naws s3 cp - s3://<bucket_name>/<backup_file>.xbstream\n"})}),"\n",(0,t.jsxs)(a.p,{children:["Use the Amazon RDS console to restore the backup files from the Amazon S3 bucket and create a new Amazon Aurora MySQL DB cluster. For more information, see ",(0,t.jsx)(a.a,{href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Migrating.ExtMySQL.html#AuroraMySQL.Migrating.ExtMySQL.S3.Restore",children:"Restoring an Aurora MySQL DB cluster from an Amazon S3 bucket"}),"."]}),"\n",(0,t.jsx)(a.p,{children:"For example, the following command prints the binary log (binlog) information after you finish the creation of a compressed backup."}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.code,{children:"MySQL binlog position: filename 'mysql-bin.000001', position '481'"})}),"\n",(0,t.jsxs)(a.p,{children:["For example, the following command retrieves the binary log file name and position from the from the ",(0,t.jsx)(a.code,{children:"xtrabackup_binlog_info"})," file. This file is located in the main backup directory of an uncompressed backup."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"$ cat </on-premises/backup>/xtrabackup_binlog_info\n// Output\nmysql-bin.000001     481\n"})}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.a,{href:"https://www.percona.com/mysql/software/percona-xtrabackup",children:"Percona XtraBackup for MySQL - Top MySQL Backup Solution"})})]})}function u(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,a,n)=>{n.d(a,{R:()=>s,x:()=>i});var r=n(296540);const t={},o=r.createContext(t);function s(e){const a=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(o.Provider,{value:a},e.children)}}}]);