"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[92525],{899603:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"databases-sql/postgres/intro","title":"Intro","description":"Introduction","source":"@site/docs/databases-sql/postgres/intro.md","sourceDirName":"databases-sql/postgres","slug":"/databases-sql/postgres/intro","permalink":"/databases-sql/postgres/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases-sql/postgres/intro.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1753437649000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Indexes in Postgres","permalink":"/databases-sql/postgres/indexes"},"next":{"title":"Others","permalink":"/databases-sql/postgres/others"}}');var i=n(474848),r=n(28453);const a={},o="Intro",l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Schema vs Database",id:"schema-vs-database",level:2},{value:"Some reasons to use schemas include",id:"some-reasons-to-use-schemas-include",level:4},{value:"Functions in Postgres",id:"functions-in-postgres",level:2},{value:"Advanced Features",id:"advanced-features",level:2},{value:"JSON Types",id:"json-types",level:2},{value:"Containment",id:"containment",level:2},{value:"pg_trgm",id:"pg_trgm",level:2},{value:"Caching",id:"caching",level:2},{value:"Database Physical Storage",id:"database-physical-storage",level:2},{value:"Test Datasets",id:"test-datasets",level:2},{value:"SAAS",id:"saas",level:2},{value:"References",id:"references",level:2}];function h(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"intro",children:"Intro"})}),"\n",(0,i.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(s.p,{children:"Is a relational database management system with an object-oriented approach, meaning that information can be represented as objects or classes in PostgreSQL schemas."}),"\n",(0,i.jsx)(s.p,{children:"PostgreSQL is an open-source SQL database that is not controlled by any corporation. It is typically used for web application development."}),"\n",(0,i.jsx)(s.p,{children:"PostgreSQL shares many of the same advantages of MySQL. It is easy to use, inexpensive, reliable and has a large community of developers. It also provides some additional features such as foreign key support without requiring complex configuration."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"SQL Query Planner"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Lexing"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Parsing"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Rewriter"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Optimizer"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Two types of SQL Commands"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Full blown query (SELECT, INSERT, UPDATE, DELETE)"}),"\n",(0,i.jsx)(s.li,{children:"Utility queries (GRANT, DROP table, REVOKE)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"JOIN"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Bring data back together from different tables"}),"\n",(0,i.jsx)(s.li,{children:"Merge join"}),"\n",(0,i.jsx)(s.li,{children:"Hash join"}),"\n",(0,i.jsx)(s.li,{children:"Default Join - Inner Join"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"SQL is a declarative language, you tell the system what do you want, and system figures it out how to give it to you"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Query Plan"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Optimal set of instructions to get your data from the database"}),"\n",(0,i.jsx)(s.li,{children:"Output of optimizer"}),"\n",(0,i.jsx)(s.li,{children:"Cost out different options using prunning process"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Scan"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Sequential scan"}),"\n",(0,i.jsx)(s.li,{children:"Index scan"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Up to 12 tables, postgres tries all possible join operations and prunning for optimization query"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Generic query optimizer"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"schema-vs-database",children:"Schema vs Database"}),"\n",(0,i.jsx)(s.p,{children:"In PostgreSQL, a database is a collection of one or more named schemas, and a schema is a collection of tables, views, functions, and other objects within a database:"}),"\n",(0,i.jsx)(s.p,{children:"Here are some differences between databases and schemas in PostgreSQL:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Purpose -"})," A database is used to isolate data, while a schema is used to organize and manage database objects."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Namespace -"})," Schemas are logically separated by a namespace within a database."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Structure -"})," A database can contain multiple schemas, and each schema can contain multiple tables."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Object names -"})," The same object name can be used in different schemas, but two objects of the same type cannot have the same name within a schema."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Access -"})," Users can access objects in any schema in the database they are connected to, if they have privileges to do so."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"some-reasons-to-use-schemas-include",children:"Some reasons to use schemas include"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Allowing multiple users to use one database without interfering with each other"}),"\n",(0,i.jsx)(s.li,{children:"Organizing database objects into logical groups"}),"\n",(0,i.jsx)(s.li,{children:"Putting third-party applications into separate schemas so they do not collide with the names of other objects"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"functions-in-postgres",children:"Functions in Postgres"}),"\n",(0,i.jsx)(s.p,{children:"Postgres provides a powerful server-side function environment in multiple programming languages."}),"\n",(0,i.jsx)(s.p,{children:"Try to pre-process as much data as you can on the Postgres server with server-side functions. That way, you can cut down on the latency that comes from passing too much data back and forth between your application servers and your database. This approach is particularly useful for large aggregations and joins."}),"\n",(0,i.jsx)(s.p,{children:"What's even better is your development team can use its existing skill set for writing Postgres code. Other than the default PL/pgSQL (Postgres' native procedural language), Postgres functions and triggers can be written in PL/Python, PL/Perl, PL/V8 (JavaScript extension for Postgres) and PL/R."}),"\n",(0,i.jsx)(s.p,{children:"Here is an example of creating a PL/Python function for checking string lengths:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",children:"CREATE FUNCTION longer_string_length (string1 string, string2 string)\nRETURNS integer\nAS $$\na=len(string1)\nb-len(string2)\nif a > b:\n  return a\nreturn b\n$$ LANGUAGE plpythonu;\n"})}),"\n",(0,i.jsx)(s.h2,{id:"advanced-features",children:"Advanced Features"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"in-memory caching"}),"\n",(0,i.jsxs)(s.li,{children:["full text search - ",(0,i.jsx)(s.a,{href:"https://rob.conery.io/2019/10/29/fine-tuning-full-text-search-with-postgresql-12",children:"https://rob.conery.io/2019/10/29/fine-tuning-full-text-search-with-postgresql-12"})]}),"\n",(0,i.jsx)(s.li,{children:"specialized indexing"}),"\n",(0,i.jsx)(s.li,{children:"key-value storage"}),"\n",(0,i.jsx)(s.li,{children:"Partial indexes"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"json-types",children:"JSON Types"}),"\n",(0,i.jsx)(s.p,{children:"PostgreSQL offers two types for storing JSON data - json and jsonb."}),"\n",(0,i.jsxs)(s.p,{children:["The json and jsonb data types accept ",(0,i.jsx)(s.em,{children:"almost"})," identical sets of values as input. The major practical difference is one of efficiency. The json data type stores an exact copy of the input text, which processing functions must reparse on each execution; while jsonb data is stored in a decomposed binary format that makes it slightly slower to input due to added conversion overhead, but significantly faster to process, since no reparsing is needed. jsonb also supports indexing, which can be a significant advantage."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://www.postgresql.org/docs/current/datatype-json.html",children:"https://www.postgresql.org/docs/current/datatype-json.html"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://severalnines.com/database-blog/overview-json-capabilities-within-postgresql",children:"https://severalnines.com/database-blog/overview-json-capabilities-within-postgresql"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://ftisiot.net/postgresqljson/what-are-the-differences-json-jsonb-postgresql/",children:"What are the differences between JSON or JSONB in PostgreSQL?"})}),"\n",(0,i.jsx)(s.h2,{id:"containment",children:"Containment"}),"\n",(0,i.jsx)(s.p,{children:"Containment tests whether one document (a set or an array) is contained within another."}),"\n",(0,i.jsx)(s.h2,{id:"pg_trgm",children:"pg_trgm"}),"\n",(0,i.jsx)(s.p,{children:"Trigram (Trigraph) concepts"}),"\n",(0,i.jsx)(s.p,{children:"A trigram is a group of three consecutive characters taken from a string. We can measure the similarity of two strings by counting the number of trigrams they share. This simple idea turns out to be very effective for measuring the similarity of words in many natural languages."}),"\n",(0,i.jsx)(s.p,{children:'Note: pg_trgm ignores non-word characters (non-alphanumerics) when extracting trigrams from a string. Each word is considered to have two spaces prefixed and one space suffixed when determining the set of trigrams contained in the string. For example, the set of trigrams in the string "cat" is "c", "ca" , "cat", and "at". The set of trigrams in the string "foo|bar" is "f", "fo", "foo", "oo", "b", "ba", "bar", and "ar"'}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://www.postgresql.org/docs/9.6/pgtrgm.html",children:"https://www.postgresql.org/docs/9.6/pgtrgm.html"})}),"\n",(0,i.jsx)(s.h2,{id:"caching",children:"Caching"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://madusudanan.com/blog/understanding-postgres-caching-in-depth",children:"https://madusudanan.com/blog/understanding-postgres-caching-in-depth"})}),"\n",(0,i.jsx)(s.h2,{id:"database-physical-storage",children:"Database Physical Storage"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://www.postgresql.org/docs/current/storage.html",children:"https://www.postgresql.org/docs/current/storage.html"})}),"\n",(0,i.jsx)(s.h2,{id:"test-datasets",children:"Test Datasets"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://github.com/devrimgunduz/pagila",children:"GitHub - devrimgunduz/pagila: PostgreSQL Sample Database"})}),"\n",(0,i.jsx)(s.h2,{id:"saas",children:"SAAS"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.enterprisedb.com/",children:"EDB: Open-Source, Enterprise Postgres Database Management"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.enterprisedb.com/docs/efm/latest/",children:"EDB Docs - Failover Manager v4 - EFM"})}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"http://www.postgresqltutorial.com",children:"http://www.postgresqltutorial.com"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://dev.to/digitalocean/-an-introduction-to-queries-in-postgresql-44la",children:"https://dev.to/digitalocean/-an-introduction-to-queries-in-postgresql-44la"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://postgrescheatsheet.com/#/databases",children:"https://postgrescheatsheet.com/#/databases"})}),"\n",(0,i.jsx)(s.li,{children:"SE Radio - 328: Postgres Query Planner (Robert Blumen with Bruce Momjian)"}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://dev.to/heroku/postgres-is-underrated-it-handles-more-than-you-think-4ff3",children:"https://dev.to/heroku/postgres-is-underrated-it-handles-more-than-you-think-4ff3"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://sql-performance-explained.com",children:"https://sql-performance-explained.com"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://wiki.postgresql.org/wiki/Don%27t_Do_This",children:"https://wiki.postgresql.org/wiki/Don%27t_Do_This"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.youtube.com/playlist?list=PLdTaEgcmPg9Kl539gyIFtWL0-cqk3m7v9",children:"Scaling Postgres Episodes"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.youtube.com/playlist?list=PLdTaEgcmPg9KiTCPWh-K961tiZrvhgfFu",children:"PostgreSQL Tutorials"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://zerodha.tech/blog/working-with-postgresql",children:"https://zerodha.tech/blog/working-with-postgresql"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.youtube.com/watch?v=Q56kljmIN14",children:"Postgres Architecture Explained - YouTube"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.notion.so/blog/sharding-postgres-at-notion",children:"Herding elephants: Lessons learned from sharding Postgres at Notion"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.postgresql.org/docs/current/sql-copy.html",children:"Postgres Copy"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.crunchydata.com/blog/fun-with-postgresql-puzzles-moving-objects-with-arrays-sequences-and-aggregates",children:"Fun with PostgreSQL Puzzles: Moving Objects with Arrays, Sequences, and Aggregates"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.youtube.com/watch?v=AveRgUrC7FM",children:"Postgres System Columns Explained (ctid, xmin,xmax) - YouTube"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.youtube.com/watch?v=qXDhMJCuDEc",children:"Index Fill Factor | The Backend Engineering Show - YouTube"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.avestura.dev/blog/explaining-the-postgres-meme",children:"Explaining The Postgres Meme"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.youtube.com/watch?v=1KzcJXNSzgE&ab_channel=HusseinNasser",children:"Postgres just got even faster - YouTube"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://youtu.be/3JW732GrMdg",children:"I replaced my entire tech stack with Postgres... - YouTube"})}),"\n"]})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>o});var t=n(296540);const i={},r=t.createContext(i);function a(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);