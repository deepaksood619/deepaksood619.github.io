"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[12959],{324602:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"cloud/azure/commands","title":"Commands","description":"https://github.com/Azure/helm-elasticstack","source":"@site/docs/cloud/azure/commands.md","sourceDirName":"cloud/azure","slug":"/cloud/azure/commands","permalink":"/cloud/azure/commands","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/cloud/azure/commands.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1762696123000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Azure SQL Databases","permalink":"/cloud/azure/azure-sql-databases"},"next":{"title":"IAM","permalink":"/cloud/azure/iam"}}');var s=r(474848),t=r(28453);const i={},c="Commands",o={},l=[{value:"Create secret to pull from private registry",id:"create-secret-to-pull-from-private-registry",level:2},{value:"Help",id:"help",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"commands",children:"Commands"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'brew update && brew install azure-cli\n\naz login\n\naz aks install-cli\n\naz aks get-credentials --resource-group Technology --name kubernetes-cluster\n\naz --version\n\nbrew update && brew upgrade azure-cli\n\n## for tunneling to kubernetes-dashboard\n\naz aks browse --resource-group Technology --name prod-cluster\n\n## Upgrade\n\naz aks get-upgrades --resource-group Technology --name dev-kubernetes-cluster --output table\n\n## ACR\n\naz acr list --resource-group Technology --query "[].{acrLoginServer:loginServer}" --output table\n\n## IP Allocations\n\naz aks show --resource-group Technology --name dev-kubernetes-cluster --query nodeResourceGroup -o tsv\n\naz network public-ip create --resource-group MC_Technology_dev-kubernetes-cluster_southindia --name kafka1PublicIP --allocation-method static\n\naz network public-ip create --resource-group staticpublicip --name kongPublicIP --allocation-method static\n\naz network public-ip create --resource-group staticpublicip --name kongproxyPublicIP --allocation-method static --sku Standard\n\naz network public-ip show --resource-group MC_Technology_dev-kubernetes-cluster_southindia --name kafkaPublicIP\n\naz network public-ip delete --resource-group MC_Technology_dev-kubernetes-cluster_southindia --name testPublicIP\n\naz network public-ip list\n\naz network public-ip list --resource-group MC_Technology_dev-kubernetes-cluster_southindia\n\naz group create --location centralindia --name staticpublicip\n\naz role assignment create --assignee 727ba8c8-fa02-440c-ab02-58cb14eb1420 --role "Network Contributor" --scope /subscriptions/3809021a-75e6-4568-8445-2a37bfd143dd/resourceGroups/staticpublicip\n\naz aks update-credentials --resource-group Technology --name dev-kubernetes-cluster --reset-service-principal --service-principal $SP_ID --client-secret $SP_SECRET\n\nSP_ID=$(az aks show --resource-group Technology --name prod-cluster --query servicePrincipalProfile.clientId -o tsv)\n\naz ad sp create-for-rbac --skip-assignment\n\n## ELK\n\naz keyvault create --name example-kubernetes-vault --resource-group Technology\n\naz network public-ip create -n kibana-public --resource-group=Technology --allocation-method=static --dns-name=kibana-public\n\naz network public-ip create -n kibana-ip --resource-group=Technology --allocation-method=static --dns-name=kibana.example.com\n\naz network public-ip create -n elk-ip --resource-group=Technology --allocation-method=static\n\n# 52.172.150.153\n\naz keyvault certificate import --name kibana-certificate --vault-name example-kubernetes-vault -f ${DOMAIN}.pfx --tags domain=${DOMAIN}\n\naz keyvault secret set --name kibana-certificate-key-password --vault-name example-kubernetes-vault\n\naz redis create --name dev-logscache --location southindia --resource-group Technology --sku Standard --vm-size C1\n\nhelm delete --purge elasticsearch\n\n./deploy.sh -n elk -v example-kubernetes-vault\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/Azure/helm-elasticstack",children:"https://github.com/Azure/helm-elasticstack"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/Azure/acs-engine/blob/master/docs/kubernetes/monitoring#monitoring-kubernetes-clusters",children:"https://github.com/Azure/acs-engine/blob/master/docs/kubernetes/monitoring#monitoring-kubernetes-clusters"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/cli/azure/network/public-ip?view=azure-cli-latest",children:"https://docs.microsoft.com/en-us/cli/azure/network/public-ip?view=azure-cli-latest"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/aks/cluster-autoscaler",children:"https://docs.microsoft.com/en-us/azure/aks/cluster-autoscaler"})}),"\n",(0,s.jsx)(n.h2,{id:"create-secret-to-pull-from-private-registry",children:"Create secret to pull from private registry"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# gcr reg addition\n\nkubectl create secret docker-registry gcrreg --docker-server=gcr.io --docker-username=_json_key --docker-password="$(cat ~/json-key-file.json)" --docker-email=username@example.com -n smap\n\nkubectl patch serviceaccount default -p \'{"imagePullSecrets": [{"name": "gcrreg"}]}\' -n smap\n'})}),"\n",(0,s.jsx)(n.h2,{id:"help",children:"Help"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"az --version"})," to display the current version."]}),"\n",(0,s.jsx)(n.p,{children:"Here are the base commands:"}),"\n",(0,s.jsx)(n.p,{children:"account : Manage Azure subscription information."}),"\n",(0,s.jsx)(n.p,{children:"acr : Manage private registries with Azure Container Registries."}),"\n",(0,s.jsx)(n.p,{children:"ad : Manage Azure Active Directory Graph entities needed for Role Based Access"}),"\n",(0,s.jsx)(n.p,{children:"Control."}),"\n",(0,s.jsx)(n.p,{children:"advisor : Manage Azure Advisor."}),"\n",(0,s.jsx)(n.p,{children:"aks : Manage Azure Kubernetes Services."}),"\n",(0,s.jsx)(n.p,{children:"ams : Manage Azure Media Services resources."}),"\n",(0,s.jsx)(n.p,{children:"apim : Manage Azure API Management services."}),"\n",(0,s.jsx)(n.p,{children:"appconfig : Manage App Configurations."}),"\n",(0,s.jsx)(n.p,{children:"appservice : Manage App Service plans."}),"\n",(0,s.jsx)(n.p,{children:"backup : Manage Azure Backups."}),"\n",(0,s.jsx)(n.p,{children:"batch : Manage Azure Batch."}),"\n",(0,s.jsx)(n.p,{children:"billing : Manage Azure Billing."}),"\n",(0,s.jsx)(n.p,{children:"bot : Manage Microsoft Azure Bot Service."}),"\n",(0,s.jsxs)(n.p,{children:["cache : Commands to manage CLI objects cached using the ",(0,s.jsx)(n.code,{children:"--defer"})," argument."]}),"\n",(0,s.jsx)(n.p,{children:"cdn : Manage Azure Content Delivery Networks (CDNs)."}),"\n",(0,s.jsx)(n.p,{children:"POP : Points of Presence"}),"\n",(0,s.jsx)(n.p,{children:"cloud : Manage registered Azure clouds."}),"\n",(0,s.jsx)(n.p,{children:"cognitiveservices : Manage Azure Cognitive Services accounts."}),"\n",(0,s.jsx)(n.p,{children:"configure : Manage Azure CLI configuration. This command is interactive."}),"\n",(0,s.jsx)(n.p,{children:"consumption : Manage consumption of Azure resources."}),"\n",(0,s.jsx)(n.p,{children:"container : Manage Azure Container Instances."}),"\n",(0,s.jsx)(n.p,{children:"cosmosdb : Manage Azure Cosmos DB database accounts."}),"\n",(0,s.jsx)(n.p,{children:"deployment : Manage Azure Resource Manager deployments at subscription scope."}),"\n",(0,s.jsx)(n.p,{children:"deploymentmanager : Create and manage rollouts for your service."}),"\n",(0,s.jsx)(n.p,{children:"disk : Manage Azure Managed Disks."}),"\n",(0,s.jsx)(n.p,{children:"dla : Manage Data Lake Analytics accounts, jobs, and catalogs."}),"\n",(0,s.jsx)(n.p,{children:"dls : Manage Data Lake Store accounts and filesystems."}),"\n",(0,s.jsx)(n.p,{children:"dms : Manage Azure Data Migration Service (DMS) instances."}),"\n",(0,s.jsx)(n.p,{children:"eventgrid : Manage Azure Event Grid topics, event subscriptions, domains and domain"}),"\n",(0,s.jsx)(n.p,{children:"topics."}),"\n",(0,s.jsx)(n.p,{children:"eventhubs : Manage Azure Event Hubs namespaces, eventhubs, consumergroups and geo"}),"\n",(0,s.jsx)(n.p,{children:"recovery configurations - Alias."}),"\n",(0,s.jsx)(n.p,{children:"extension : Manage and update CLI extensions."}),"\n",(0,s.jsx)(n.p,{children:"feature : Manage resource provider features."}),"\n",(0,s.jsx)(n.p,{children:"feedback : Send feedback to the Azure CLI Team!"}),"\n",(0,s.jsx)(n.p,{children:"find : I'm an AI robot, my advice is based on our Azure documentation as well as"}),"\n",(0,s.jsx)(n.p,{children:"the usage patterns of Azure CLI and Azure ARM users. Using me improves Azure"}),"\n",(0,s.jsx)(n.p,{children:"products and documentation."}),"\n",(0,s.jsx)(n.p,{children:"functionapp : Manage function apps. To install the Azure Functions Core tools see"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://github.com/Azure/azure-functions-core-tools",children:"https://github.com/Azure/azure-functions-core-tools"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"group : Manage resource groups and template deployments."}),"\n",(0,s.jsx)(n.p,{children:"hdinsight : Manage HDInsight resources."}),"\n",(0,s.jsx)(n.p,{children:"identity : Managed Service Identities."}),"\n",(0,s.jsx)(n.p,{children:"image : Manage custom virtual machine images."}),"\n",(0,s.jsx)(n.p,{children:"interactive : Start interactive mode. Installs the Interactive extension if not installed"}),"\n",(0,s.jsx)(n.p,{children:"already."}),"\n",(0,s.jsx)(n.p,{children:"iot : Manage Internet of Things (IoT) assets."}),"\n",(0,s.jsx)(n.p,{children:"iotcentral : Manage IoT Central assets."}),"\n",(0,s.jsx)(n.p,{children:"keyvault : Manage KeyVault keys, secrets, and certificates."}),"\n",(0,s.jsx)(n.p,{children:"kusto : Manage Azure Kusto resources."}),"\n",(0,s.jsx)(n.p,{children:"lab : Manage Azure DevTest Labs."}),"\n",(0,s.jsx)(n.p,{children:"lock : Manage Azure locks."}),"\n",(0,s.jsx)(n.p,{children:"login : Log in to Azure."}),"\n",(0,s.jsx)(n.p,{children:"logout : Log out to remove access to Azure subscriptions."}),"\n",(0,s.jsx)(n.p,{children:"managedapp : Manage template solutions provided and maintained by Independent Software"}),"\n",(0,s.jsx)(n.p,{children:"Vendors (ISVs)."}),"\n",(0,s.jsx)(n.p,{children:"managedservices : Manage the registration assignments and definitions in Azure."}),"\n",(0,s.jsx)(n.p,{children:"maps : Manage Azure Maps."}),"\n",(0,s.jsx)(n.p,{children:"mariadb : Manage Azure Database for MariaDB servers."}),"\n",(0,s.jsx)(n.p,{children:"monitor : Manage the Azure Monitor Service."}),"\n",(0,s.jsx)(n.p,{children:"mysql : Manage Azure Database for MySQL servers."}),"\n",(0,s.jsx)(n.p,{children:"netappfiles : Manage Azure NetApp Files (ANF) Resources."}),"\n",(0,s.jsx)(n.p,{children:"network : Manage Azure Network resources."}),"\n",(0,s.jsx)(n.p,{children:"openshift : Manage Azure Red Hat OpenShift Services."}),"\n",(0,s.jsx)(n.p,{children:"policy : Manage resource policies."}),"\n",(0,s.jsx)(n.p,{children:"postgres : Manage Azure Database for PostgreSQL servers."}),"\n",(0,s.jsx)(n.p,{children:"ppg : Manage Proximity Placement Groups."}),"\n",(0,s.jsx)(n.p,{children:"provider : Manage resource providers."}),"\n",(0,s.jsx)(n.p,{children:"redis : Manage dedicated Redis caches for your Azure applications."}),"\n",(0,s.jsx)(n.p,{children:"relay : Manage Azure Relay Service namespaces, WCF relays, hybrid connections, and"}),"\n",(0,s.jsx)(n.p,{children:"rules."}),"\n",(0,s.jsx)(n.p,{children:"reservations : Manage Azure Reservations."}),"\n",(0,s.jsx)(n.p,{children:"resource : Manage Azure resources."}),"\n",(0,s.jsx)(n.p,{children:"rest : Invoke a custom request."}),"\n",(0,s.jsx)(n.p,{children:"role : Manage user roles for access control with Azure Active Directory and service"}),"\n",(0,s.jsx)(n.p,{children:"principals."}),"\n",(0,s.jsx)(n.p,{children:"search : Manage Azure Search services, admin keys and query keys."}),"\n",(0,s.jsx)(n.p,{children:"security : Manage your security posture with Azure Security Center."}),"\n",(0,s.jsx)(n.p,{children:"servicebus : Manage Azure Service Bus namespaces, queues, topics, subscriptions, rules"}),"\n",(0,s.jsx)(n.p,{children:"and geo-disaster recovery configuration alias."}),"\n",(0,s.jsx)(n.p,{children:"sf : Manage and administer Azure Service Fabric clusters."}),"\n",(0,s.jsx)(n.p,{children:"sig : Manage shared image gallery."}),"\n",(0,s.jsx)(n.p,{children:"signalr : Manage Azure SignalR Service."}),"\n",(0,s.jsx)(n.p,{children:"snapshot : Manage point-in-time copies of managed disks, native blobs, or other"}),"\n",(0,s.jsx)(n.p,{children:"snapshots."}),"\n",(0,s.jsx)(n.p,{children:"sql : Manage Azure SQL Databases and Data Warehouses."}),"\n",(0,s.jsx)(n.p,{children:"storage : Manage Azure Cloud Storage resources."}),"\n",(0,s.jsx)(n.p,{children:"tag : Manage resource tags."}),"\n",(0,s.jsx)(n.p,{children:"vm : Manage Linux or Windows virtual machines."}),"\n",(0,s.jsx)(n.p,{children:"vmss : Manage groupings of virtual machines in an Azure Virtual Machine Scale Set"}),"\n",(0,s.jsx)(n.p,{children:"(VMSS)."}),"\n",(0,s.jsx)(n.p,{children:"webapp : Manage web apps."})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>c});var a=r(296540);const s={},t=a.createContext(s);function i(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);