"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[62548],{599063:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"databases/sql-databases/mysql/sql-mysql-tools","title":"SQL / MySQL Tools","description":"Monitoring","source":"@site/docs/databases/sql-databases/mysql/sql-mysql-tools.md","sourceDirName":"databases/sql-databases/mysql","slug":"/databases/sql-databases/mysql/sql-mysql-tools","permalink":"/databases/sql-databases/mysql/sql-mysql-tools","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases/sql-databases/mysql/sql-mysql-tools.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1736175112000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Server SQL Modes","permalink":"/databases/sql-databases/mysql/server-sql-modes"},"next":{"title":"Thread States","permalink":"/databases/sql-databases/mysql/thread-states"}}');var a=s(474848),i=s(28453);const o={},r="SQL / MySQL Tools",l={},h=[{value:"Monitoring",id:"monitoring",level:2},{value:"MySQL Diagnostic Manager (Monyog)",id:"mysql-diagnostic-manager-monyog",level:2},{value:"Testing",id:"testing",level:2},{value:"mysqlslap",id:"mysqlslap",level:3},{value:"Optimizations",id:"optimizations",level:2},{value:"MySQLTuner",id:"mysqltuner",level:3},{value:"Mysqlreport",id:"mysqlreport",level:3},{value:"Event Reduce",id:"event-reduce",level:3},{value:"SQLCheck",id:"sqlcheck",level:3},{value:"Others",id:"others",level:3},{value:"Gh-ost (Ghost)",id:"gh-ost-ghost",level:2},{value:"Gh-ost operation modes",id:"gh-ost-operation-modes",level:3},{value:"Gh-ost general flow",id:"gh-ost-general-flow",level:3},{value:"Ghost Tables",id:"ghost-tables",level:3},{value:"Links",id:"links",level:3},{value:"Maintenance Scripts",id:"maintenance-scripts",level:2},{value:"Orchestrator",id:"orchestrator",level:2},{value:"CueObserve",id:"cueobserve",level:2},{value:"Others",id:"others-1",level:2}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"sql--mysql-tools",children:"SQL / MySQL Tools"})}),"\n",(0,a.jsx)(t.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://www.percona.com/doc/percona-monitoring-and-management/index.html",children:"https://www.percona.com/doc/percona-monitoring-and-management/index.html"})}),"\n",(0,a.jsx)(t.h2,{id:"mysql-diagnostic-manager-monyog",children:"MySQL Diagnostic Manager (Monyog)"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://www.eversql.com/top-5-mysql-monitoring-tools",children:"Top 5 MySQL Monitoring tools 2021"})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://www.webyog.com/product/monyog",children:"Monyog | Monitor MySQL Databases Configuration in Real-Time | Webyog"})}),"\n",(0,a.jsx)(t.h2,{id:"testing",children:"Testing"}),"\n",(0,a.jsx)(t.h3,{id:"mysqlslap",children:"mysqlslap"}),"\n",(0,a.jsx)(t.p,{children:"It's a benchmarking tool that can help DBAs and developers load test their database servers."}),"\n",(0,a.jsx)(t.p,{children:"mysqlslap can emulate a large number of client connections hitting the database server at the same time. The load testing parameters are fully configurable and the results from different test runs can be used to fine-tune database design or hardware resources."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://www.digitalocean.com/community/tutorials/how-to-measure-mysql-query-performance-with-mysqlslap",children:"https://www.digitalocean.com/community/tutorials/how-to-measure-mysql-query-performance-with-mysqlslap"})}),"\n",(0,a.jsx)(t.h2,{id:"optimizations",children:"Optimizations"}),"\n",(0,a.jsx)(t.h3,{id:"mysqltuner",children:"MySQLTuner"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://github.com/major/MySQLTuner-perl",children:"https://github.com/major/MySQLTuner-perl"})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://github.com/pdufault/mysqlfragfinder/blob/master/mysqlfragfinder.sh",children:"https://github.com/pdufault/mysqlfragfinder/blob/master/mysqlfragfinder.sh"})}),"\n",(0,a.jsx)(t.h3,{id:"mysqlreport",children:"Mysqlreport"}),"\n",(0,a.jsx)(t.p,{children:"Mysqlreport transforms the values from SHOW STATUS into an easy-to-read report that provides an in-depth understanding of how well MySQL is running. mysqlreport is a better alternative (and practically the only alternative) to manually interpreting SHOW STATUS."}),"\n",(0,a.jsx)(t.h3,{id:"event-reduce",children:"Event Reduce"}),"\n",(0,a.jsx)(t.p,{children:"An algorithm to optimize database queries that run multiple times"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://github.com/pubkey/event-reduce",children:"https://github.com/pubkey/event-reduce"})}),"\n",(0,a.jsx)(t.h3,{id:"sqlcheck",children:"SQLCheck"}),"\n",(0,a.jsx)(t.p,{children:"SQL anti-patterns can slow down queries, but often it takes experienced DBAs and developers poring over code to identify and resolve them."}),"\n",(0,a.jsx)(t.p,{children:"Four categories of anti-pattern:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Logical database design"}),"\n",(0,a.jsx)(t.li,{children:"Physical database design"}),"\n",(0,a.jsx)(t.li,{children:"Query"}),"\n",(0,a.jsx)(t.li,{children:"Application development"}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Sqlcheck can be targeted at varying risk levels, categorized as low, medium, or high risk. This is helpful if your list of anti-patterns is large, since you can prioritize the queries with the greatest performance impact.All you need to do to get started is gather a list of your distinct queries into a file and then pass them as an argument to the tool."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://github.com/jarulraj/sqlcheck",children:"https://github.com/jarulraj/sqlcheck"})}),"\n",(0,a.jsx)(t.h3,{id:"others",children:"Others"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://ottertune.com/",children:"AI-Powered Automatic PostgreSQL & MySQL Tuning | OtterTune"})}),"\n",(0,a.jsx)(t.h2,{id:"gh-ost-ghost",children:"Gh-ost (Ghost)"}),"\n",(0,a.jsxs)(t.p,{children:["If like 99 percent of MySQL DBAs you have faced implementing a change to a MySQL table while fearing the impact on production, then you should consider ",(0,a.jsx)(t.a,{href:"https://github.com/github/gh-ost",children:"Gh-ost"})," (GitHub Online Schema Migration). Gh-ost provides MySQL schema changes without blocking writes, without using triggers, and with the ability to pause and resume the migration!"]}),"\n",(0,a.jsxs)(t.p,{children:["Why is this so important? Since MySQL 5.6 shipped with new ",(0,a.jsx)(t.a,{href:"https://dev.mysql.com/doc/refman/5.6/en/alter-table.html",children:"ALTER TABLE ... ALGORITHM=INPLACE"})," DDL (Data Definition Language) functionality, it became possible to modify a table without blocking writes for common operations such as adding an index (B-tree). However, there remain a few conditions where ",(0,a.jsx)(t.a,{href:"https://dev.mysql.com/doc/refman/5.7/en/innodb-create-index-overview.html#innodb-online-ddl-summary-grid",children:"writes (DML statements) are blocked"}),", most notably the addition of a ",(0,a.jsx)(t.code,{children:"FULLTEXT"})," index, the encryption of the tablespace, and the conversion of a column type."]}),"\n",(0,a.jsxs)(t.p,{children:["Other popular online schema change tools, such as Percona's ",(0,a.jsx)(t.a,{href:"https://www.percona.com/doc/percona-toolkit/LATEST/pt-online-schema-change.html",children:"pt-online-schema-change"}),", work by implementing a set of three triggers (INSERT, UPDATE, andDELETE) on the master to keep a shadow copy table in sync with changes. This introduces a small performance penalty due to write amplification, but more significantly requires seven instances of metadata locks. These effectively stall DML (Data Manipulation Language) events."]}),"\n",(0,a.jsxs)(t.p,{children:["Since Gh-ost operates using the binary log, it is not susceptible to the ",(0,a.jsx)(t.a,{href:"https://github.com/github/gh-ost/blob/master/doc/why-triggerless",children:"trigger-based drawbacks"}),". Finally Gh-ost is able to effectively ",(0,a.jsx)(t.a,{href:"https://github.com/github/gh-ost/blob/master/doc/interactive-commands#examples",children:"throttle activity to zero events"}),", allowing you to pause the schema migration for a while if your server begins to struggle, and resume when the activity bubble moves on."]}),"\n",(0,a.jsxs)(t.p,{children:["So how does Gh-ost work? By default, Gh-ost connects to a replica (slave), identifies the master, and applies the migration on the master. It receives changes on a replica to the source table in ",(0,a.jsx)(t.a,{href:"https://dev.mysql.com/doc/en/binary-log-setting.html",children:"binlog_format=ROW"}),", parses the log, and converts these statements to be re-executed on the master's shadow table.It keeps track of the row counts on the replica and identifies when it is time to perform an atomic cutover (switch tables)."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"image",src:s(145194).A+"",width:"999",height:"447"})}),"\n",(0,a.jsx)(t.h3,{id:"gh-ost-operation-modes",children:"Gh-ost operation modes"}),"\n",(0,a.jsxs)(t.p,{children:["Gh-ost provides an alternative mode where you execute the migration directly on the master (whether it has slaves or not), read back the master's ",(0,a.jsx)(t.code,{children:"binlog_format=ROW"})," events, and then re-apply them to the shadow table."]}),"\n",(0,a.jsx)(t.p,{children:"A final option is available to run the migration only on the replica without impacting the master, so you can test or otherwise validate the migration."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"image",src:s(812533).A+"",width:"999",height:"418"})}),"\n",(0,a.jsx)(t.h3,{id:"gh-ost-general-flow",children:"Gh-ost general flow"}),"\n",(0,a.jsx)(t.p,{children:"Note that if your schema has foreign keys then Gh-ost may not operate cleanly, as this configuration is not supported."}),"\n",(0,a.jsx)(t.h3,{id:"ghost-tables",children:"Ghost Tables"}),"\n",(0,a.jsx)(t.p,{children:"A ghost table is a database table that is no longer in use but still takes up space. Ghost tables are often created during schema changes or data migrations"}),"\n",(0,a.jsx)(t.h3,{id:"links",children:"Links"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://github.com/github/gh-ost",children:"https://github.com/github/gh-ost"})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://www.infoworld.com/article/3241730/top-5-open-source-tools-for-mysql-administrators.html",children:"https://www.infoworld.com/article/3241730/top-5-open-source-tools-for-mysql-administrators.html"})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://www.mydbops.com/blog/gh-ost-for-mysql-schema-change",children:"GH-OST for MySQL Schema Change."})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://browntape.com/how-we-altered-a-mysql-table-with-50m-rows-without-downtime-with-gh-ost/",children:"How we Altered a MySQL Table with 50 Million Rows without Downtime using gh-ost - Browntape"})}),"\n",(0,a.jsxs)(t.p,{children:["Alternatives - ",(0,a.jsx)(t.a,{href:"https://github.com/cashapp/spirit",children:"GitHub - cashapp/spirit: Online Schema Change Tool for MySQL 8.0+"})]}),"\n",(0,a.jsx)(t.h2,{id:"maintenance-scripts",children:"Maintenance Scripts"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://jonlabelle.com/snippets/view/shell/mysql-database-maintenance-script",children:"https://jonlabelle.com/snippets/view/shell/mysql-database-maintenance-script"})}),"\n",(0,a.jsxs)(t.p,{children:["Backup + Optimize - ",(0,a.jsx)(t.a,{href:"https://github.com/mmerian/MySQL-Maint/blob/master/mysql_maint.sh",children:"https://github.com/mmerian/MySQL-Maint/blob/master/mysql_maint.sh"})]}),"\n",(0,a.jsx)(t.p,{children:"InnoDB stores data using a page-allocation method and does not suffer from fragmentation in the same way that legacy storage engines (such as MyISAM) will. When considering whether or not to run optimize, consider the workload of transactions that your server will process:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Some level of fragmentation is expected. InnoDB only fills pages 93% full, to leave room for updates without having to split pages."}),"\n",(0,a.jsx)(t.li,{children:"Delete operations might leave gaps that leave pages less filled than desired, which could make it worthwhile to optimize the table."}),"\n",(0,a.jsx)(t.li,{children:'Updates to rows usually rewrite the data within the same page, depending on the data type and row format, when sufficient space is available. See Section 14.10.5, "How Compression Works for InnoDB Tables" and Section 14.12.1, "Overview of InnoDB Row Storage".'}),"\n",(0,a.jsx)(t.li,{children:'High-concurrency workloads might leave gaps in indexes over time, as InnoDB retains multiple versions of the same data due through its MVCC mechanism. See Section 14.5.12, "InnoDB Multi-Versioning".'}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"orchestrator",children:"Orchestrator"}),"\n",(0,a.jsx)(t.p,{children:"orchestrator is a MySQL high availability and replication management tool, runs as a service and provides command line access, HTTP API and Web interface."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://github.com/openark/orchestrator",children:"https://github.com/openark/orchestrator"})}),"\n",(0,a.jsx)(t.h2,{id:"cueobserve",children:"CueObserve"}),"\n",(0,a.jsx)(t.p,{children:"Anomaly detection on SQL data warehouses and databases"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://github.com/cuebook/cueobserve",children:"https://github.com/cuebook/cueobserve"})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://cueobserve.cuebook.ai",children:"https://cueobserve.cuebook.ai"})}),"\n",(0,a.jsx)(t.h2,{id:"others-1",children:"Others"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://www.quest.com/products/toad-for-oracle/",children:"Best Oracle Developer and Administrator Database Tools | Free Trial"})}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},145194:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/MySQL_SQL-MySQL-Tools-image1-34a13b24e28b3c2583b6f00039a7c42c.jpg"},812533:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/MySQL_SQL-MySQL-Tools-image2-2d51de2e5d138ad6f043f099c6dac670.jpg"},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>r});var n=s(296540);const a={},i=n.createContext(a);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);