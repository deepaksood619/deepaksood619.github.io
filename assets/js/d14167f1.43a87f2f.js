"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[22880],{558585:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>a});var i=s(785893),t=s(511151);const o={},r="KeyCloak",l={id:"devops/others/keycloak",title:"KeyCloak",description:"Add authentication to applications and secure services with minimum fuss.",source:"@site/docs/devops/others/keycloak.md",sourceDirName:"devops/others",slug:"/devops/others/keycloak",permalink:"/devops/others/keycloak",draft:!1,unlisted:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/devops/others/keycloak.md",tags:[],version:"current",lastUpdatedAt:1707138374,formattedLastUpdatedAt:"Feb 5, 2024",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Jenkins",permalink:"/devops/others/jenkins"},next:{title:"Kong",permalink:"/devops/others/kong"}},c={},a=[{value:"Features",id:"features",level:2},{value:"Single sign-on",id:"single-sign-on",level:2},{value:"Keycloak Tokens",id:"keycloak-tokens",level:2},{value:"Keycloak Integration Options",id:"keycloak-integration-options",level:2}];function d(e){const n={a:"a",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"keycloak",children:"KeyCloak"}),"\n",(0,i.jsx)(n.p,{children:"Add authentication to applications and secure services with minimum fuss."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"User Federation"}),"\n",(0,i.jsx)(n.li,{children:"Identity Brokering"}),"\n",(0,i.jsx)(n.li,{children:"Social Login"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["A realm in Keycloak is the equivalent of a tenant. It allows creating isolated groups of applications and users. By default there is a a single realm in Keycloak called ",(0,i.jsx)(n.strong,{children:"master"}),". This is dedicated to manage Keycloak and should not be used for your own applications."]}),"\n",(0,i.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Single sign-on and single sign-out"}),"\n",(0,i.jsx)(n.li,{children:"Standard protocols - OAuth 2.0, OIDC 1.0, SAML 2.0"}),"\n",(0,i.jsx)(n.li,{children:"Flexible Authentication and Authorization"}),"\n",(0,i.jsx)(n.li,{children:"Multi-Factor Authentication - One-time Passwords"}),"\n",(0,i.jsx)(n.li,{children:"Social Login - Google, Facebook, Twitter,..."}),"\n",(0,i.jsx)(n.li,{children:"Provides centralized User Management"}),"\n",(0,i.jsx)(n.li,{children:"Supports Directory Services"}),"\n",(0,i.jsx)(n.li,{children:"Customizable and Extensible"}),"\n",(0,i.jsx)(n.li,{children:"Easy setup and integration"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image",src:s(976875).Z+"",width:"1102",height:"729"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image",src:s(546910).Z+"",width:"1328",height:"738"})}),"\n",(0,i.jsx)(n.h2,{id:"single-sign-on",children:"Single sign-on"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"SSO - Login once to access all applications"}),"\n",(0,i.jsxs)(n.li,{children:["Standardized Protocols","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"OpenID Connect 1.0 (OIDC)"}),"\n",(0,i.jsx)(n.li,{children:"Security Assertion Markup Language 2.0 (SAML)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Browser based Web SSO","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Web, Mobile and Desktop Apps"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Support for single logout","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Logouts can be propagated to applications"}),"\n",(0,i.jsx)(n.li,{children:"Applications can opt-in"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image",src:s(721935).Z+"",width:"1486",height:"739"})}),"\n",(0,i.jsx)(n.h2,{id:"keycloak-tokens",children:"Keycloak Tokens"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"OAuth / OpenID Connect"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Signed self-contained ",(0,i.jsx)(n.strong,{children:"JSON Web Token"})]}),"\n",(0,i.jsx)(n.li,{children:"Claims: KV-Pairs with user information + Metadata"}),"\n",(0,i.jsxs)(n.li,{children:["Issued by Keycloak, ",(0,i.jsx)(n.strong,{children:"signed"})," with Realm ",(0,i.jsx)(n.strong,{children:"Private Key"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Verified"})," with Realm ",(0,i.jsx)(n.strong,{children:"Public Key"})]}),"\n",(0,i.jsx)(n.li,{children:"Limited lifespan, can be revoked"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Essential Token Types"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Access-Token"})," short-lived (Minutes+) -> used for ",(0,i.jsx)(n.strong,{children:"accessing Resources"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Refresh-Token"})," longer-lived (Hours+) -> used for ",(0,i.jsx)(n.strong,{children:"requesting new Tokens"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"IDToken"})," -> contains ",(0,i.jsx)(n.strong,{children:"User information (OIDC)"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Offline-Token"}),' long-lived (Days++) "Refresh-Token" that "never" expires']}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image",src:s(385580).Z+"",width:"1099",height:"575"})}),"\n",(0,i.jsx)(n.h2,{id:"keycloak-integration-options",children:"Keycloak Integration Options"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"OpenID Connect Keycloak Adapters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Spring security, Spring boot, ServletFilter, Tomcat, Jetty, Undertow, Wildfly, JBoss, EAP,..."}),"\n",(0,i.jsx)(n.li,{children:"NodeJS, JavaScript, Angular, AngularJS, Aurelia, CLI & Desktop Apps..."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SAML Keycloak Adapters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ServletFilter, Tomcat, Jetty, Wildfly..."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Reverse Proxies"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Keycloak Gatekeeper, dedicated Proxy, written in Go, injects auth info into HTTP headers"}),"\n",(0,i.jsx)(n.li,{children:"Apache mod_auth_oidc for OpenID connect"}),"\n",(0,i.jsx)(n.li,{children:"Apache mod_auth_mellon for SAML"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image",src:s(442009).Z+"",width:"1290",height:"715"})}),"\n",(0,i.jsxs)(n.p,{children:["Python - ",(0,i.jsx)(n.a,{href:"https://github.com/marcospereirampj/python-keycloak",children:"https://github.com/marcospereirampj/python-keycloak"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/chunky-monkeys/keycloak-client",children:"https://github.com/chunky-monkeys/keycloak-client"})}),"\n",(0,i.jsxs)(n.p,{children:["Django integration - ",(0,i.jsx)(n.a,{href:"https://medium.com/@sairamkrish/keycloak-integration-part-3-integration-with-python-django-backend-5dac3b4a8e4e",children:"https://medium.com/@sairamkrish/keycloak-integration-part-3-integration-with-python-django-backend-5dac3b4a8e4e"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/keycloak/keycloak",children:"https://github.com/keycloak/keycloak"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/keycloak/keycloak-quickstarts",children:"https://github.com/keycloak/keycloak-quickstarts"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/thomasdarimont/keycloak-extension-playground",children:"https://github.com/thomasdarimont/keycloak-extension-playground"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.keycloak.org/docs/latest/getting_started",children:"https://www.keycloak.org/docs/latest/getting_started"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.keycloak.org/docs/latest/authorization_services",children:"https://www.keycloak.org/docs/latest/authorization_services"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.openshift.com/blog/adding-authentication-to-your-kubernetes-web-applications-with-keycloak",children:"https://www.openshift.com/blog/adding-authentication-to-your-kubernetes-web-applications-with-keycloak"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://stackoverflow.com/questions/42186537/resources-scopes-permissions-and-policies-in-keycloak",children:"https://stackoverflow.com/questions/42186537/resources-scopes-permissions-and-policies-in-keycloak"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.youtube.com/watch?v=FyVHNJNriUQ",children:"How to secure your Microservices with Keycloak - Thomas Darimont"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.youtube.com/watch?v=RupQWmYhrLA",children:"Bilding an effective identity and access management architecture with Keycloak"})})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},976875:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/DevOps-Others-KeyCloak-image1-48ea9976a3c4cefed66dec585937ebe4.jpg"},546910:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/DevOps-Others-KeyCloak-image2-4ee1fecc2cd1f1c773255d3932625fff.jpg"},721935:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/DevOps-Others-KeyCloak-image3-8c529cd710fc64a60eb99fe33b311148.jpg"},385580:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/DevOps-Others-KeyCloak-image4-8efbed1ead843f2a1ae3c83f91c032af.jpg"},442009:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/DevOps-Others-KeyCloak-image5-4a42cdb0bf40cccc6fa6eea35a18f9e8.jpg"},511151:(e,n,s)=>{s.d(n,{Z:()=>l,a:()=>r});var i=s(667294);const t={},o=i.createContext(t);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);