"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[3747],{588235:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"computer-science/testing/iperf3-testing","title":"iperf3 Testing","description":"iperf (Network throughput)","source":"@site/docs/computer-science/testing/iperf3-testing.md","sourceDirName":"computer-science/testing","slug":"/computer-science/testing/iperf3-testing","permalink":"/computer-science/testing/iperf3-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/computer-science/testing/iperf3-testing.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1701793554000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Intro","permalink":"/computer-science/testing/intro"},"next":{"title":"Load / Performance Testing / QA Tools","permalink":"/computer-science/testing/load-performance-testing-qa-tools"}}');var r=s(474848),i=s(28453);const o={},a="iperf3 Testing",c={},d=[{value:"iperf (Network throughput)",id:"iperf-network-throughput",level:2},{value:"Commands",id:"commands",level:2},{value:"Retr",id:"retr",level:2},{value:"Test",id:"test",level:2}];function p(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"iperf3-testing",children:"iperf3 Testing"})}),"\n",(0,r.jsx)(t.h2,{id:"iperf-network-throughput",children:"iperf (Network throughput)"}),"\n",(0,r.jsxs)(t.p,{children:["iPerf is a widely used tool for network performance measurement and tuning. It is significant as a cross-platform tool that can produce standardized performance measurements for any network. Iperf has ",(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Client_(computing)",children:"client"})," and ",(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Server_(computing)",children:"server"})," functionality, and can create data streams to measure the throughput between the two ends in one or both directions. Typical Iperf output contains a time-stamped report of the amount of data transferred and the throughput measured."]}),"\n",(0,r.jsxs)(t.p,{children:["The data streams can be either ",(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Transmission_Control_Protocol",children:"Transmission Control Protocol"}),"(TCP) or ",(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/User_Datagram_Protocol",children:"User Datagram Protocol"}),"(UDP):"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["UDP: When used for testing UDP capacity, Iperf allows the user to specify the ",(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Datagram#Packets_vs._datagrams",children:"datagram"})," size and provides results for the datagram throughput and the ",(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Packet_(information_technology)",children:"packet"})," loss."]}),"\n",(0,r.jsxs)(t.li,{children:["TCP: When used for testing TCP capacity, Iperf measures the throughput of the payload. Iperf uses 1024 \xd7 1024 for ",(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Mebibyte",children:"mebibytes"})," and 1000 \xd7 1000 for ",(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Megabyte",children:"megabytes"}),"."]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"iperf is a tool for active measurements of the maximum achievable bandwidth on IP networks. It supports tuning of various parameters related to timing, protocols, and buffers. For each test it reports the measured throughput / bitrate, loss, and other parameters."}),"\n",(0,r.jsx)(t.p,{children:"This version, sometimes referred to as iperf3, is a redesign of an original version developed at NLANR/DAST. iperf3 is a new implementation from scratch, with the goal of a smaller, simpler code base, and a library version of the functionality that can be used in other programs. iperf3 also has a number of features found in other tools such as nuttcp and netperf, but were missing from the original iperf. These include, for example, a zero-copy mode and optional JSON output. Note that iperf3 is not backwards compatible with the original iperf."}),"\n",(0,r.jsx)(t.h2,{id:"commands",children:"Commands"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"brew install iperf3\nsudo apt-get install iperf3\n\n# server\niperf3 -s -p 5002\n\n# client\niperf3 -c localhost -p 5002\n\n# Verbose, debug\niperf3 -V -d -s -p 5002\n\n#The number of simultaneous connections to make to the server. Default is 1.\niperf3 -V -d -s -p 5002 -P 10\n\n#Run in reverse mode (server sends, client receives).\niperf3 -V -d -s -p 5002 -P 10 -R\n"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Iperf",children:"https://en.wikipedia.org/wiki/Iperf"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://github.com/esnet/iperf",children:"https://github.com/esnet/iperf"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://iperf.fr/iperf-doc.php",children:"https://iperf.fr/iperf-doc.php"})}),"\n",(0,r.jsx)(t.h2,{id:"retr",children:"Retr"}),"\n",(0,r.jsx)(t.p,{children:"It's the number of TCP segments retransmitted. This can happen if TCP segments are lost in the network due to congestion or corruption."}),"\n",(0,r.jsx)(t.h2,{id:"test",children:"Test"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"# Localhost in laptop\n[  7]   0.00-10.00  sec  56.7 GBytes  48.7 Gbits/sec                  sender\n[  7]   0.00-10.00  sec  56.7 GBytes  48.7 Gbits/sec                  receiver\n\n# API-v1 -> API-v1 localhost\n[  5]   0.00-10.00  sec  38.3 GBytes  32.9 Gbits/sec    0             sender\n[  5]   0.00-10.04  sec  38.3 GBytes  32.8 Gbits/sec                  receiver\n\n[  5]   0.00-10.00  sec  38.0 GBytes  32.7 Gbits/sec    0             sender\n[  5]   0.00-10.04  sec  38.0 GBytes  32.5 Gbits/sec                  receiver\n\n# API-v2 -> API-v1 using pod container ip (in same node)\n[  5]   0.00-10.00  sec  27.7 GBytes  23.8 Gbits/sec   29             sender\n[  5]   0.00-10.04  sec  27.7 GBytes  23.7 Gbits/sec                  receiver\n\n[ ID] Interval           Transfer     Bitrate         Retr\n[  5]   0.00-10.00  sec  27.2 GBytes  23.4 Gbits/sec   31             sender\n[  5]   0.00-10.04  sec  27.2 GBytes  23.3 Gbits/sec                  receiver\n\n[ ID] Interval           Transfer     Bitrate         Retr\n[  5]   0.00-10.00  sec  27.2 GBytes  23.4 Gbits/sec  525             sender\n[  5]   0.00-10.04  sec  27.2 GBytes  23.3 Gbits/sec                  receiver\n\n[ ID] Interval           Transfer     Bitrate         Retr\n[  5]   0.00-10.00  sec  27.1 GBytes  23.3 Gbits/sec  189             sender\n[  5]   0.00-10.05  sec  27.1 GBytes  23.2 Gbits/sec                  receiver\n\n# test -> API-v1 using pod container ip (in different nodes)\n[ ID] Interval           Transfer     Bitrate         Retr\n[  5]   0.00-10.00  sec  5.71 GBytes  4.90 Gbits/sec  223             sender\n[  5]   0.00-10.04  sec  5.70 GBytes  4.88 Gbits/sec                  receiver\n\n[ ID] Interval           Transfer     Bitrate         Retr\n[  5]   0.00-10.00  sec  5.77 GBytes  4.96 Gbits/sec  233             sender\n[  5]   0.00-10.04  sec  5.77 GBytes  4.94 Gbits/sec                  receiver\n\n[ ID] Interval           Transfer     Bitrate         Retr\n[  5]   0.00-10.00  sec  5.77 GBytes  4.95 Gbits/sec  121             sender\n[  5]   0.00-10.04  sec  5.76 GBytes  4.93 Gbits/sec                  receiver\n\n# API-v2, API-v1 (localhost) (in same node), test (in different node) -> API-v1 using pod container ip\n# can't be done via iperf3\n\n# API-v1 -> test (different nodes)\n[  5]   0.00-10.00  sec  5.77 GBytes  4.95 Gbits/sec  189             sender\n[  5]   0.00-10.04  sec  5.76 GBytes  4.93 Gbits/sec                  receiver\n\n# API-v1 -> svc test (ip) -> test pod (different nodes)\n[  5]   0.00-10.00  sec  5.77 GBytes  4.95 Gbits/sec  108             sender\n[  5]   0.00-10.04  sec  5.76 GBytes  4.93 Gbits/sec                  receiver\n\n[  5]   0.00-10.00  sec  5.72 GBytes  4.92 Gbits/sec  393             sender\n[  5]   0.00-10.04  sec  5.72 GBytes  4.90 Gbits/sec                  receiver\n\n# API-v1 -> svc test (dns) -> test pod (different nodes)\n[  5]   0.00-10.00  sec  5.78 GBytes  4.97 Gbits/sec   83             sender\n[  5]   0.00-10.04  sec  5.78 GBytes  4.95 Gbits/sec                  receiver\n\n[  5]   0.00-10.00  sec  5.74 GBytes  4.93 Gbits/sec  284             sender\n[  5]   0.00-10.04  sec  5.74 GBytes  4.91 Gbits/sec                  receiver\n\n# 20 parallel connections\n[SUM]   0.00-10.00  sec  11.7 GBytes  10.0 Gbits/sec  1886             sender\n[SUM]   0.00-10.01  sec  11.7 GBytes  10.0 Gbits/sec                  receiver\n\n# 30 parallel connections\n[SUM]   0.00-10.00  sec  11.7 GBytes  10.1 Gbits/sec  10305             sender\n[SUM]   0.00-10.01  sec  11.7 GBytes  10.0 Gbits/sec                  receiver\n"})})]})}function l(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>a});var n=s(296540);const r={},i=n.createContext(r);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);