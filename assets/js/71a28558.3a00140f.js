"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[50940],{608876:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"python/others/flask/readme","title":"Flask","description":"Flask is a micro web framework written in Python and based on the Werkzeug toolkit and Jinja2 template engine.","source":"@site/docs/python/others/flask/readme.md","sourceDirName":"python/others/flask","slug":"/python/others/flask/","permalink":"/python/others/flask/","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/python/others/flask/readme.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1744133509000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Internal working","permalink":"/python/others/fastapi/internal-working"},"next":{"title":"Documentation","permalink":"/python/others/flask/documentation"}}');var r=n(474848),a=n(28453);const i={},l="Flask",o={},c=[{value:"Features",id:"features",level:2},{value:"Request",id:"request",level:2},{value:"Examples",id:"examples",level:2},{value:"Serving",id:"serving",level:2},{value:"Requirements.txt",id:"requirementstxt",level:2},{value:"Flask",id:"flask-1",level:2},{value:"Debugging",id:"debugging",level:2},{value:"Flask Extensions / Libraries / Plugins",id:"flask-extensions--libraries--plugins",level:2},{value:"Rest Libraries",id:"rest-libraries",level:3},{value:"Security / Auth",id:"security--auth",level:3},{value:"Databases",id:"databases",level:3},{value:"Flask Click",id:"flask-click",level:3},{value:"Commands",id:"commands",level:4},{value:"File structure",id:"file-structure",level:2},{value:"Coding Snippets",id:"coding-snippets",level:2},{value:"Resources",id:"resources",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"flask",children:"Flask"})}),"\n",(0,r.jsx)(s.p,{children:"Flask is a micro web framework written in Python and based on the Werkzeug toolkit and Jinja2 template engine."}),"\n",(0,r.jsx)(s.p,{children:"Flask is classified as a microframework because it does not require particular tools or libraries. It has no database abstraction layer, form validation. Flask supports extensions that can add application features as if they were implemented in Flask itself."}),"\n",(0,r.jsx)(s.h2,{id:"features",children:"Features"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Contains development server and debugger"}),"\n",(0,r.jsx)(s.li,{children:"Integrated support for unit testing"}),"\n",(0,r.jsx)(s.li,{children:"RESTful request dispatching"}),"\n",(0,r.jsx)(s.li,{children:"Uses Jinja2 templating"}),"\n",(0,r.jsx)(s.li,{children:"Support for secure cookies"}),"\n",(0,r.jsx)(s.li,{children:"100% WSGI 1.0 compliant"}),"\n",(0,r.jsx)(s.li,{children:"Unicode-based"}),"\n",(0,r.jsx)(s.li,{children:"Google App Engine compatibility"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://stxnext.com/blog/2018/09/27/beginners-introduction-python-frameworks",children:"https://stxnext.com/blog/2018/09/27/beginners-introduction-python-frameworks"})}),"\n",(0,r.jsx)(s.h2,{id:"request",children:"Request"}),"\n",(0,r.jsx)(s.p,{children:"request.dataContains the incoming request data as string in case it came with a mimetype Flask does not handle."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://flask.palletsprojects.com/api/#flask.Request.args",children:"request.args"}),": the key/value pairs in the URL query string"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://flask.palletsprojects.com/api/#flask.Request.form",children:"request.form"}),": the key/value pairs in the body, from a HTML post form, or JavaScript request that isn't JSON encoded"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://flask.palletsprojects.com/api/#flask.Request.files",children:"request.files"}),": the files in the body, which Flask keeps separate fromform. HTML forms must useenctype=multipart/form-dataor files will not be uploaded."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://flask.palletsprojects.com/api/#flask.Request.values",children:"request.values"}),": combinedargsandform, preferringargsif keys overlap"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://flask.palletsprojects.com/api/#flask.Request.json",children:"request.json"}),": parsed JSON data. The request must have theapplication/jsoncontent type, or use",(0,r.jsx)(s.a,{href:"https://flask.palletsprojects.com/api/#flask.Request.get_json",children:"request.get_json(force=True)"})," to ignore the content type."]}),"\n",(0,r.jsx)(s.li,{children:"request.data"}),"\n",(0,r.jsxs)(s.li,{children:["request.",(0,r.jsx)(s.strong,{children:"dict"})," (type - dict)"]}),"\n",(0,r.jsx)(s.li,{children:"request.headers (type - dict)"}),"\n",(0,r.jsx)(s.li,{children:"request.headers.get('device_id')"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["All of these are",(0,r.jsx)(s.a,{href:"https://werkzeug.palletsprojects.com/datastructures/#werkzeug.datastructures.MultiDict",children:"MultiDict"})," instances (except forjson). You can access values using:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"request.form['name']: use indexing if you know the key exists"}),"\n",(0,r.jsx)(s.li,{children:"request.form.get('name'): usegetif the key might not exist"}),"\n",(0,r.jsx)(s.li,{children:"request.form.getlist('name'): usegetlistif the key is sent multiple times and you want a list of values.getonly returns the first value."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://stackoverflow.com/questions/10434599/get-the-data-received-in-a-flask-request",children:"https://stackoverflow.com/questions/10434599/get-the-data-received-in-a-flask-request"})}),"\n",(0,r.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://gist.github.com/deepaksood619/99e790959f5eba6ba0815e056a8067d7",children:"https://gist.github.com/deepaksood619/99e790959f5eba6ba0815e056a8067d7"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:' import logging\n import os\n import traceback\n from logging.config import dictConfig\n\n import sentry_sdk\n from sentry_sdk.integrations.flask import FlaskIntegration\n sentry_sdk.init(\n  dsn=SENTRY_DSN,\n  integrations=[FlaskIntegration()],\n  attach_stacktrace=True,\n  environment=ENVIRONMENT,\n )\n\n from flask import Flask, make_response, request, abort, jsonify, redirect, url_for\n\n # logging settings\n debug = eval(os.environ.get(\'DEBUG\', \'False\'))\n\n # for sending error logs to slack\n class HTTPSlackHandler(logging.Handler):\n     def emit(self, record):\n         log_entry = self.format(record)\n         json_text = json.dumps({"text": log_entry})\n         url = \'https://hooks.slack.com/services/<org_id>/<api_key>\'\n         return requests.post(url, json_text, headers={"Content-type": "application/json"}).content\n\n dictConfig({\n     "version": 1,\n     "disable_existing_loggers": True,\n     "formatters": {\n         "default": {\n             "format": "[%(asctime)s] %(levelname)s in %(module)s: %(message)s",\n         },\n         "access": {\n             "format": "%(message)s",\n         }\n     },\n     "handlers": {\n         "console": {\n             "level": "INFO",\n             "class": "logging.StreamHandler",\n             "formatter": "default",\n             "stream": "ext://sys.stdout",\n         },\n         "email": {\n             "class": "logging.handlers.SMTPHandler",\n             "formatter": "default",\n             "level": "ERROR",\n             "mailhost": ("smtp.example.com", 587),\n             "fromaddr": "devops@example.com",\n             "toaddrs": ["receiver@example.com", "receiver2@example.com"],\n             "subject": "Error Logs",\n             "credentials": ("username", "password"),\n         },\n         "slack": {\n             "class": "app.HTTPSlackHandler",\n             "formatter": "default",\n             "level": "ERROR",\n         },\n         "error_file": {\n             "class": "logging.handlers.RotatingFileHandler",\n             "formatter": "default",\n             "filename": "/var/log/gunicorn.error.log",\n             "maxBytes": 10000,\n             "backupCount": 10,\n             "delay": "True",\n         },\n         "access_file": {\n             "class": "logging.handlers.RotatingFileHandler",\n             "formatter": "access",\n             "filename": "/var/log/gunicorn.access.log",\n             "maxBytes": 10000,\n             "backupCount": 10,\n             "delay": "True",\n         }\n     },\n     "loggers": {\n         "gunicorn.error": {\n             "handlers": ["console"] if debug else ["console", "slack", "error_file"],\n             "level": "INFO",\n             "propagate": False,\n         },\n         "gunicorn.access": {\n             "handlers": ["console"] if debug else ["console", "access_file"],\n             "level": "INFO",\n             "propagate": False,\n         }\n     },\n     "root": {\n         "level": "DEBUG" if debug else "INFO",\n         "handlers": ["console"] if debug else ["console", "slack"],\n     }\n })\n\n app = Flask(__name__)\n\n logging.warning(\'application started\')\n\n @app.errorhandler(404)\n def resource_not_found(exception):\n """Returns exceptions as part of a json."""\n  return jsonify(error=str(exception)), 404\n\n @app.route("/get_result")\n def get_result():\n     """Takes a job_id and returns the job\'s result."""\n     job_id = request.args["job_id"]\n\n     try:\n         job = Job.fetch(job_id, connection=redis_conn)\n     except Exception as exception:\n         abort(404, description=exception)\n\n     if not job.result:\n         abort(\n             404,\n             description=f"No result found for job_id {job.id}. Try checking the job\'s status.",\n         )\n     return jsonify(job.result)\n\n @app.route(\'/add/<customer>\', methods=["POST"])\n def save_data(customer):\n     try:\n   logging.info(f\'request.data: {request.data}\')\n   logging.info(f\'request.args: {request.args}\')\n   logging.info(f\'request.form: {request.form}\')\n   logging.info(f\'request.files: {request.files}\')\n   logging.info(f\'request.values: {request.values}\')\n   logging.info(f\'request.json: {request.json}\')\n   logging.info(f\'request.headers: {request.headers}\')\n   logging.info(f\'request.__dict__: {request.__dict__}\')\n   request.method # request type\n   request.cookies.get(\'cookie_name\') #cookies\n\n         if payload:\n             logging.info(f\'payload: {payload}\')\n\n             return make_response(\'OK\', 200)\n         else:\n             return make_response(\'Payload Empty\', 400)\n     except Exception as e:\n      logging.error(traceback.format_exc())\n\n     return make_response(\'FAIL\', 500)\n\n @app.route(\'/status\', methods=["GET"])\n def health_check():\n     return jsonify(success="OK"), 200\n\n @app.route(\'/score\', method=["GET"])\n def score():\n     cust_id = request.args(\'cust_id\')\n\n     if not cust_id:\n         return make_response(\'Pass cust_id\', 400)\n\n @app.route(\'/redirect\')\n def redirect_example():\n  return redirect(url_for(\'home\')) @ sends user to /home\n\n #set cookie\n @app.route(\'/\')\n def index():\n  resp = make_response(render_template(\'index.html\'))\n  resp.set_cookie(\'cookie_name\', \'cookie_value\')\n  return resp\n\n #session handling\n  import session\n  app.config[\'SECRET_KEY\'] = \'any random string\' #must be set to use sessions\n\n  #set session\n  @app.route(\'/login_success\')\n  def login_success():\n   session[\'key_name\'] = \'key_value\' #stores a secure cookie in browser\n   return redirect(url_for(\'index\'))\n\n  #read session\n  @app.route(\'/\')\n  def index():\n   if \'key_name\' in session: #session exists and has key\n    session_var = session[\'key_value\']\n   else:\n    #session does not exist\n\n @app.before_first_request\ndef _run_on_start(a_string):\n    print "doing something important with %s" % a_string\n\n app.add_url_rule("/userdevicesms", "userdevicesms", user_device_sms, methods=["POST"])\n app.add_url_rule("/score", "score", score, methods=["GET"])\n\n if __name__ == \'__main__\':\n     app.run(host=\'0.0.0.0\', port=\'5000\')\n'})}),"\n",(0,r.jsx)(s.h2,{id:"serving",children:"Serving"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"gunicorn kafka_flask_republisher:app -b 0.0.0.0:5000 --workers 2 -k gevent --timeout 300 --worker-connections 1000 --max-requests 1000000 --log-level info --limit-request-line 8190 --access-logfile -\n\n# running\npython app.py\n"})}),"\n",(0,r.jsx)(s.h2,{id:"requirementstxt",children:"Requirements.txt"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-txt",children:"Flask==1.1.1\ngunicorn[gevent]==19.9.0\n"})}),"\n",(0,r.jsx)(s.h2,{id:"flask-1",children:"Flask"}),"\n",(0,r.jsx)(s.p,{children:"Theurl_for()function is very useful for dynamically building a URL for a specific function. The function accepts the name of a function as first argument, and one or more keyword arguments, each corresponding to the variable part of URL."}),"\n",(0,r.jsx)(s.p,{children:"'web templating system'refers to designing an HTML script in which the variable data can be inserted dynamically. A web template system comprises of a template engine, some kind of data source and a template processor."}),"\n",(0,r.jsx)(s.p,{children:"to_python()is used to convert the path in the URL to a Python object that will be passed to the view andto_url()is used byurl_for()to convert arguments to their appropriate forms in the URL."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://www.tutorialspoint.com/flask",children:"https://www.tutorialspoint.com/flask"})}),"\n",(0,r.jsx)(s.h2,{id:"debugging",children:"Debugging"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://blog.theodo.com/2020/05/debug-flask-vscode",children:"https://blog.theodo.com/2020/05/debug-flask-vscode"})}),"\n",(0,r.jsx)(s.h2,{id:"flask-extensions--libraries--plugins",children:"Flask Extensions / Libraries / Plugins"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Flask-admin - ",(0,r.jsx)(s.a,{href:"https://flask-admin.readthedocs.io/en/latest",children:"https://flask-admin.readthedocs.io/en/latest"})]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-blueprint - ",(0,r.jsx)(s.a,{href:"https://flask.palletsprojects.com/en/1.1.x/blueprints",children:"Modular Applications with Blueprints \u2014 Flask Documentation (3.1.x)"})," ",(0,r.jsx)(s.a,{href:"https://realpython.com/flask-blueprint",children:"Use a Flask Blueprint to Architect Your Applications \u2013 Real Python"})]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-mail - ",(0,r.jsx)(s.a,{href:"https://pythonhosted.org/Flask-Mail",children:"https://pythonhosted.org/Flask-Mail"})]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-principal - ",(0,r.jsx)(s.a,{href:"https://pythonhosted.org/Flask-Principal",children:"https://pythonhosted.org/Flask-Principal"})]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-sslify - ",(0,r.jsx)(s.a,{href:"https://github.com/kennethreitz-archive/flask-sslify",children:"https://github.com/kennethreitz-archive/flask-sslify"})]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-Uploads - ",(0,r.jsx)(s.a,{href:"https://github.com/maxcountryman/flask-uploads",children:"https://github.com/maxcountryman/flask-uploads"})]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"rest-libraries",children:"Rest Libraries"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Flask-Restful - ",(0,r.jsx)(s.a,{href:"https://github.com/flask-restful/flask-restful",children:"https://github.com/flask-restful/flask-restful"})]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-restplus (DEAD) - ",(0,r.jsx)(s.a,{href:"https://flask-restplus.readthedocs.io/en/stable",children:"https://flask-restplus.readthedocs.io/en/stable"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://medium.com/@preslavrachev/designing-well-structured-rest-apis-with-flask-restplus-part-1-7e96f2da8850",children:"https://medium.com/@preslavrachev/designing-well-structured-rest-apis-with-flask-restplus-part-1-7e96f2da8850"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-Marshmallow - ",(0,r.jsx)(s.a,{href:"https://flask-marshmallow.readthedocs.io/en/latest",children:"https://flask-marshmallow.readthedocs.io/en/latest"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://www.youtube.com/watch?v=Gl-5m1_eVjI",children:"Intro to Marshmallow: A Python Object Serialization Library - YouTube"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-WTF - ",(0,r.jsx)(s.a,{href:"https://flask-wtf.readthedocs.io/en/stable",children:"https://flask-wtf.readthedocs.io/en/stable"})]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"security--auth",children:"Security / Auth"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Flask-security - ",(0,r.jsx)(s.a,{href:"https://pythonhosted.org/Flask-Security",children:"https://pythonhosted.org/Flask-Security"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Flask-Security allows you to quickly add common security mechanisms to your Flask application."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-login - ",(0,r.jsx)(s.a,{href:"https://flask-login.readthedocs.io/en/latest",children:"https://flask-login.readthedocs.io/en/latest"}),"\n2. ",(0,r.jsx)(s.a,{href:"https://github.com/maxcountryman/flask-login",children:"https://github.com/maxcountryman/flask-login"})]}),"\n",(0,r.jsxs)(s.li,{children:["Flask Praetorian - ",(0,r.jsx)(s.a,{href:"https://flask-praetorian.readthedocs.io/en/latest",children:"https://flask-praetorian.readthedocs.io/en/latest"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"This extension offers a batteries-included approach to security for your API."}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://www.youtube.com/watch?v=WubG9iKXZ2g",children:"Flask-Praetorian Walkthrough: A Library for API Security With JSON Web Tokens (JWT) - YouTube"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-User - ",(0,r.jsx)(s.a,{href:"https://github.com/lingthio/Flask-User",children:"https://github.com/lingthio/Flask-User"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://flask-oidc.readthedocs.io/en/latest/",children:"https://flask-oidc.readthedocs.io/en/latest/"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"databases",children:"Databases"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Flask-SQLAlchemy - ",(0,r.jsx)(s.a,{href:"https://github.com/pallets/flask-sqlalchemy",children:"https://github.com/pallets/flask-sqlalchemy"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://towardsdatascience.com/use-flask-and-sqlalchemy-not-flask-sqlalchemy-5a64fafe22a4",children:"https://towardsdatascience.com/use-flask-and-sqlalchemy-not-flask-sqlalchemy-5a64fafe22a4"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["geo-alchemy2 - ",(0,r.jsx)(s.a,{href:"https://geoalchemy-2.readthedocs.io/en/latest",children:"https://geoalchemy-2.readthedocs.io/en/latest"})]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-PyMongo - ",(0,r.jsx)(s.a,{href:"https://github.com/dcrosta/flask-pymongo",children:"https://github.com/dcrosta/flask-pymongo"})]}),"\n",(0,r.jsxs)(s.li,{children:["Flask-Caching - ",(0,r.jsx)(s.a,{href:"https://flask-caching.readthedocs.io/en/latest",children:"https://flask-caching.readthedocs.io/en/latest"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://www.youtube.com/watch?v=iO0sL6Vyfps",children:"Intro to Flask-Caching - YouTube"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://www.youtube.com/c/PrettyPrintedTutorials/playlists",children:"Pretty Printed - YouTube"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"flask-click",children:"Flask Click"}),"\n",(0,r.jsx)(s.p,{children:"Click is a Python package for creating beautiful command line interfaces in a composable way with as little code as necessary. It's the \"Command Line Interface Creation Kit\". It's highly configurable but comes with sensible defaults out of the box."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://click.palletsprojects.com/en/7.x",children:"https://click.palletsprojects.com/en/7.x"})}),"\n",(0,r.jsx)(s.h4,{id:"commands",children:"Commands"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"routes  Show the routes for the app\nrun       Run a development server\nshell     Run a shell in the app context\n\nexport FLASK_APP=flaskr\nexport FLASK_ENV=development\nflask init-db\nflask run\n\nflask shell\nfrom app import db\ndb.create_all()\n\nfrom app import db, Product, Order, Customer\njohndoe = Customer(first_name='John', last_name='Doe')\ndb.session.add(johndoe)\ndb.session.commit()\norder = Order(coupon_code='FREE', customer_id=1, products=[computer, phone])\njohndoe = Customer.query.filter_by(id=1).first().first_name\nCustomer.query.all()\nCustomer.query.filter_by(id=1).one().first_name\n\n# for updating a column\njohndoe.address = '456 fake street'\ndb.session.commit()\n\n# for deleting a row\ndb.session.delete(johndoe)\ndb.session.commit()\n\n# migrations\n# directly sql queries\n"})}),"\n",(0,r.jsx)(s.h2,{id:"file-structure",children:"File structure"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:" k8s/\n src/\n  app/\n   main.py\n   constants.py\n  tests/\n   data/\n   tests.py\n .dockerignore\n .flake8\n .gitignore\n .isort.cfg\n .pre-commit-config.yaml\n config.yaml\n credentials.json\n credentials_sample.json\n dev.env\n docker-compose.yaml\n Dockerfile\n Jenkinsfile\n README\n    requirements.txt\n"})}),"\n",(0,r.jsx)(s.h2,{id:"coding-snippets",children:"Coding Snippets"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:' @backoff.on_exception(\n  backoff.expo, (requests.exceptions.Timeout, requests.exceptions.ConnectionError)\n )\n def populate(destination):\n  url = f"{destination}/populate"\n  requests.get(url)\n\n if __name__ == "__main__":\n  destination = os.getenv("DESTINATION", "http://localhost:8000")\n  populate(destination)\n  while True:\n   send_requests(destination)\n   time.sleep(5)\n'})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://www.zabana.me/notes/flask-tutorial-upload-files-amazon-s3",children:"ww25.zabana.me/notes/flask-tutorial-upload-files-amazon-s3?subid1=20250409-0326-191e-8328-5f5958fc3a2c"})}),"\n",(0,r.jsx)(s.h2,{id:"resources",children:"Resources"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://www.freecodecamp.org/news/learn-the-flask-python-web-framework-by-building-a-market-platform",children:"https://www.freecodecamp.org/news/learn-the-flask-python-web-framework-by-building-a-market-platform"})})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>l});var t=n(296540);const r={},a=t.createContext(r);function i(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);