"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[32807],{339743:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>o,contentTitle:()=>d,default:()=>c,frontMatter:()=>r,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"databases/indexing/database-index","title":"Database Index","description":"A database index is a data structure that improves the speed of data retrieval operations on a database table) at the cost of additional writes and storage space to maintain the index data structure. Indexes are used to quickly locate data without having to search every row in a database table every time a database table is accessed. Indexes can be created using one or more columns of a database table), providing the basis for both rapid random lookups and efficient access of ordered records.","source":"@site/docs/databases/indexing/database-index.md","sourceDirName":"databases/indexing","slug":"/databases/indexing/database-index","permalink":"/databases/indexing/database-index","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases/indexing/database-index.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1701793554000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Indexing","permalink":"/databases/indexing/"},"next":{"title":"Heaped storage","permalink":"/databases/indexing/heaped-storage"}}');var n=t(474848),s=t(28453);const r={},d="Database Index",o={},h=[{value:"Types of indexes",id:"types-of-indexes",level:2},{value:"Bitmap index",id:"bitmap-index",level:3},{value:"Dense index",id:"dense-index",level:3},{value:"Sparse index",id:"sparse-index",level:3},{value:"Reverse index",id:"reverse-index",level:3},{value:"Partial Index",id:"partial-index",level:3},{value:"Tips",id:"tips",level:2},{value:"Index Data Structures",id:"index-data-structures",level:2},{value:"Suffix tree",id:"suffix-tree",level:3},{value:"Inverted index",id:"inverted-index",level:3},{value:"Citation index",id:"citation-index",level:3},{value:"Ngram index",id:"ngram-index",level:3},{value:"Document-term matrix",id:"document-term-matrix",level:3},{value:"Star Tree Index",id:"star-tree-index",level:3},{value:"Others",id:"others",level:2}];function l(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"database-index",children:"Database Index"})}),"\n",(0,n.jsxs)(i.p,{children:["A database index is a ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Data_structure",children:"data structure"})," that improves the speed of data retrieval operations on a ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Table_(database)",children:"database table"})," at the cost of additional writes and storage space to maintain the index data structure. Indexes are used to quickly locate data without having to search every row in a database table every time a database table is accessed. Indexes can be created using one or more ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Column_(database)",children:"columns of a database table"}),", providing the basis for both rapid random ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Lookup",children:"lookups"})," and efficient access of ordered records."]}),"\n",(0,n.jsxs)(i.p,{children:["An index is a copy of selected columns of data from a table that can be searched very efficiently that also includes a low-level disk block address or direct link to the complete row of data it was copied from. Some databases extend the power of indexing by letting developers create indexes on functions or ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Expression_(programming)",children:"expressions"}),". For example, an index could be created on upper(last_name), which would only store the upper-case versions of the last_name field in the index. Another option sometimes supported is the use of ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Partial_index",children:"partial indices"}),", where index entries are created only for those records that satisfy some conditional expression. A further aspect of flexibility is to permit indexing on ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/User-defined_function",children:"user-defined functions"}),", as well as expressions formed from an assortment of built-in functions."]}),"\n",(0,n.jsx)(i.h2,{id:"types-of-indexes",children:"Types of indexes"}),"\n",(0,n.jsx)(i.h3,{id:"bitmap-index",children:"Bitmap index"}),"\n",(0,n.jsxs)(i.p,{children:["A bitmap index is a special kind of indexing that stores the bulk of its data as ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Bit_array",children:"bit arrays"})," (bitmaps) and answers most queries by performing ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Bitwise_operation",children:"bitwise logical operations"})," on these bitmaps. The most commonly used indexes, such as ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/B%2B_tree",children:"B+ trees"}),", are most efficient if the values they index do not repeat or repeat a small number of times. In contrast, the bitmap index is designed for cases where the values of a variable repeat very frequently. For example, the sex field in a customer database usually contains at most three distinct values: male, female or unknown (not recorded). For such variables, the bitmap index can have a significant performance advantage over the commonly used trees."]}),"\n",(0,n.jsx)(i.h3,{id:"dense-index",children:"Dense index"}),"\n",(0,n.jsxs)(i.p,{children:["A dense index in ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Database",children:"databases"})," is a ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Computer_file",children:"file"})," with pairs of keys and ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Pointer_(computer_programming)",children:"pointers"})," for every ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Record_(computer_science)",children:"record"})," in the data file. Every key in this file is associated with a particular pointer toa recordin the sorted data file. In clustered indices with duplicate keys, the dense index pointsto the first recordwith that key."]}),"\n",(0,n.jsx)(i.h3,{id:"sparse-index",children:"Sparse index"}),"\n",(0,n.jsxs)(i.p,{children:["A sparse index in databases is a file with pairs of keys and pointers for every ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Block_(data_storage)",children:"block"})," in the data file. Every key in this file is associated with a particular pointerto the blockin the sorted data file. In clustered indices with duplicate keys, the sparse index pointsto the lowest search keyin each block."]}),"\n",(0,n.jsx)(i.h3,{id:"reverse-index",children:"Reverse index"}),"\n",(0,n.jsx)(i.p,{children:"A reverse-key index reverses the key value before entering it in the index. E.g., the value 24538 becomes 83542 in the index. Reversing the key value is particularly useful for indexing data such as sequence numbers, where new key values monotonically increase.\nIt is an index of keywords that stores records of documents that contain keywords in the list."}),"\n",(0,n.jsx)(i.p,{children:"Use Case - Create a complete Tweet index."}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Database_index",children:"https://en.wikipedia.org/wiki/Database_index"})}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"https://youtu.be/HinCxBt6mNY",children:"Why this query is fast"})}),"\n",(0,n.jsx)(i.h3,{id:"partial-index",children:"Partial Index"}),"\n",(0,n.jsx)(i.p,{children:"A partial index can save space by specifying which values get indexed."}),"\n",(0,n.jsx)(i.p,{children:"A partial index is an index built over a subset of a table; the subset is defined by a conditional expression (called the predicate of the partial index). The index contains entries only for those table rows that satisfy the predicate. Partial indexes are a specialized feature, but there are several situations in which they are useful."}),"\n",(0,n.jsx)(i.p,{children:"One major reason for using a partial index is to avoid indexing common values. Since a query searching for a common value (one that accounts for more than a few percent of all the table rows) will not use the index anyway, there is no point in keeping those rows in the index at all. This reduces the size of the index, which will speed up those queries that do use the index. It will also speed up many table update operations because the index does not need to be updated in all cases."}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-sql",children:"CREATE INDEX orders_completed_user_id\nON orders (user_id)\nWHERE completed IS TRUE;\n"})}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"https://www.postgresql.org/docs/12/indexes-partial.html",children:"https://www.postgresql.org/docs/12/indexes-partial.html"})}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"https://www.youtube.com/watch?v=CA2_0ZhVW2g&ab_channel=AsliEngineeringbyArpitBhayani",children:"How Instagram efficiently serves HashTags ordered by count - YouTube"})}),"\n",(0,n.jsx)(i.h2,{id:"tips",children:"Tips"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"B Tree / B+ Tree index is not good for columns with low cardinality (since it's create a full tree for the columns)"}),"\n",(0,n.jsx)(i.li,{children:"BitMap index is good for low cardinality columns"}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"index-data-structures",children:"Index Data Structures"}),"\n",(0,n.jsx)(i.p,{children:"Search engine architectures vary in the way indexing is performed and in methods of index storage to meet the various design factors."}),"\n",(0,n.jsx)(i.h3,{id:"suffix-tree",children:(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Suffix_tree",children:"Suffix tree"})}),"\n",(0,n.jsxs)(i.p,{children:["Figuratively structured like a tree, supports linear time lookup. Built by storing the suffixes of words. The suffix tree is a type of ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Trie",children:"trie"}),". Tries support ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Extendible_hashing",children:"extendible hashing"}),", which is important for search engine indexing.Used for searching for patterns in ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/DNA",children:"DNA"})," sequences and clustering. A major drawback is that storing a word in the tree may require space beyond that required to store the word itself.An alternate representation is a ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Suffix_array",children:"suffix array"}),", which is considered to require less virtual memory and supports data compression such as the ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Burrows-Wheeler_transform",children:"BWT"})," algorithm."]}),"\n",(0,n.jsx)(i.h3,{id:"inverted-index",children:(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Inverted_index",children:"Inverted index"})}),"\n",(0,n.jsxs)(i.p,{children:["Stores a list of occurrences of each atomic search criterion, typically in the form of a ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Hash_table",children:"hash table"})," or ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Binary_tree",children:"binary tree"}),"."]}),"\n",(0,n.jsx)(i.h3,{id:"citation-index",children:(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Citation_index",children:"Citation index"})}),"\n",(0,n.jsxs)(i.p,{children:["Stores citations or hyperlinks between documents to support citation analysis, a subject of ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Bibliometrics",children:"bibliometrics"}),"."]}),"\n",(0,n.jsx)(i.h3,{id:"ngram-index",children:(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/N-gram",children:"Ngram index"})}),"\n",(0,n.jsxs)(i.p,{children:["Stores sequences of length of data to support other types of retrieval or ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Text_mining",children:"text mining"}),"."]}),"\n",(0,n.jsx)(i.h3,{id:"document-term-matrix",children:(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Document-term_matrix",children:"Document-term matrix"})}),"\n",(0,n.jsxs)(i.p,{children:["Used in latent semantic analysis, stores the occurrences of words in documents in a two-dimensional ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Sparse_matrix",children:"sparse matrix"}),"."]}),"\n",(0,n.jsx)(i.h3,{id:"star-tree-index",children:"Star Tree Index"}),"\n",(0,n.jsx)(i.p,{children:"Allows us to maintain pre-aggregated values for some combination of dimensions example country and browser in below example. Incredible fast lookup."}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"image",src:t(160507).A+"",width:"997",height:"229"})}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"https://engineering.linkedin.com/blog/2019/06/star-tree-index--powering-fast-aggregations-on-pinot",children:"https://engineering.linkedin.com/blog/2019/06/star-tree-index--powering-fast-aggregations-on-pinot"})}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"https://docs.pinot.apache.org/basics/indexing/star-tree-index",children:"https://docs.pinot.apache.org/basics/indexing/star-tree-index"})}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Search_engine_indexing",children:"https://en.wikipedia.org/wiki/Search_engine_indexing"})}),"\n",(0,n.jsx)(i.h2,{id:"others",children:"Others"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"https://mastermind.dev/indexes-in-postgresql",children:"Understanding database Indexes in PostgreSQL"})})]})}function c(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},160507:(e,i,t)=>{t.d(i,{A:()=>a});const a=t.p+"assets/images/Indexing_Database-Index-image1-b43d09167b146b7f39aa0fe419608684.jpg"},28453:(e,i,t)=>{t.d(i,{R:()=>r,x:()=>d});var a=t(296540);const n={},s=a.createContext(n);function r(e){const i=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),a.createElement(s.Provider,{value:i},e.children)}}}]);