"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[76750],{86852:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"devops/terraform/commands","title":"Commands","description":"Usage: terraform [-version] [-help]  [args]","source":"@site/docs/devops/terraform/commands.md","sourceDirName":"devops/terraform","slug":"/devops/terraform/commands","permalink":"/devops/terraform/commands","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/devops/terraform/commands.md","tags":[],"version":"current","lastUpdatedBy":"Deepak Sood","lastUpdatedAt":1771485259000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Terraform","permalink":"/devops/terraform/"},"next":{"title":"Confluent Provider","permalink":"/devops/terraform/confluent-provider"}}');var t=o(474848),a=o(28453);const s={},i="Commands",l={},c=[{value:"Main commands",id:"main-commands",level:2},{value:"Workflow",id:"workflow",level:2},{value:"Global options (use these before the subcommand, if any)",id:"global-options-use-these-before-the-subcommand-if-any",level:2},{value:"All other commands",id:"all-other-commands",level:2},{value:"Terraform refresh",id:"terraform-refresh",level:3},{value:"Terraform import",id:"terraform-import",level:3},{value:"1. The\xa0<code>terraform import</code>\xa0CLI Command",id:"1-theterraform-importcli-command",level:4},{value:"2. The Declarative\xa0<code>import</code>\xa0Block (Terraform v1.5+)",id:"2-the-declarativeimportblock-terraform-v15",level:4},{value:"Examples",id:"examples",level:4}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"commands",children:"Commands"})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"Usage: terraform [-version] [-help] <command> [args]"})}),"\n",(0,t.jsx)(r.p,{children:"The available commands for execution are listed below. The primary workflow commands are given first, followed by less common or more advanced commands."}),"\n",(0,t.jsx)(r.h2,{id:"main-commands",children:"Main commands"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"brew install terraform\n\ninit          Prepare your working directory for other commands\nvalidate      Check whether the configuration is valid\nplan          Show changes required by the current configuration\napply         Create or update infrastructure\ndestroy       Destroy previously-created infrastructure\n"})}),"\n",(0,t.jsx)(r.h2,{id:"workflow",children:"Workflow"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"# basic\nterraform init\nterraform plan\nterraform apply\nterraform destroy\n\n# advanced\nterraform init\nterraform plan -out=tfplan\nterraform show tfplan\n# or to review in JSON format\nterraform show -json tfplan\n\nterraform apply tfplan\n\nterraform output resource-ids\n"})}),"\n",(0,t.jsx)(r.h2,{id:"global-options-use-these-before-the-subcommand-if-any",children:"Global options (use these before the subcommand, if any)"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:'-chdir=DIR    Switch to a different working directory before executing the\n   given subcommand.\n-help         Show this help output, or the help for a specified subcommand.\n-version      An alias for the "version" subcommand.\n'})}),"\n",(0,t.jsx)(r.h2,{id:"all-other-commands",children:"All other commands"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"console       Try Terraform expressions at an interactive command prompt\nfmt           Reformat your configuration in the standard style\nforce-unlock  Release a stuck lock on the current workspace\nget           Install or upgrade remote Terraform modules\ngraph         Generate a Graphviz graph of the steps in an operation\nimport        Associate existing infrastructure with a Terraform resource\nlogin         Obtain and save credentials for a remote host\nlogout        Remove locally-stored credentials for a remote host\nmetadata      Metadata related commands\noutput        Show output values from your root module\nproviders     Show the providers required for this configuration\nrefresh       Update the state to match remote systems\nshow          Show the current state or a saved plan\nstate         Advanced state management\ntaint         Mark a resource instance as not fully functional\ntest          Experimental support for module integration testing\nuntaint       Remove the 'tainted' state from a resource instance\nversion       Show the current Terraform version\nworkspace     Workspace management\n"})}),"\n",(0,t.jsx)(r.h3,{id:"terraform-refresh",children:"Terraform refresh"}),"\n",(0,t.jsxs)(r.p,{children:["The ",(0,t.jsx)(r.code,{children:"terraform refresh"})," command reads the current settings from all managed remote objects and updates the Terraform state to match."]}),"\n",(0,t.jsx)(r.h3,{id:"terraform-import",children:"Terraform import"}),"\n",(0,t.jsx)(r.p,{children:"Terraform supports bringing your existing infrastructure under its management. By importing resources into Terraform, you can consistently manage your infrastructure using a common workflow."}),"\n",(0,t.jsxs)(r.h4,{id:"1-theterraform-importcli-command",children:["1. The\xa0",(0,t.jsx)(r.code,{children:"terraform import"}),"\xa0CLI Command"]}),"\n",(0,t.jsx)(r.p,{children:"This is the traditional method, available in all Terraform versions."}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Process:"}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:["Manually write a resource block in your\xa0",(0,t.jsx)(r.code,{children:".tf"}),"\xa0configuration file that represents the existing resource."]}),"\n",(0,t.jsx)(r.li,{children:"Identify the unique, provider-specific ID of the resource from your cloud provider's console or CLI."}),"\n",(0,t.jsxs)(r.li,{children:["Run the command using the syntax:\xa0",(0,t.jsx)(r.code,{children:"terraform import [options] ADDRESS ID"}),". The\xa0",(0,t.jsx)(r.code,{children:"ADDRESS"}),"\xa0is the resource path in your configuration (e.g.,\xa0",(0,t.jsx)(r.code,{children:"aws_instance.example"}),"), and\xa0",(0,t.jsx)(r.code,{children:"ID"}),"\xa0is the cloud provider's resource ID (e.g.,\xa0",(0,t.jsx)(r.code,{children:"i-abcd1234"}),")."]}),"\n",(0,t.jsxs)(r.li,{children:["Run\xa0",(0,t.jsx)(r.code,{children:"terraform plan"}),"\xa0to verify that no unintended changes will be applied, then run\xa0",(0,t.jsx)(r.code,{children:"terraform apply"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Limitation:"}),"\xa0This method only updates the Terraform state file; it does not automatically generate the HCL configuration code for you. You must write the configuration manually beforehand."]}),"\n"]}),"\n",(0,t.jsxs)(r.h4,{id:"2-the-declarativeimportblock-terraform-v15",children:["2. The Declarative\xa0",(0,t.jsx)(r.code,{children:"import"}),"\xa0Block (Terraform v1.5+)"]}),"\n",(0,t.jsx)(r.p,{children:"This approach is more automated, predictable, and suitable for CI/CD pipelines."}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Process:"}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:["Define an\xa0",(0,t.jsx)(r.code,{children:"import"}),"\xa0block in your configuration file (e.g.,\xa0",(0,t.jsx)(r.code,{children:"imports.tf"}),") with the destination resource address (",(0,t.jsx)(r.code,{children:"to"}),") and the provider-specific resource ID (",(0,t.jsx)(r.code,{children:"id"}),")."]}),"\n",(0,t.jsxs)(r.li,{children:["Optionally, you can run\xa0",(0,t.jsx)(r.code,{children:"terraform plan -generate-config-out=generated.tf"}),"\xa0to have Terraform automatically generate the matching HCL code in a specified file."]}),"\n",(0,t.jsxs)(r.li,{children:["Run\xa0",(0,t.jsx)(r.code,{children:"terraform apply"}),"\xa0to perform the import and add the resource to your state file."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Advantage:"}),"\xa0This method allows for importing multiple resources at once and enables you to preview the import operation during the\xa0",(0,t.jsx)(r.code,{children:"plan"}),"\xa0phase."]}),"\n"]}),"\n",(0,t.jsx)(r.h4,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"terraform plan -generate-config-out=generated.tf\n\nterraform import aws_instance.example i-abcd1234\n\n# Example: Import into Module\nterraform import module.foo.aws_instance.bar i-abcd1234\n"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"https://developer.hashicorp.com/terraform/cli/import",children:"Import existing infrastructure resources | Terraform | HashiCorp Developer"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"https://developer.hashicorp.com/terraform/cli/commands/import",children:"terraform import command reference | Terraform | HashiCorp Developer"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"https://developer.hashicorp.com/terraform/tutorials/state/state-import",children:"Import Terraform configuration | Terraform | HashiCorp Developer"})}),"\n"]})]})}function m(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,r,o)=>{o.d(r,{R:()=>s,x:()=>i});var n=o(296540);const t={},a=n.createContext(t);function s(e){const r=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),n.createElement(a.Provider,{value:r},e.children)}}}]);