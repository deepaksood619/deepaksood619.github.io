"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[15554],{678528:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>r,toc:()=>u});var t=a(785893),s=a(511151);const i={},l="Commands / Influx Query Language (InfluxQL)",r={id:"databases/nosql-databases/time-series-db/influxdb/commands-influx-query-language-influxql",title:"Commands / Influx Query Language (InfluxQL)",description:"1. Sample data",source:"@site/docs/databases/nosql-databases/time-series-db/influxdb/commands-influx-query-language-influxql.md",sourceDirName:"databases/nosql-databases/time-series-db/influxdb",slug:"/databases/nosql-databases/time-series-db/influxdb/commands-influx-query-language-influxql",permalink:"/databases/nosql-databases/time-series-db/influxdb/commands-influx-query-language-influxql",draft:!1,unlisted:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases/nosql-databases/time-series-db/influxdb/commands-influx-query-language-influxql.md",tags:[],version:"current",lastUpdatedAt:1701793554,formattedLastUpdatedAt:"Dec 5, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Administration",permalink:"/databases/nosql-databases/time-series-db/influxdb/administration"},next:{title:"Concepts",permalink:"/databases/nosql-databases/time-series-db/influxdb/concepts"}},o={},u=[{value:"INFLUXQL",id:"influxql",level:2},{value:"Continuous Queries",id:"continuous-queries",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"commands--influx-query-language-influxql",children:"Commands / Influx Query Language (InfluxQL)"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.influxdata.com/influxdb/v1.7/query_language/data_download/",children:"Sample data"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.influxdata.com/influxdb/v1.7/query_language/data_exploration/",children:"Data exploration"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.influxdata.com/influxdb/v1.7/query_language/schema_exploration/",children:"Schema exploration"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.influxdata.com/influxdb/v1.7/query_language/database_management/",children:"Data management"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.influxdata.com/influxdb/v1.7/query_language/continuous_queries/",children:"Continuous Queries"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.influxdata.com/influxdb/v1.7/query_language/functions/",children:"Functions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.influxdata.com/influxdb/v1.7/query_language/math_operators/",children:"Mathematical operators"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.influxdata.com/influxdb/v1.7/query_language/spec/",children:"InfluxQL reference"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Getting into database (login to influx cli)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"influx\ninflux -precision rfc3339\n"})}),"\n",(0,t.jsx)(n.h2,{id:"influxql",children:"INFLUXQL"}),"\n",(0,t.jsx)(n.p,{children:"InfluxQL is an SQL-like query language for interacting with data in InfluxDB."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# SHOW Commands\nSHOW [DATABASES, DIAGNOSTICS, MEASUREMENTS, QUERIES, SERIES, SHARDS, STATS, SUBSCRIPTIONS, TAG, USERS]\n\n# Schema Exploration\nCREATE DATABASE parameter_series;\n\nSHOW DATABASES;\n\nSHOW MEASUREMENTS;\n\n# SHOW FIELD KEYS\nSHOW FIELD KEYS ON "telegraf"\n\nSHOW FIELD KEYS ON "telegraf" FROM "apache_access_log"\n\nSHOW RETENTION POLICIES\n\nSHOW RETENTION POLICIES ON "telegraf"\n\nSHOW TAG KEYS\n\nSHOW SERIES\n\nSHOW SERIES ON telegraf (huge amount of data)\n\nSHOW TAG VALUES\n\nSHOW TAG VALUES ON "telegraf" WITH KEY = "topic";\n\nINSERT temp,tag1=\'tag1\',tag2=\'tag2\' value=22.2\n\nhttps://docs.influxdata.com/influxdb/v1.7/query_language/schema_exploration\n\n# Examples\nSELECT client_ip FROM "apache_access_log" (huge amount of data)\n\nSELECT client_ip FROM "apache_access_log" ORDER BY time DESC LIMIT 10\nCREATE RETENTION POLICY "device_ret" ON "telegraf" DURATION 4w SHARD DURATION 2d REPLICATION 1 DEFAULT\n\nALTER RETENTION POLICY "device_ret" ON "telegraf" DURATION 4w SHARD DURATION 2d DEFAULT\n\nDROP RETENTION POLICY "autogen" ON "hawkbit"\nselect id,max(writePointsOk) from "shard" where "database"=\'telegraf\' group by id;\n\nselect "database",diskBytes,fieldsCreate,id,writePointsOk from "shard" where "database"=\'telegraf\' and time > now() -10s\n\n# InfluxDB\ndocker run --rm -d --name influxdb --net=influxdb -p 8083:8083 -p 8086:8086 influxdb\n\n# Curl queries\ncurl -G http://localhost:8086/query -u todd:influxdb4ever --data-urlencode "q=SHOW DATABASES"\n\n# Chronograf\ndocker run --rm -d --name chronograf -p 8888:8888 --net=influxdb chronograf\n'})}),"\n",(0,t.jsx)(n.h2,{id:"continuous-queries",children:"Continuous Queries"}),"\n",(0,t.jsx)(n.p,{children:"Continuous Queries (CQ) are InfluxQL queries that run automatically and periodically on realtime data and store query results in a specified measurement."}),"\n",(0,t.jsx)(n.p,{children:"CQs were designed to aggregate the data you want to keep in a new measurement (referred to as downsampling). Your time series data comes in thousands or millions of points; you don't want to store them all forever unless absolutely necessary because the disk requirements quickly get out of hand. CQs offer a way for you to keep the summaries of your data without keeping all of the individual points.With CQs, you can have the full resolution data expire with a retention policy (or you can drop it manually) and you keep only what you need."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://docs.influxdata.com/influxdb/v1.7/query_language/continuous_queries",children:"https://docs.influxdata.com/influxdb/v1.7/query_language/continuous_queries"})})]})}function c(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},511151:(e,n,a)=>{a.d(n,{Z:()=>r,a:()=>l});var t=a(667294);const s={},i=t.createContext(s);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);