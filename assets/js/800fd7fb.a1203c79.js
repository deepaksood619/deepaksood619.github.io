"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[70238],{465457:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var t=r(785893),a=r(511151);const o={},s="Azure",c={id:"cloud/others/azure/readme",title:"Azure",description:'Azure Portal "How To" Series',source:"@site/docs/cloud/others/azure/readme.md",sourceDirName:"cloud/others/azure",slug:"/cloud/others/azure/",permalink:"/cloud/others/azure/",draft:!1,unlisted:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/cloud/others/azure/readme.md",tags:[],version:"current",lastUpdatedAt:1732389044,formattedLastUpdatedAt:"Nov 23, 2024",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Other Clouds",permalink:"/cloud/others/"},next:{title:"Commands",permalink:"/cloud/others/azure/commands"}},i={},l=[{value:"Commands",id:"commands",level:2},{value:"Create secret to pull from private registry",id:"create-secret-to-pull-from-private-registry",level:2},{value:"ACI (Azure Container Instances)",id:"aci-azure-container-instances",level:2},{value:"AKS Virtual Kubelet",id:"aks-virtual-kubelet",level:2},{value:"Create",id:"create",level:3},{value:"Delete",id:"delete",level:3},{value:"Node Pools",id:"node-pools",level:2},{value:"Links",id:"links",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"azure",children:"Azure"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.youtube.com/playlist?list=PLLasX02E8BPBKgXP4oflOL29TtqTzwhxR",children:'Azure Portal "How To" Series'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/ai/social-media-analytics-solution",children:"social-media-analytics-solution"})}),"\n",(0,t.jsx)(n.h2,{id:"commands",children:"Commands"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'brew update && brew install azure-cli\n\naz login\n\naz aks install-cli\n\naz aks get-credentials --resource-group Technology --name kubernetes-cluster\n\naz --version\n\nbrew update && brew upgrade azure-cli\n\n## for tunneling to kubernetes-dashboard\n\naz aks browse --resource-group Technology --name prod-cluster\n\n## Upgrade\n\naz aks get-upgrades --resource-group Technology --name dev-kubernetes-cluster --output table\n\n## ACR\n\naz acr list --resource-group Technology --query "[].{acrLoginServer:loginServer}" --output table\n\n## IP Allocations\n\naz aks show --resource-group Technology --name dev-kubernetes-cluster --query nodeResourceGroup -o tsv\n\naz network public-ip create --resource-group MC_Technology_dev-kubernetes-cluster_southindia --name kafka1PublicIP --allocation-method static\n\naz network public-ip create --resource-group staticpublicip --name kongPublicIP --allocation-method static\n\naz network public-ip create --resource-group staticpublicip --name kongproxyPublicIP --allocation-method static --sku Standard\n\naz network public-ip show --resource-group MC_Technology_dev-kubernetes-cluster_southindia --name kafkaPublicIP\n\naz network public-ip delete --resource-group MC_Technology_dev-kubernetes-cluster_southindia --name testPublicIP\n\naz network public-ip list\n\naz network public-ip list --resource-group MC_Technology_dev-kubernetes-cluster_southindia\n\naz group create --location centralindia --name staticpublicip\n\naz role assignment create --assignee 727ba8c8-fa02-440c-ab02-58cb14eb1420 --role "Network Contributor" --scope /subscriptions/3809021a-75e6-4568-8445-2a37bfd143dd/resourceGroups/staticpublicip\n\naz aks update-credentials --resource-group Technology --name dev-kubernetes-cluster --reset-service-principal --service-principal $SP_ID --client-secret $SP_SECRET\n\nSP_ID=$(az aks show --resource-group Technology --name prod-cluster --query servicePrincipalProfile.clientId -o tsv)\n\naz ad sp create-for-rbac --skip-assignment\n\n## ELK\n\naz keyvault create --name example-kubernetes-vault --resource-group Technology\n\naz network public-ip create -n kibana-public --resource-group=Technology --allocation-method=static --dns-name=kibana-public\n\naz network public-ip create -n kibana-ip --resource-group=Technology --allocation-method=static --dns-name=kibana.example.com\n\naz network public-ip create -n elk-ip --resource-group=Technology --allocation-method=static\n\n# 52.172.150.153\n\naz keyvault certificate import --name kibana-certificate --vault-name example-kubernetes-vault -f ${DOMAIN}.pfx --tags domain=${DOMAIN}\n\naz keyvault secret set --name kibana-certificate-key-password --vault-name example-kubernetes-vault\n\naz redis create --name dev-logscache --location southindia --resource-group Technology --sku Standard --vm-size C1\n\nhelm delete --purge elasticsearch\n\n./deploy.sh -n elk -v example-kubernetes-vault\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/Azure/helm-elasticstack",children:"https://github.com/Azure/helm-elasticstack"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/Azure/acs-engine/blob/master/docs/kubernetes/monitoring#monitoring-kubernetes-clusters",children:"https://github.com/Azure/acs-engine/blob/master/docs/kubernetes/monitoring#monitoring-kubernetes-clusters"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/cli/azure/network/public-ip?view=azure-cli-latest",children:"https://docs.microsoft.com/en-us/cli/azure/network/public-ip?view=azure-cli-latest"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/aks/cluster-autoscaler",children:"https://docs.microsoft.com/en-us/azure/aks/cluster-autoscaler"})}),"\n",(0,t.jsx)(n.h2,{id:"create-secret-to-pull-from-private-registry",children:"Create secret to pull from private registry"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# gcr reg addition\n\nkubectl create secret docker-registry gcrreg --docker-server=gcr.io --docker-username=_json_key --docker-password="$(cat ~/json-key-file.json)" --docker-email=username@example.com -n smap\n\nkubectl patch serviceaccount default -p \'{"imagePullSecrets": [{"name": "gcrreg"}]}\' -n smap\n'})}),"\n",(0,t.jsx)(n.h2,{id:"aci-azure-container-instances",children:"ACI (Azure Container Instances)"}),"\n",(0,t.jsx)(n.p,{children:"Easily run containers on Azure without managing servers"}),"\n",(0,t.jsx)(n.p,{children:"Develop apps fast without managing virtual machines or having to learn new tools - it's just your application, in a container, running in the cloud."}),"\n",(0,t.jsx)(n.p,{children:"Azure Container Instances (ACI) provide a hosted environment for running containers in Azure. When using ACI, there is no need to manage the underlying compute infrastructure, Azure handles this management for you. When running containers in ACI, you are charged by the second for each running container."}),"\n",(0,t.jsx)(n.h2,{id:"aks-virtual-kubelet",children:"AKS Virtual Kubelet"}),"\n",(0,t.jsx)(n.h3,{id:"create",children:"Create"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"az aks install-connector --resource-group Technology --name dev-kubernetes-cluster --connector-name virtual-kubelet --os-type Linux"})}),"\n",(0,t.jsx)(n.h3,{id:"delete",children:"Delete"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"az aks remove-connector --resource-group Technology --name dev-kubernetes-cluster --connector-name virtual-kubelet --os-type Linux"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/aks/virtual-kubelet#installation",children:"https://docs.microsoft.com/en-us/azure/aks/virtual-kubelet#installation"})}),"\n",(0,t.jsx)(n.h2,{id:"node-pools",children:"Node Pools"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/aks/use-multiple-node-pools",children:"https://docs.microsoft.com/en-us/azure/aks/use-multiple-node-pools"})}),"\n",(0,t.jsx)(n.h2,{id:"links",children:"Links"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.freecodecamp.org/news/azure-data-fundamentals-certification-ai-900-pass-the-exam-with-this-free-4-hour-course/",children:"Azure AI Fundamentals Certification (AI-900) 2024 UPDATE - Pass the Exam With This Free 4 Hour Course"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.youtube.com/watch?v=feQvnIUJ3Iw&ab_channel=K21Academy",children:"Azure Networking For Beginners | Learn Azure Networking Basics | K21Academy - YouTube"})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},511151:(e,n,r)=>{r.d(n,{Z:()=>c,a:()=>s});var t=r(667294);const a={},o=t.createContext(a);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);