"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[23399],{620525:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>m,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"databases-sql/mysql/transaction-commit-rollback","title":"Trasaction / Commit / Rollback","description":"- 13.3 Transactional and Locking Statements","source":"@site/docs/databases-sql/mysql/transaction-commit-rollback.md","sourceDirName":"databases-sql/mysql","slug":"/databases-sql/mysql/transaction-commit-rollback","permalink":"/databases-sql/mysql/transaction-commit-rollback","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases-sql/mysql/transaction-commit-rollback.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1749575438000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Thread States","permalink":"/databases-sql/mysql/thread-states"},"next":{"title":"Normalization","permalink":"/databases-sql/normalization"}}');var s=n(474848),o=n(28453);const m={},r="Trasaction / Commit / Rollback",i={},c=[];function l(t){const e={a:"a",h1:"h1",header:"header",li:"li",p:"p",ul:"ul",...(0,o.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"trasaction--commit--rollback",children:"Trasaction / Commit / Rollback"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"13.3 Transactional and Locking Statements"}),"\n",(0,s.jsx)(e.li,{children:"13.3.1 START TRANSACTION, COMMIT, and ROLLBACK Statements"}),"\n",(0,s.jsx)(e.li,{children:"13.3.2 Statements That Cannot Be Rolled Back"}),"\n",(0,s.jsx)(e.li,{children:"13.3.3 Statements That Cause an Implicit Commit"}),"\n",(0,s.jsx)(e.li,{children:"13.3.4 SAVEPOINT, ROLLBACK TO SAVEPOINT, and RELEASE SAVEPOINT Statements"}),"\n",(0,s.jsx)(e.li,{children:"13.3.5 LOCK TABLES and UNLOCK TABLES Statements"}),"\n",(0,s.jsx)(e.li,{children:"13.3.6 SET TRANSACTION Statement"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["In InnoDB, all user activity occurs inside a transaction. If ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_autocommit",children:"autocommit"})," mode is enabled, each SQL statement forms a single transaction on its own. By default, MySQL starts the session for each new connection with ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_autocommit",children:"autocommit"})," enabled, so MySQL does a commit after each SQL statement if that statement did not return an error. If a statement returns an error, the commit or rollback behavior depends on the error. See ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-error-handling.html",children:'Section15.21.4, "InnoDB Error Handling"'}),"."]}),"\n",(0,s.jsxs)(e.p,{children:["A session that has ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_autocommit",children:"autocommit"})," enabled can perform a multiple-statement transaction by starting it with an explicit ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:"START TRANSACTION"})," or ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:"BEGIN"})," statement and ending it with a ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:"COMMIT"})," or ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:"ROLLBACK"})," statement. See ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:'Section13.3.1, "START TRANSACTION, COMMIT, and ROLLBACK Statements"'}),"."]}),"\n",(0,s.jsxs)(e.p,{children:["If ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_autocommit",children:"autocommit"})," mode is disabled within a session withSET autocommit = 0, the session always has a transaction open. A ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:"COMMIT"})," or ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:"ROLLBACK"})," statement ends the current transaction and a new one starts."]}),"\n",(0,s.jsxs)(e.p,{children:["If a session that has ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_autocommit",children:"autocommit"})," disabled ends without explicitly committing the final transaction, MySQL rolls back that transaction."]}),"\n",(0,s.jsxs)(e.p,{children:["Some statements implicitly end a transaction, as if you had done a ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:"COMMIT"})," before executing the statement. For details, see ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/implicit-commit.html",children:'Section13.3.3, "Statements That Cause an Implicit Commit"'}),"."]}),"\n",(0,s.jsxs)(e.p,{children:["A ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:"COMMIT"})," means that the changes made in the current transaction are made permanent and become visible to other sessions. A ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:"ROLLBACK"})," statement, on the other hand, cancels all modifications made by the current transaction. Both ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:"COMMIT"})," and ",(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/commit.html",children:"ROLLBACK"})," release allInnoDBlocks that were set during the current transaction."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-autocommit-commit-rollback.html",children:"https://dev.mysql.com/doc/refman/8.0/en/innodb-autocommit-commit-rollback.html"})})]})}function d(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(l,{...t})}):l(t)}},28453:(t,e,n)=>{n.d(e,{R:()=>m,x:()=>r});var a=n(296540);const s={},o=a.createContext(s);function m(t){const e=a.useContext(o);return a.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function r(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:m(t.components),a.createElement(o.Provider,{value:e},t.children)}}}]);