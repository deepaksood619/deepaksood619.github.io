"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[84898],{621951:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"databases-nosql/time-series-db/influxdb/readme","title":"InfluxDB","description":"Tag sets are indexed, field sets are not. InfluxDB\'s speed is based on the fact that tag sets are stored in-memory, whereas the field sets are stored on-disk.","source":"@site/docs/databases-nosql/time-series-db/influxdb/readme.md","sourceDirName":"databases-nosql/time-series-db/influxdb","slug":"/databases-nosql/time-series-db/influxdb/","permalink":"/databases-nosql/time-series-db/influxdb/","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases-nosql/time-series-db/influxdb/readme.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1749576162000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Time Series","permalink":"/databases-nosql/time-series-db/"},"next":{"title":"Administration","permalink":"/databases-nosql/time-series-db/influxdb/administration"}}');var t=s(474848),a=s(28453);const r={},l="InfluxDB",d={},o=[{value:"InfluxDB design insights and tradeoffs",id:"influxdb-design-insights-and-tradeoffs",level:2},{value:"InfluxDB schema design and data layouts",id:"influxdb-schema-design-and-data-layouts",level:2},{value:"Basic - Concepts",id:"basic---concepts",level:2},{value:"1. Measurement",id:"1-measurement",level:3},{value:"2. Time",id:"2-time",level:3},{value:"3. Tags",id:"3-tags",level:3},{value:"4. Fields",id:"4-fields",level:3},{value:"5. Series",id:"5-series",level:3},{value:"Glossary of Terms",id:"glossary-of-terms",level:2}];function c(e){const n={a:"a",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"influxdb",children:"InfluxDB"})}),"\n",(0,t.jsx)(n.p,{children:"Tag sets are indexed, field sets are not. InfluxDB's speed is based on the fact that tag sets are stored in-memory, whereas the field sets are stored on-disk."}),"\n",(0,t.jsx)(n.h2,{id:"influxdb-design-insights-and-tradeoffs",children:"InfluxDB design insights and tradeoffs"}),"\n",(0,t.jsx)(n.p,{children:"InfluxDB is a time series database. Optimizing for this use case entails some tradeoffs, primarily to increase performance at the cost of functionality. Below is a list of some of those design insights that lead to tradeoffs:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"For the time series use case, we assume that if the same data is sent multiple times, it is the exact same data that a client just sent several times."}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pro: Simplified ",(0,t.jsx)(n.a,{href:"https://docs.influxdata.com/influxdb/v1.7/troubleshooting/frequently-asked-questions/#how-does-influxdb-handle-duplicate-points",children:"- Conflict resolution"})," increases write performance."]}),"\n",(0,t.jsx)(n.li,{children:"Con: Cannot store duplicate data; may overwrite data in rare circumstances."}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"Deletes are a rare occurrence. When they do occur it is almost always against large ranges of old data that are cold for writes."}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pro: Restricting access to deletes allows for increased query and write performance."}),"\n",(0,t.jsx)(n.li,{children:"Con: Delete functionality is significantly restricted."}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Updates to existing data are a rare occurrence and - Contentious updates never happen. Time series data is predominantly new data that is never updated."}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pro: Restricting access to updates allows for increased query and write performance."}),"\n",(0,t.jsx)(n.li,{children:"Con: Update functionality is significantly restricted."}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"The vast majority of writes are for data with very recent timestamps and the data is added in time ascending order."}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pro: Adding data in time ascending order is significantly more performant."}),"\n",(0,t.jsx)(n.li,{children:"Con: Writing points with random times or with time not in ascending order is significantly less performant."}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Scale is critical. The database must be able to handle a high volume of reads and writes."}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pro: The database can handle a high volume of reads and writes."}),"\n",(0,t.jsx)(n.li,{children:"Con: The InfluxDB development team was forced to make tradeoffs to increase performance."}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsx)(n.li,{children:"Being able to write and query the data is more important than having a strongly - Consistent view."}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pro: Writing and querying the database can be done by multiple clients and at high loads."}),"\n",(0,t.jsx)(n.li,{children:"Con: Query returns may not include the most recent points if database is under heavy load."}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"7",children:["\n",(0,t.jsx)(n.li,{children:"Many timeseries are ephemeral. There are often time series that appear only for a few hours and then go away, e.g. a new host that gets started and reports for a while and then gets shut down."}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pro: InfluxDB is good at managing dis-Continuous data."}),"\n",(0,t.jsx)(n.li,{children:"Con: Schema-less design means that some database functions are not supported e.g. there are no cross table joins."}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"8",children:["\n",(0,t.jsx)(n.li,{children:"No one point is too important."}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pro: InfluxDB has very powerful tools to deal with aggregate data and large data sets."}),"\n",(0,t.jsx)(n.li,{children:"Con: Points don't have IDs in the traditional sense, they are differentiated by timestamp and series."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"influxdb-schema-design-and-data-layouts",children:"InfluxDB schema design and data layouts"}),"\n",(0,t.jsx)(n.p,{children:"Every InfluxDB use case is special and your schema will reflect that uniqueness. There are, however, general guidelines to follow and pitfalls to avoid when designing your schema."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"General Recommendations"}),"\n",(0,t.jsx)(n.li,{children:"Encouraged Schema Design"}),"\n",(0,t.jsx)(n.li,{children:"Discouraged Schema Design"}),"\n",(0,t.jsx)(n.li,{children:"Shard Group Duration Management"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"basic---concepts",children:"Basic - Concepts"}),"\n",(0,t.jsx)(n.h3,{id:"1-measurement",children:"1. Measurement"}),"\n",(0,t.jsx)(n.p,{children:"A measurement is loosely equivalent to the - Concept of a table in relational databases. Measurement is inside which a data is stored and a database can have multiple measurements. A measurement primarily - Consists of 3 types of columns Time, Tags and Fields"}),"\n",(0,t.jsx)(n.h3,{id:"2-time",children:"2. Time"}),"\n",(0,t.jsx)(n.p,{children:"A time is nothing but a column tracking timestamp to perform time series operations in a better way. The default is the Influxdb time which is in nanose- Conds, however, it can be replaced with event time."}),"\n",(0,t.jsx)(n.h3,{id:"3-tags",children:"3. Tags"}),"\n",(0,t.jsx)(n.p,{children:"A tag is similar to an indexed column in a relational database.An important point to remember is that relational operations like WHERE, GROUP BY etc, can be performed on a column only if it is marked as a Tag"}),"\n",(0,t.jsx)(n.h3,{id:"4-fields",children:"4. Fields"}),"\n",(0,t.jsx)(n.p,{children:"Fields are the columns on which mathematical operations such as sum, mean, non-negative derivative etc can be performed.However, in recent versions string values can also be stored as a field."}),"\n",(0,t.jsx)(n.h3,{id:"5-series",children:"5. Series"}),"\n",(0,t.jsxs)(n.p,{children:["A series is the most important concept of Influxdb. A series is a combination of tags, measurement, and retention policy (default of Influxdb). An Influxdb database performance is highly dependent on the number of unique series it contains, which in turn is the cardinality of tags ",(0,t.jsx)(n.em,{children:"no. of measurement"})," retention policy"]}),"\n",(0,t.jsx)(n.h2,{id:"glossary-of-terms",children:"Glossary of Terms"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Replication factor"}),"\n",(0,t.jsx)(n.li,{children:"Retention policy"}),"\n",(0,t.jsx)(n.li,{children:"Schema"}),"\n",(0,t.jsx)(n.li,{children:"Series cardinality"}),"\n",(0,t.jsx)(n.li,{children:"Shard"}),"\n",(0,t.jsx)(n.li,{children:"Shard duration"}),"\n",(0,t.jsx)(n.li,{children:"Shard group"}),"\n",(0,t.jsx)(n.li,{children:"Subscription"}),"\n",(0,t.jsx)(n.li,{children:"tsm (Time Structured Merge tree)"}),"\n",(0,t.jsx)(n.li,{children:"wal (Write Ahead Log)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image",src:s(471748).A+"",width:"999",height:"560"})}),"\n",(0,t.jsxs)(n.p,{children:["TICK Stack (",(0,t.jsx)(n.a,{href:"https://www.influxdata.com/time-series-platform",children:"https://www.influxdata.com/time-series-platform"}),")"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Telegraf"}),"\n",(0,t.jsx)(n.li,{children:"InfluxDB"}),"\n",(0,t.jsx)(n.li,{children:"Choronograf"}),"\n",(0,t.jsx)(n.li,{children:"Kapacitor"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image",src:s(571795).A+"",width:"840",height:"560"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},471748:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/InfluxDB-image1-c33d13b601a83b4e5beeeb7a78d21742.jpg"},571795:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/InfluxDB-image2-d5d0f29fff9c42952ac4e38f96e12b85.jpg"},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(296540);const t={},a=i.createContext(t);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);