"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[35832],{866904:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"networking/protocols/graphql","title":"GraphQL","description":"GraphQL will do to REST what JSON did to XML.","source":"@site/docs/networking/protocols/graphql.md","sourceDirName":"networking/protocols","slug":"/networking/protocols/graphql","permalink":"/networking/protocols/graphql","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/networking/protocols/graphql.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1707138374000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"DNS Domain Name System","permalink":"/networking/protocols/dns-domain-name-system"},"next":{"title":"HTTP/3 QUIC","permalink":"/networking/protocols/http-3-quic"}}');var t=r(474848),s=r(28453);const a={},l="GraphQL",o={},h=[{value:"A Data Query Language",id:"a-data-query-language",level:2},{value:"Problems that GraphQL solves",id:"problems-that-graphql-solves",level:2},{value:"Problems with GraphQL",id:"problems-with-graphql",level:2},{value:"GraphQL Core Concepts",id:"graphql-core-concepts",level:2},{value:"Security",id:"security",level:2},{value:"How to GraphQL",id:"how-to-graphql",level:2},{value:"Queries",id:"queries",level:2},{value:"Client",id:"client",level:2},{value:"Schema stitching",id:"schema-stitching",level:2},{value:"Apollo Federation",id:"apollo-federation",level:2},{value:"Tools",id:"tools",level:2},{value:"Hasura - https://hasura.io",id:"hasura---httpshasuraio",level:3},{value:"GraphQL Voyager - https://github.com/APIs-guru/graphql-voyager",id:"graphql-voyager---httpsgithubcomapis-gurugraphql-voyager",level:3},{value:"GraphQL Mesh",id:"graphql-mesh",level:3},{value:"Monitoring GraphQL APIs",id:"monitoring-graphql-apis",level:3},{value:"Persisted Queries",id:"persisted-queries",level:3},{value:"References",id:"references",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"graphql",children:"GraphQL"})}),"\n",(0,t.jsx)(n.p,{children:"GraphQL will do to REST what JSON did to XML."}),"\n",(0,t.jsx)(n.h2,{id:"a-data-query-language",children:"A Data Query Language"}),"\n",(0,t.jsx)(n.p,{children:"GraphQL is strongly typed, self-documenting, and embraces declarative data fetching, which allows clients to query for the exact data they need as well making it possible to build powerful and in-depth developer tools."}),"\n",(0,t.jsx)(n.p,{children:"GraphQL server - A server which implements the GraphQL Specifications and exposes an API endpoint for clients to query."}),"\n",(0,t.jsx)(n.p,{children:"GraphQL is typically used in scenarios where related data needs to be queried or in environments where multiple round trips to the server can negatively impact the customer experience."}),"\n",(0,t.jsx)(n.h2,{id:"problems-that-graphql-solves",children:"Problems that GraphQL solves"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"The need to do multiple round trips to fetch data required by a view"}),"\n",(0,t.jsx)(n.li,{children:"Clients dependency on servers"}),"\n",(0,t.jsx)(n.li,{children:"The bad front-end developer experience"}),"\n",(0,t.jsx)(n.li,{children:"No Versioning of APIs"}),"\n",(0,t.jsx)(n.li,{children:"Get only what you asked"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"problems-with-graphql",children:"Problems with GraphQL"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Resource Exhaustion Attacks (DOS) using overly complex queries"}),"\n",(0,t.jsx)(n.li,{children:"N+1 queries"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Solution - ",(0,t.jsx)(n.a,{href:"https://github.com/facebook/dataloader",children:"https://github.com/facebook/dataloader"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://xuorig.medium.com/the-graphql-dataloader-pattern-visualized-3064a00f319f",children:"https://xuorig.medium.com/the-graphql-dataloader-pattern-visualized-3064a00f319f"})}),"\n",(0,t.jsx)(n.h2,{id:"graphql-core-concepts",children:"GraphQL Core Concepts"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Schema Definition Language (Used to define the schema of an API)"}),"\n",(0,t.jsx)(n.li,{children:"Defining Types (Type system allows us to check if query is valid or not before resolving the query)"}),"\n",(0,t.jsxs)(n.li,{children:["Sending Queries and Mutations","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Queries with Arguments (extra information sent with query and mutation)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Mutations","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Creating new data"}),"\n",(0,t.jsx)(n.li,{children:"Updating existing data"}),"\n",(0,t.jsx)(n.li,{children:"Deleting existing data"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Subscriptions"}),"\n",(0,t.jsx)(n.li,{children:"Resolvers"}),"\n",(0,t.jsx)(n.li,{children:"Variables"}),"\n",(0,t.jsxs)(n.li,{children:["Inspection","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This allows us to know the schema using introspection and see documentation of all the endpoints with autocomplete in clients like Graphiql"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Timeout"}),"\n",(0,t.jsx)(n.li,{children:"Maximum Query Depth"}),"\n",(0,t.jsx)(n.li,{children:"Query Complexity"}),"\n",(0,t.jsx)(n.li,{children:"Throttling"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"how-to-graphql",children:"How to GraphQL"}),"\n",(0,t.jsx)(n.p,{children:"In GraphQL, aTypeis an object that may contain multiplefields. Each field is calculated throughresolvers, that returns a value. A collection of types is called aschema. Every schema has a special type calledqueryfor getting data from the server andmutationfor sending data to the server."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Type"}),"\n",(0,t.jsx)(n.li,{children:"Query"}),"\n",(0,t.jsx)(n.li,{children:"Mutation"}),"\n",(0,t.jsx)(n.li,{children:"Resolver\nTutorial"}),"\n",(0,t.jsx)(n.li,{children:"Queries"}),"\n",(0,t.jsx)(n.li,{children:"Mutations"}),"\n",(0,t.jsx)(n.li,{children:"Authentications"}),"\n",(0,t.jsx)(n.li,{children:"Links and Voting"}),"\n",(0,t.jsx)(n.li,{children:"Error Handling"}),"\n",(0,t.jsx)(n.li,{children:"Filtering"}),"\n",(0,t.jsx)(n.li,{children:"Pagination"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://hasura.io/blog/cursor-offset-pagination-with-hasura-graphql",children:"https://hasura.io/blog/cursor-offset-pagination-with-hasura-graphql"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Relay"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"queries",children:"Queries"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'mutation {\n  createLink(\n    url: "https://www.google.com"\n\n    description: "Google"\n  ) {\n    id\n\n    url\n\n    description\n  }\n}\nquery {\n  links {\n    id\n\n    url\n\n    description\n  }\n}\nmutation {\n  tokenAuth(username: "deepak", password: "deepaksood") {\n    token\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"! - bang at the end of a type represents required"}),"\n",(0,t.jsx)(n.p,{children:"In graphene-python it is written as required=True"}),"\n",(0,t.jsx)(n.h2,{id:"client",children:"Client"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Apollo"}),"\n",(0,t.jsx)(n.li,{children:"Relay"}),"\n",(0,t.jsx)(n.li,{children:"Graphiql"}),"\n",(0,t.jsx)(n.li,{children:"Insomnia"}),"\n",(0,t.jsx)(n.li,{children:"Postman"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"schema-stitching",children:"Schema stitching"}),"\n",(0,t.jsx)(n.p,{children:"Schema stitching is the process of creating a single GraphQL schema from multiple underlying GraphQL APIs."}),"\n",(0,t.jsx)(n.p,{children:"One of the main benefits of GraphQL is that we can query all of our data as part of one schema, and get everything we need in one request. But as the schema grows, it might become cumbersome to manage it all as one codebase, and it starts to make sense to split it into different modules. We may also want to decompose your schema into separate microservices, which can be developed and deployed independently."}),"\n",(0,t.jsx)(n.p,{children:"In both cases, we usemergeSchemasto combine multiple GraphQL schemas together and produce a merged schema that knows how to delegate parts of the query to the relevant subschemas. These subschemas can be either local to the server, or running on a remote server. They can even be services offered by 3rd parties, allowing us to connect to external data and create mashups."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.apollographql.com/docs/graphql-tools/schema-stitching",children:"https://www.apollographql.com/docs/graphql-tools/schema-stitching"})}),"\n",(0,t.jsx)(n.h2,{id:"apollo-federation",children:"Apollo Federation"}),"\n",(0,t.jsx)(n.p,{children:"Apollo Federation is an architecture for composing multiple GraphQL services into a single graph that addresses this need. Unlike other approaches such as schema stitching, it is based on a declarative composition programming model that allowsproper separation of concerns. This design allows teams to implement an enterprise-scale shared data graph as a set of loosely coupled, separately maintained GraphQL services."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://principledgraphql.com/integrity#1-one-graph",children:"https://principledgraphql.com/integrity#1-one-graph"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.apollographql.com/docs/apollo-server/federation/introduction",children:"https://www.apollographql.com/docs/apollo-server/federation/introduction"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://blog.apollographql.com/apollo-federation-f260cf525d21",children:"https://blog.apollographql.com/apollo-federation-f260cf525d21"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/apollographql/federation-demo",children:"https://github.com/apollographql/federation-demo"})}),"\n",(0,t.jsx)(n.h2,{id:"tools",children:"Tools"}),"\n",(0,t.jsxs)(n.h3,{id:"hasura---httpshasuraio",children:["Hasura - ",(0,t.jsx)(n.a,{href:"https://hasura.io",children:"https://hasura.io"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/hasura/graphql-engine",children:"https://github.com/hasura/graphql-engine"})}),"\n",(0,t.jsxs)(n.p,{children:["Quiver - ",(0,t.jsx)(n.a,{href:"https://medium.com/@syrusakbary/quiver-graphql-on-steroids-13612ea1ea77",children:"https://medium.com/@syrusakbary/quiver-graphql-on-steroids-13612ea1ea77"})]}),"\n",(0,t.jsxs)(n.h3,{id:"graphql-voyager---httpsgithubcomapis-gurugraphql-voyager",children:["GraphQL Voyager - ",(0,t.jsx)(n.a,{href:"https://github.com/APIs-guru/graphql-voyager",children:"https://github.com/APIs-guru/graphql-voyager"})]}),"\n",(0,t.jsx)(n.h3,{id:"graphql-mesh",children:"GraphQL Mesh"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://the-guild.dev/blog/graphql-mesh",children:"https://the-guild.dev/blog/graphql-mesh"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.youtube.com/watch?v=T0zpPO7Ub_s&ab_channel=GOTOConferences",children:"https://www.youtube.com/watch?v=T0zpPO7Ub_s&ab_channel=GOTOConferences"})}),"\n",(0,t.jsx)(n.h3,{id:"monitoring-graphql-apis",children:"Monitoring GraphQL APIs"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.moesif.com/blog/technical/monitoring/How-to-Best-Monitor-GraphQL-APIs",children:"https://www.moesif.com/blog/technical/monitoring/How-to-Best-Monitor-GraphQL-APIs"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://xuorig.medium.com/why-graphql-performance-monitoring-is-hard-41381bc7c44d",children:"https://xuorig.medium.com/why-graphql-performance-monitoring-is-hard-41381bc7c44d"})}),"\n",(0,t.jsx)(n.h3,{id:"persisted-queries",children:"Persisted Queries"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.apollographql.com/blog/apollo-client/persisted-graphql-queries",children:"https://www.apollographql.com/blog/apollo-client/persisted-graphql-queries"})}),"\n",(0,t.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://medium.freecodecamp.org/rest-apis-are-rest-in-peace-apis-long-live-graphql-d412e559d8e4",children:"https://medium.freecodecamp.org/rest-apis-are-rest-in-peace-apis-long-live-graphql-d412e559d8e4"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.quora.com/Is-GraphQL-a-REST-killer",children:"https://www.quora.com/Is-GraphQL-a-REST-killer"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://docs.graphene-python.org/projects/django/en/latest",children:"http://docs.graphene-python.org/projects/django/en/latest"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.howtographql.com",children:"https://www.howtographql.com"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://building.buildkite.com/tutorial-getting-started-with-graphql-queries-and-mutations-11211dfe5d64",children:"https://building.buildkite.com/tutorial-getting-started-with-graphql-queries-and-mutations-11211dfe5d64"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.toptal.com/graphql/creating-your-first-graphql-api",children:"https://www.toptal.com/graphql/creating-your-first-graphql-api"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.youtube.com/watch?v=5199E50O7SI",children:"GraphQL Course for Beginners - YouTube"})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var i=r(296540);const t={},s=i.createContext(t);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);