"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[20904],{473217:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"computer-science/interview-question/system-design-google-com-into-browser-press-enter","title":"System Design - What happens when you type google.com into your browser\'s address box and press enter?","description":"What happens when you type a URL into a browser?","source":"@site/docs/computer-science/interview-question/system-design-google-com-into-browser-press-enter.md","sourceDirName":"computer-science/interview-question","slug":"/computer-science/interview-question/system-design-google-com-into-browser-press-enter","permalink":"/computer-science/interview-question/system-design-google-com-into-browser-press-enter","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/computer-science/interview-question/system-design-google-com-into-browser-press-enter.md","tags":[],"version":"current","lastUpdatedBy":"Deepak","lastUpdatedAt":1734963185000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"System Design - Autocomplete or TypeAhead","permalink":"/computer-science/interview-question/system-design-autocomplete-or-typeahead"},"next":{"title":"System Design of Google Search Engine","permalink":"/computer-science/interview-question/system-design-google-search"}}');var t=r(474848),i=r(28453);const o={},a="System Design - What happens when you type google.com into your browser's address box and press enter?",l={},d=[{value:"Browser",id:"browser",level:2},{value:"Browser High Level Structure",id:"browser-high-level-structure",level:3},{value:"HTML parsing",id:"html-parsing",level:2},{value:"The parsing algorithm",id:"the-parsing-algorithm",level:3},{value:"Actions when the parsing is finished",id:"actions-when-the-parsing-is-finished",level:3},{value:"CSS interpretation",id:"css-interpretation",level:3},{value:"Page Rendering",id:"page-rendering",level:3},{value:"GPU Rendering",id:"gpu-rendering",level:3},{value:"Post-rendering and user-induced execution",id:"post-rendering-and-user-induced-execution",level:3},{value:"Problems",id:"problems",level:2},{value:"References",id:"references",level:2}];function h(e){const n={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"system-design---what-happens-when-you-type-googlecom-into-your-browsers-address-box-and-press-enter",children:"System Design - What happens when you type google.com into your browser's address box and press enter?"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"What happens when you type a URL into a browser?",src:r(929926).A+"",width:"1231",height:"1600"})}),"\n",(0,t.jsx)(n.p,{children:"Ever wondered what exactly happens when you type google.com into your browser's address box and press enter?"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'The "g" key is pressed'}),"\n",(0,t.jsx)(n.li,{children:'The "enter" key bottoms out'}),"\n",(0,t.jsx)(n.li,{children:"Interrupt fires (NOT for USB keyboards)"}),"\n",(0,t.jsx)(n.li,{children:"(On Windows) AWM_KEYDOWN message is sent to the app"}),"\n",(0,t.jsx)(n.li,{children:"(On OS X) AKeyDownNSEvent is sent to the app"}),"\n",(0,t.jsx)(n.li,{children:"(On GNU/Linux) the Xorg server listens for keycodes"}),"\n",(0,t.jsx)(n.li,{children:"Parse URL"}),"\n",(0,t.jsx)(n.li,{children:"Is it a URL or a search term?"}),"\n",(0,t.jsx)(n.li,{children:"Convert non-ASCII Unicode characters in hostname"}),"\n",(0,t.jsx)(n.li,{children:"Check HSTS list"}),"\n",(0,t.jsx)(n.li,{children:"DNS lookup"}),"\n",(0,t.jsx)(n.li,{children:"ARP process"}),"\n",(0,t.jsx)(n.li,{children:"Opening of a socket"}),"\n",(0,t.jsx)(n.li,{children:"TLS handshake"}),"\n",(0,t.jsx)(n.li,{children:"HTTP protocol"}),"\n",(0,t.jsx)(n.li,{children:"HTTP Server Request Handle"}),"\n",(0,t.jsx)(n.li,{children:"Behind the scenes of the Browser"}),"\n",(0,t.jsx)(n.li,{children:"Browser"}),"\n",(0,t.jsx)(n.li,{children:"HTML parsing"}),"\n",(0,t.jsx)(n.li,{children:"CSS interpretation"}),"\n",(0,t.jsx)(n.li,{children:"Page Rendering"}),"\n",(0,t.jsx)(n.li,{children:"GPU Rendering"}),"\n",(0,t.jsx)(n.li,{children:"Window Server"}),"\n",(0,t.jsx)(n.li,{children:"Post-rendering and user-induced execution"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"browser",children:"Browser"}),"\n",(0,t.jsx)(n.p,{children:"Once the server supplies the resources (HTML, CSS, JS, images, etc.) to the browser it undergoes the below process:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Parsing - HTML, CSS, JS"}),"\n",(0,t.jsx)(n.li,{children:"Rendering - Construct DOM Tree \u2192 Render Tree \u2192 Layout of Render Tree \u2192 Painting the render tree"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"browser-high-level-structure",children:"Browser High Level Structure"}),"\n",(0,t.jsx)(n.p,{children:"The components of the browsers are:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"User interface:"})," The user interface includes the address bar, back/forward button, bookmarking menu, etc. Every part of the browser display except the window where you see the requested page."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Browser engine:"})," The browser engine marshals actions between the UI and the rendering engine."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Rendering engine:"})," The rendering engine is responsible for displaying requested content. For example if the requested content is HTML, the rendering engine parses HTML and CSS, and displays the parsed content on the screen."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Networking:"})," The networking handles network calls such as HTTP requests, using different implementations for different platforms behind a platform-independent interface."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"UI backend:"})," The UI backend is used for drawing basic widgets like combo boxes and windows. This backend exposes a generic interface that is not platform specific. Underneath it uses operating system user interface methods."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"JavaScript engine:"})," The JavaScript engine is used to parse and execute JavaScript code."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data storage:"})," The data storage is a persistence layer. The browser may need to save all sorts of data locally, such as cookies. Browsers also support storage mechanisms such as localStorage, IndexedDB, WebSQL and FileSystem."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"html-parsing",children:"HTML parsing"}),"\n",(0,t.jsx)(n.p,{children:'The rendering engine starts getting the contents of the requested document from the networking layer. This will usually be done in 8kB chunks.\nThe primary job of HTML parser is to parse the HTML markup into a parse tree.\nThe output tree (the "parse tree") is a tree of DOM element and attribute nodes. DOM is short for Document Object Model. It is the object presentation of the HTML document and the interface of HTML elements to the outside world like JavaScript. The root of the tree is the "Document" object. Prior of any manipulation via scripting, the DOM has an almost one-to-one relation to the markup.'}),"\n",(0,t.jsx)(n.h3,{id:"the-parsing-algorithm",children:"The parsing algorithm"}),"\n",(0,t.jsx)(n.p,{children:"HTML cannot be parsed using the regular top-down or bottom-up parsers.\nThe reasons are:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The forgiving nature of the language."}),"\n",(0,t.jsx)(n.li,{children:"The fact that browsers have traditional error tolerance to support well known cases of invalid HTML."}),"\n",(0,t.jsx)(n.li,{children:"The parsing process is reentrant. For other languages, the source doesn't change during parsing, but in HTML, dynamic code (such as script elements containing document.write() calls) can add extra tokens, so the parsing process actually modifies the input."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Unable to use the regular parsing techniques, the browser utilizes a custom parser for parsing HTML. The parsing algorithm is described in detail by the HTML5 specification.\nThe algorithm consists of two stages: tokenization and tree construction."}),"\n",(0,t.jsx)(n.h3,{id:"actions-when-the-parsing-is-finished",children:"Actions when the parsing is finished"}),"\n",(0,t.jsx)(n.p,{children:'The browser begins fetching external resources linked to the page (CSS, images, JavaScript files, etc.).\nAt this stage the browser marks the document as interactive and starts parsing scripts that are in "deferred" mode: those that should be executed after the document is parsed. The document state is set to "complete" and a "load" event is fired.\nNote there is never an "Invalid Syntax" error on an HTML page. Browsers fix any invalid content and go on.'}),"\n",(0,t.jsx)(n.h3,{id:"css-interpretation",children:"CSS interpretation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Parse CSS files, tag contents, and style attribute values using ",(0,t.jsx)(n.a,{href:"http://www.w3.org/TR/CSS2/grammar.html",children:'"CSS lexical and syntax grammar"'})]}),"\n",(0,t.jsx)(n.li,{children:"Each CSS file is parsed into a StyleSheet object, where each object contains CSS rules with selectors and objects corresponding CSS grammar."}),"\n",(0,t.jsx)(n.li,{children:"A CSS parser can be top-down or bottom-up when a specific parser generator is used."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"page-rendering",children:"Page Rendering"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Create a 'Frame Tree' or 'Render Tree' by traversing the DOM nodes, and calculating the CSS style values for each node."}),"\n",(0,t.jsx)(n.li,{children:"Calculate the preferred width of each node in the 'Frame Tree' bottom up by summing the preferred width of the child nodes and the node's horizontal margins, borders, and padding."}),"\n",(0,t.jsx)(n.li,{children:"Calculate the actual width of each node top-down by allocating each node's available width to its children."}),"\n",(0,t.jsx)(n.li,{children:"Calculate the height of each node bottom-up by applying text wrapping and summing the child node heights and the node's margins, borders, and padding."}),"\n",(0,t.jsx)(n.li,{children:"Calculate the coordinates of each node using the information calculated above."}),"\n",(0,t.jsxs)(n.li,{children:["More complicated steps are taken when elements are floated, positioned absolutely or relatively, or other complex features are used. See ",(0,t.jsx)(n.a,{href:"http://dev.w3.org/csswg/css2",children:"http://dev.w3.org/csswg/css2"})," and ",(0,t.jsx)(n.a,{href:"http://www.w3.org/Style/CSS/current-work",children:"http://www.w3.org/Style/CSS/current-work"})," for more details."]}),"\n",(0,t.jsx)(n.li,{children:"Create layers to describe which parts of the page can be animated as a group without being re-rasterized. Each frame/render object is assigned to a layer."}),"\n",(0,t.jsx)(n.li,{children:"Textures are allocated for each layer of the page."}),"\n",(0,t.jsx)(n.li,{children:"The frame/render objects for each layer are traversed and drawing commands are executed for their respective layer. This may be rasterized by the CPU or drawn on the GPU directly using D2D/SkiaGL."}),"\n",(0,t.jsx)(n.li,{children:"All of the above steps may reuse calculated values from the last time the webpage was rendered, so that incremental changes require less work."}),"\n",(0,t.jsx)(n.li,{children:"The page layers are sent to the compositing process where they are combined with layers for other visible content like the browser chrome, iframes and addon panels."}),"\n",(0,t.jsx)(n.li,{children:"Final layer positions are computed and the composite commands are issued via Direct3D/OpenGL. The GPU command buffer(s) are flushed to the GPU for asynchronous rendering and the frame is sent to the window server."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"gpu-rendering",children:"GPU Rendering"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"During the rendering process the graphical computing layers can use general purposeCPUor the graphical processorGPUas well."}),"\n",(0,t.jsx)(n.li,{children:"When usingGPUfor graphical rendering computations the graphical software layers split the task into multiple pieces, so it can take advantage ofGPUmassive parallelism for float point calculations required for the rendering process."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"post-rendering-and-user-induced-execution",children:"Post-rendering and user-induced execution"}),"\n",(0,t.jsx)(n.p,{children:"After rendering has completed, the browser executes JavaScript code as a result of some timing mechanism (such as a Google Doodle animation) or user interaction (typing a query into the search box and receiving suggestions). Plugins such as Flash or Java may execute as well, although not at this time on the Google homepage. Scripts can cause additional network requests to be performed, as well as modify the page or its layout, causing another round of page rendering and painting."}),"\n",(0,t.jsx)(n.h2,{id:"problems",children:"Problems"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"What is the use case of the hook in Godrej lock 6086 (only 2 page results)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/alex/what-happens-when",children:'GitHub - alex/what-happens-when: An attempt to answer the age old interview question "What happens when you type google.com into your browser and press enter?"'})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.youtube.com/channel/UCZgt6AzoyjslHTC9dz0UoTw/community?lb=UgkxJDvMpF4jVEn4aKuBqgYa3mjJay5k8g7r",children:"Post from ByteByteGo - YouTube"})}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},929926:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/What-happens-when-you-type-a-URL-into-a-browser-cb36d5a3ce1ff8a6b9fb88dfa7f07854.webp"},28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var s=r(296540);const t={},i=s.createContext(t);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);