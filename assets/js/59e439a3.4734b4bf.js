"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[96230],{192514:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"technologies/confluent/confluent-cloud-security/23-understanding-encryption","title":"Understanding Encryption","description":"Corporate policies, industry standards, and national and international regulations may all require you to protect the privacy and integrity of the data you handle. Encryption uses mathematical techniques to scramble data so that it is meaningless if observed by someone who lacks the necessary key to decrypt it.","source":"@site/docs/technologies/confluent/confluent-cloud-security/23-understanding-encryption.md","sourceDirName":"technologies/confluent/confluent-cloud-security","slug":"/technologies/confluent/confluent-cloud-security/23-understanding-encryption","permalink":"/technologies/confluent/confluent-cloud-security/23-understanding-encryption","draft":false,"unlisted":false,"editUrl":"https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/technologies/confluent/confluent-cloud-security/23-understanding-encryption.md","tags":[],"version":"current","lastUpdatedBy":"Deepak Sood","lastUpdatedAt":1769609604000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Authorizing Using RBAC and ACLs","permalink":"/technologies/confluent/confluent-cloud-security/22-authorizing-using-rbac-and-acls"},"next":{"title":"Auditing and Monitoring your Confluent Cloud Cluster","permalink":"/technologies/confluent/confluent-cloud-security/24-auditing-and-monitoring"}}');var o=t(474848),r=t(28453);const s={},a="Understanding Encryption",l={},c=[{value:"Encryption",id:"encryption",level:2},{value:"BYOK",id:"byok",level:2},{value:"BYOK Details",id:"byok-details",level:2},{value:"Encrypt data at rest using self-managed encryption keys",id:"encrypt-data-at-rest-using-self-managed-encryption-keys",level:2},{value:"CSFLE vs. CSPE",id:"csfle-vs-cspe",level:3},{value:"SSL/TLS in Confluent Cloud/Platform",id:"ssltls-in-confluent-cloudplatform",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"understanding-encryption",children:"Understanding Encryption"})}),"\n",(0,o.jsx)(n.p,{children:"Corporate policies, industry standards, and national and international regulations may all require you to protect the privacy and integrity of the data you handle. Encryption uses mathematical techniques to scramble data so that it is meaningless if observed by someone who lacks the necessary key to decrypt it."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Encryption",src:t(132782).A+"",width:"1231",height:"590"})}),"\n",(0,o.jsx)(n.h2,{id:"encryption",children:"Encryption"}),"\n",(0,o.jsx)(n.p,{children:"There are two main areas that are crucial to protect from attackers:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Your network traffic to and from clients sometimes referred to as \u201cdata in motion\u201d"}),"\n",(0,o.jsx)(n.li,{children:"The data that is stored in Kafka, sometimes referred to as \u201cdata at rest\u201d"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Confluent Cloud encrypts your data at rest by default and provides Transport Layer Security (TLS) or TLS 1.2 encryption for your data in motion. In addition to these built-in security features, Confluent Cloud also provides the ability to bring your own key (BYOK) for data at rest, and secure networking options including VPC or VNet peering, AWS PrivateLink and Azure Private Link, AWS Transit Gateway, and Google Cloud Private Service Connect."}),"\n",(0,o.jsxs)(n.p,{children:["For more information on the available secure networking options be sure to check out the\xa0",(0,o.jsx)(n.a,{href:"https://developer.confluent.io/learn-kafka/confluent-cloud-networking/intro/",children:"Confluent Cloud Networking Course"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"byok",children:"BYOK"}),"\n",(0,o.jsx)(n.p,{children:"BYOK can be a powerful tool for ensuring the security of your data at rest. It addresses three main concerns for organizations:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"It allows for encryption at the storage layer and lets a user revoke access to the key at will. This renders any encrypted data stored in the cloud vendors\u2019 drives to be unreadable by them."}),"\n",(0,o.jsx)(n.li,{children:"It helps secure data in a scenario where a server\u2019s drive might be subpoenaed. Without access to the key, the data on the drive is essentially unreadable."}),"\n",(0,o.jsx)(n.li,{children:"It checks a box for security compliance. In a few industries, BYOK is a must-have, including banking and finance, healthcare, and government. For others, it may be a requirement from the InfoSec team."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"That said, it\u2019s important to keep in mind that BYOK has some limitations and important considerations:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"It will still allow access to the data by the Confluent and cloud platform provider and site reliability engineers (SREs) and engineering teams as long as access to the key is granted."}),"\n",(0,o.jsx)(n.li,{children:"It\u2019s only after the key authorization is revoked that access is lost. If you need to ensure that neither Confluent nor the cloud provider has access to your data, you\u2019ll need to use end-to-end encryption. You can find further information on end-to-end encryption in the Confluent documentation."}),"\n",(0,o.jsx)(n.li,{children:"With BYOK, key management relies on the customer. By implementing it, you\u2019re taking some responsibilities over from our fully managed solution. You are responsible for making sure that Confluent has access to the necessary keys. If we don\u2019t, the I/O will fail and the cluster won\u2019t function. You will learn how to secure access in the next module."}),"\n",(0,o.jsx)(n.li,{children:"Losing access to your self-managed key means the data is essentially gone too. Neither Confluent nor the cloud platform provider will be able to help you retrieve your self-managed key."}),"\n",(0,o.jsx)(n.li,{children:"BYOK can only be implemented when a dedicated cluster is created. If you have a cluster that you want to change over, you will need to spin up a new one with BYOK implemented, and then use the replicator tool to migrate your data."}),"\n",(0,o.jsx)(n.li,{children:"BYOK is only available for a Dedicated cluster. The option is not available on a basic or standard cluster."}),"\n",(0,o.jsx)(n.li,{children:"Confluent does not support manual rotation of the keys. You can, however, set an automatic key rotation policy for your key management service, and that\u2019s fully supported."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"byok-details",children:"BYOK Details"}),"\n",(0,o.jsx)(n.p,{children:"BYOK will encrypt all the data associated with that cluster, so your tiered storage, ksqlDB, and the like, will be encrypted with BYOK."}),"\n",(0,o.jsx)(n.p,{children:"Confluent provides BYOK service at no extra cost. You will see a small charge for API access to the cloud provider\u2019s KMS on your AWS or GPC invoice. At the time of publishing, the cost is somewhere around 3 cents US per 10,000 API calls."}),"\n",(0,o.jsx)(n.p,{children:"You will not see any significant reduction in performance with BYOK-enabled clusters. You will need to make sure that the keys you provide to Confluent Cloud are symmetric; asymmetric keys won\u2019t work."}),"\n",(0,o.jsx)(n.h2,{id:"encrypt-data-at-rest-using-self-managed-encryption-keys",children:"Encrypt data at rest using self-managed encryption keys"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Client-Side Field Level Encryption (CSFLE)"})," is the recommended approach to protecting sensitive data, however ",(0,o.jsx)(n.strong,{children:"Client-Side Payload Encryption (CSPE)"})," can be used in cases where you are unable to use CSFLE, for example:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"A clear schema is not yet defined or the schema is highly dynamic. If the schema is not known, a simple Avro \u201cbytes\u201d schema can be used with CSPE."}),"\n",(0,o.jsx)(n.li,{children:"The schema is extremely large, for example thousands of fields, making manual tagging impractical."}),"\n",(0,o.jsx)(n.li,{children:"A CISO team or internal mandate requires full payload encryption for all data within a message."}),"\n",(0,o.jsx)(n.li,{children:"You need to move to production quickly and plan to evolve your schema and adopt CSFLE later."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"csfle-vs-cspe",children:"CSFLE vs. CSPE"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Feature"}),(0,o.jsx)(n.th,{children:"CSFLE"}),(0,o.jsx)(n.th,{children:"CSPE"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Encryption Scope"})}),(0,o.jsx)(n.td,{children:"Encrypts specific, sensitive fields."}),(0,o.jsx)(n.td,{children:"Encrypts the entire message payload."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Rule Definition"})}),(0,o.jsx)(n.td,{children:"Requires defining fields via tags."}),(0,o.jsx)(n.td,{children:"No tag definition is required since the entire payload is encrypted."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Rule Type"})}),(0,o.jsxs)(n.td,{children:["Uses the\xa0",(0,o.jsx)(n.code,{children:"ENCRYPT"}),"\xa0rule type (Domain Rule)."]}),(0,o.jsxs)(n.td,{children:["Uses the\xa0",(0,o.jsx)(n.strong,{children:"ENCRYPT_PAYLOAD"}),"\xa0rule type (Encoding Rule)."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Access Granularity"})}),(0,o.jsx)(n.td,{children:"Allows separation of encrypted and non-encrypted fields; fields not encrypted are readable."}),(0,o.jsx)(n.td,{children:"Provides all-or-nothing access to the data; the consumer accesses all data or none."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Rule Structure"})}),(0,o.jsx)(n.td,{children:"Schema Subject + Tags + KEK."}),(0,o.jsx)(n.td,{children:"Schema Subject + KEK."})]})]})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://docs.confluent.io/cloud/current/security/encrypt/overview.html",children:"Encrypt and protect data on Confluent Cloud | Confluent Documentation"})}),"\n",(0,o.jsx)(n.h2,{id:"ssltls-in-confluent-cloudplatform",children:"SSL/TLS in Confluent Cloud/Platform"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.confluent.io/cloud/current/security/encrypt/tls.html",children:"Manage data in transit with TLS on Confluent Cloud | Confluent Documentation"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.confluent.io/platform/current/security/security_tutorial.html",children:"Enable Security for a KRaft-Based Cluster in Confluent Platform | Confluent Documentation"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},132782:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/Screenshot 2025-12-10 at 12.59.22 AM-87e6b1beeb88090e1e41f34a617e734b.png"},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(296540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);