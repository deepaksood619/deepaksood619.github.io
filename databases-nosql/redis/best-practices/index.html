<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-databases-nosql/redis/best-practices" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Best Practices | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_compressed.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_compressed.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/databases-nosql/redis/best-practices"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Best Practices | Deep Notes"><meta data-rh="true" name="description" content="- Introduction"><meta data-rh="true" property="og:description" content="- Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/databases-nosql/redis/best-practices"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases-nosql/redis/best-practices" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases-nosql/redis/best-practices" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"NoSQL Databases","item":"https://deepaksood619.github.io/databases-nosql/"},{"@type":"ListItem","position":2,"name":"Redis","item":"https://deepaksood619.github.io/databases-nosql/redis/"},{"@type":"ListItem","position":3,"name":"Best Practices","item":"https://deepaksood619.github.io/databases-nosql/redis/best-practices"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(53, 120, 229)">


<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.9f55d0bd.css">
<script src="/assets/js/runtime~main.2f20625f.js" defer="defer"></script>
<script src="/assets/js/main.db2a94d1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/deepaksood619" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.linkedin.com/in/deepaksood619/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/about-deepak-sood/">About Deepak Sood</a><button aria-label="Expand sidebar category &#x27;About Deepak Sood&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/computer-science/">Computer Science</a><button aria-label="Expand sidebar category &#x27;Computer Science&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-warehouses/">Data Warehouses</a><button aria-label="Expand sidebar category &#x27;Data Warehouses&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases/">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/databases-nosql/">NoSQL Databases</a><button aria-label="Collapse sidebar category &#x27;NoSQL Databases&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases-nosql/aws-dynamodb/">DynamoDB</a><button aria-label="Expand sidebar category &#x27;DynamoDB&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases-nosql/cassandra/">Cassandra</a><button aria-label="Expand sidebar category &#x27;Cassandra&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/column-family">Column family</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/comparisons">Comparisons</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases-nosql/druid/">Druid</a><button aria-label="Expand sidebar category &#x27;Druid&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/duckdb">DuckDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/etcd">etcd</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases-nosql/milvus/">Milvus</a><button aria-label="Expand sidebar category &#x27;Milvus&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases-nosql/mongodb/">MongoDB</a><button aria-label="Expand sidebar category &#x27;MongoDB&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/others">Other NoSQL Databases</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/databases-nosql/redis/">Redis</a><button aria-label="Collapse sidebar category &#x27;Redis&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/databases-nosql/redis/best-practices">Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/redis/commands">Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/redis/documentation">Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/redis/intro">Redis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/redis/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/redis/redis-concepts">Redis Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/redis/redis-data-types">Redis Data Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/redis/redis-eviction-policies">Redis Eviction Policies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/redis/redis-py">redis-py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/redis/redis-queues">Redis Queues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/redis/redis-streams-pubsub">Redis Streams / PUBSUB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/redis/scaling">Scaling</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/tidb">tidb</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases-nosql/time-series-db/">Time Series</a><button aria-label="Expand sidebar category &#x27;Time Series&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases-nosql/vector-databases/">Vector Databases</a><button aria-label="Expand sidebar category &#x27;Vector Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/databases-nosql/yugabytedb">YugabyteDB</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases-sql/">SQL Databases</a><button aria-label="Expand sidebar category &#x27;SQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/devops/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/education/">Education</a><button aria-label="Expand sidebar category &#x27;Education&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deepak&#x27;s Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/databases-nosql/"><span>NoSQL Databases</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/databases-nosql/redis/"><span>Redis</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Best Practices</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Best Practices</h1></header>
<ul>
<li><a href="https://redislabs.com/redis-best-practices/introduction/" target="_blank" rel="noopener noreferrer">Introduction</a></li>
<li><a href="https://redislabs.com/redis-best-practices/indexing-patterns/" target="_blank" rel="noopener noreferrer">Indexing Patterns</a></li>
</ul>
<p><a href="https://redis.io/topics/indexes-" target="_blank" rel="noopener noreferrer">https://redis.io/topics/indexes-</a> <a href="https://redislabs.com/redis-best-practices/indexing-patterns/sorted-sets-indexes/" target="_blank" rel="noopener noreferrer">Sorted Sets as Indexes</a></p>
<ul>
<li><a href="https://redislabs.com/redis-best-practices/indexing-patterns/lexicographical-encoding/" target="_blank" rel="noopener noreferrer">Lexicographical Encoding</a></li>
<li><a href="https://redislabs.com/redis-best-practices/indexing-patterns/geospatial/" target="_blank" rel="noopener noreferrer">Geospatial</a></li>
<li><a href="https://redislabs.com/redis-best-practices/indexing-patterns/ip-range-indexing/" target="_blank" rel="noopener noreferrer">IP Range Indexing</a></li>
<li><a href="https://redislabs.com/redis-best-practices/indexing-patterns/full-text-search/" target="_blank" rel="noopener noreferrer">Full Text Search</a></li>
<li><a href="https://redislabs.com/redis-best-practices/indexing-patterns/partitioned-index/" target="_blank" rel="noopener noreferrer">Partitioned Index</a>- <a href="https://redislabs.com/redis-best-practices/communication-patterns/" target="_blank" rel="noopener noreferrer">Communication Patterns</a>
<ul>
<li><a href="https://redislabs.com/redis-best-practices/communication-patterns/event-queue/" target="_blank" rel="noopener noreferrer">Event Queue</a></li>
<li><a href="https://redislabs.com/redis-best-practices/communication-patterns/redlock/" target="_blank" rel="noopener noreferrer">Redlock</a></li>
</ul>
</li>
</ul>
<p>In a system, sometimes you must lock a resource. This might be to make critical modifications that cannot be resolved in any concurrent way. The goals for locks are:</p>
<ul>
<li>One worker (and only one) worked to be able to acquire rights to a resource</li>
<li>Be able to release this lock reliably</li>
<li>Not deadlock any resource meaning that a resource should be unlocked after a given time period.
Redis is a good option locking since has a simple key-based data model, each shard is single-threaded, and is quite quick. There is a well-established, canonical implementations of locking using Redis called Redlock.- <a href="https://redislabs.com/redis-best-practices/communication-patterns/pub-sub/" target="_blank" rel="noopener noreferrer">Pub/Sub</a></li>
<li><a href="https://redislabs.com/redis-best-practices/communication-patterns/distributed-events/" target="_blank" rel="noopener noreferrer">Distributed Events</a>- <a href="https://redislabs.com/redis-best-practices/data-storage-patterns/" target="_blank" rel="noopener noreferrer">Data Storage Patterns</a>
<ul>
<li><a href="https://redislabs.com/redis-best-practices/data-storage-patterns/json-storage/" target="_blank" rel="noopener noreferrer">JSON Storage</a></li>
<li><a href="https://redislabs.com/redis-best-practices/data-storage-patterns/object-hash-storage/" target="_blank" rel="noopener noreferrer">Object-&gt;Hash Storage</a></li>
</ul>
</li>
<li><a href="https://redislabs.com/redis-best-practices/time-series/" target="_blank" rel="noopener noreferrer">Time Series Patterns</a>
<ul>
<li><a href="https://redislabs.com/redis-best-practices/time-series/sorted-set-time-series/" target="_blank" rel="noopener noreferrer">Sorted Set Time Series</a></li>
<li><a href="https://redislabs.com/redis-best-practices/time-series/lexicographic-sorted-set-time-series/" target="_blank" rel="noopener noreferrer">Lexicographic Sorted Set Time Series</a></li>
<li><a href="https://redislabs.com/redis-best-practices/time-series/time-series-bitfields/" target="_blank" rel="noopener noreferrer">Time Series with Bitfields</a></li>
</ul>
</li>
<li><a href="https://redislabs.com/redis-best-practices/basic-rate-limiting/" target="_blank" rel="noopener noreferrer">Basic Rate Limiting Pattern</a></li>
<li><a href="https://redislabs.com/redis-best-practices/bloom-filter-pattern/" target="_blank" rel="noopener noreferrer">Bloom Filter Pattern</a></li>
<li><a href="https://redislabs.com/redis-best-practices/counting/" target="_blank" rel="noopener noreferrer">Counting</a>
<ul>
<li><a href="https://redislabs.com/redis-best-practices/counting/bit-counting-pattern/" target="_blank" rel="noopener noreferrer">Bit Counting Pattern</a></li>
<li><a href="https://redislabs.com/redis-best-practices/counting/hyperloglog/" target="_blank" rel="noopener noreferrer">HyperLogLog</a></li>
</ul>
</li>
<li><a href="https://redislabs.com/redis-best-practices/lua-helpers/" target="_blank" rel="noopener noreferrer">Lua Helpers</a>
<a href="https://redislabs.com/redis-best-practices" target="_blank" rel="noopener noreferrer">https://redislabs.com/redis-best-practices</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-and-performance-tuning">Best practices and performance tuning<a href="#best-practices-and-performance-tuning" class="hash-link" aria-label="Direct link to Best practices and performance tuning" title="Direct link to Best practices and performance tuning">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tcp-keepalive">TCP-KeepAlive<a href="#tcp-keepalive" class="hash-link" aria-label="Direct link to TCP-KeepAlive" title="Direct link to TCP-KeepAlive">​</a></h2>
<p>Keepalive is a method to allow the same TCP connection for HTTP conversation instead of opening a new one with each new request.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pipelining">Pipelining<a href="#pipelining" class="hash-link" aria-label="Direct link to Pipelining" title="Direct link to Pipelining">​</a></h2>
<p>Pipelining facilitates a client to send multiple requests to the server without waiting for the replies at all and finally reads the reply in a single step.
Pipelines are a subclass of the base Redis class that provide support for buffering multiple commands to the server in a single request. They can be used to dramatically increase the performance of groups of commands by reducing the number of back-and-forth TCP packets between the client and server.</p>
<p><a href="https://github.com/andymccurdy/redis-py#pipelines" target="_blank" rel="noopener noreferrer">https://github.com/andymccurdy/redis-py#pipelines</a>
Pipelining isn&#x27;t a silver bullet - you need to understand what it does before you use it. What pipelining does is batch several operations that are sent as bulk, as is their response from the server. What you gain is that the network round trip time for each operation is replaced by that of the batch. But infinitely-sized batches are a real drain on resource - you need to keep their size small enough to be effective. As a rule of thumb I usually try to aim to 60KB per pipeline and since every data is different, so does the number of actual operations in a pipeline. Assuming that your key and its value are ~1KB, you need to callpipeline.execute()every 60 operations or so.</p>
<p><a href="https://stackoverflow.com/questions/32149626/how-to-insert-billion-of-data-to-redis-efficiently" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/32149626/how-to-insert-billion-of-data-to-redis-efficiently</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mass-insertion--bulk-inserts">Mass Insertion / Bulk Inserts<a href="#mass-insertion--bulk-inserts" class="hash-link" aria-label="Direct link to Mass Insertion / Bulk Inserts" title="Direct link to Mass Insertion / Bulk Inserts">​</a></h2>
<p><a href="https://redis.io/topics/mass-insert" target="_blank" rel="noopener noreferrer">https://redis.io/topics/mass-insert</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="max-connection">Max-Connection<a href="#max-connection" class="hash-link" aria-label="Direct link to Max-Connection" title="Direct link to Max-Connection">​</a></h2>
<p>define the maximum connection limit to the Redis Server.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overcommit-memory">Overcommit memory<a href="#overcommit-memory" class="hash-link" aria-label="Direct link to Overcommit memory" title="Direct link to Overcommit memory">​</a></h2>
<p>Overcommit memory is a kernel parameter which checks if the memory is available or not. If the overcommit memory value is 0 then there is a chance that your Redis will get OOM (Out of Memory) error.</p>
<p><code>echo &#x27;vm.overcommit_memory = 1&#x27; &gt;&gt; /etc/sysctl.conf</code></p>
<table><thead><tr><th><strong>Config Option</strong></th><th><strong>Value</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td>maxmemory</td><td>70% of the system</td><td>maxmemory should be 70 percent of the system so that it will not take all the resource of the server.</td></tr><tr><td>maxmemory-policy</td><td>volatile-lru</td><td>It adds a random key with an expiry time</td></tr><tr><td>loglevel</td><td>notice</td><td>Loglevel should be &quot;notice&quot;, so that log will not take too much resource</td></tr><tr><td>timeout</td><td>300</td><td>There should be a timeout value as well in redis configuration which prevents redis from spending too much time on the connection. It closes the connection of the client if it is ideal for more than 300 seconds.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="memory-optimizations">Memory Optimizations<a href="#memory-optimizations" class="hash-link" aria-label="Direct link to Memory Optimizations" title="Direct link to Memory Optimizations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compress-values"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/compress-values/" target="_blank" rel="noopener noreferrer">Compress Values</a><a href="#compress-values" class="hash-link" aria-label="Direct link to compress-values" title="Direct link to compress-values">​</a></h3>
<p>Redis and clients are typically IO bound and the IO costs are typically at least 2 orders of magnitude in respect to the rest of the request/reply sequence. <strong>Redis by default does not compress any value that is stored in it</strong>, hence it becomes important to compress your data before storing in Redis. This helps in reducing the payload which in return gives you higher throughput, lower latency and higher savings in your cost.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-smaller-keys"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/use-smaller-keys/" target="_blank" rel="noopener noreferrer">Use Smaller Keys</a><a href="#use-smaller-keys" class="hash-link" aria-label="Direct link to use-smaller-keys" title="Direct link to use-smaller-keys">​</a></h3>
<p>Redis keys can play a devil in increasing the memory consumption for your Redis instances. In general, you should always prefer descriptive keys but if you have a large dataset having millions of keys then these large keys can eat a lot of your money. How to Convert to Smaller Keys In a well written application, switching to shorter keys usually involves updating a few constant strings in the application code.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="switch-to-32-bits"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/switch-to-32-bits/" target="_blank" rel="noopener noreferrer">Switch to 32 Bits</a><a href="#switch-to-32-bits" class="hash-link" aria-label="Direct link to switch-to-32-bits" title="Direct link to switch-to-32-bits">​</a></h3>
<p>Redis gives you the following statistics for a 64-bit machine. An empty instance uses ~ 3MB of memory. 1 Million small Keys -&gt; String Value pairs use ~ 85MB of memory. 1 Million Keys -&gt; Hash value, representing an object with 5 fields, use ~ 160 MB of memory. 64-bit has more memory available as compared to a 32-bit machine. <strong>But if you are sure that your data size does not exceed 3 GB then storing in 32 bits is a good option.</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-redis-version"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/upgrade-redis-version/" target="_blank" rel="noopener noreferrer">Upgrade Redis Version</a><a href="#upgrade-redis-version" class="hash-link" aria-label="Direct link to upgrade-redis-version" title="Direct link to upgrade-redis-version">​</a></h3>
<p>Redis 4.0 is the latest version that has been launched. It contains various big improvements compared to the previous versions. It supports mixed RDB+AOF Format. Improvement in memory usage and performance. New Memory Command has been introduced. Active Memory Defragmentation. Faster Redis Cluster key creation. Trade Offs Redis 4.0 is still not a stable release but is a very battle tested release, so Redis 3.2 is a better pick for critical applications till Redis 4.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-better-serializer"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/use-better-serializer/" target="_blank" rel="noopener noreferrer">Use Better Serializer</a><a href="#use-better-serializer" class="hash-link" aria-label="Direct link to use-better-serializer" title="Direct link to use-better-serializer">​</a></h3>
<p>Redis does not have any specific data type to store the serialized objects, they are stored as byte array in Redis. If we are using regular means of serializing our java, python and PHP objects, they can be of larger size which impacts the memory consumption and latency. Which Serializers to Use Instead of default serializer of your programming language (java serialzed objects, python pickle, PHP serialize etc), switch to a better library.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="combine-smaller-strings-to-hashes"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/combine-smaller-strings-to-hash/" target="_blank" rel="noopener noreferrer">Combine Smaller Strings to Hashes</a><a href="#combine-smaller-strings-to-hashes" class="hash-link" aria-label="Direct link to combine-smaller-strings-to-hashes" title="Direct link to combine-smaller-strings-to-hashes">​</a></h3>
<p>Strings data type has an overhead of about 90 bytes on a 64 bit machine. In other words, calling set foo bar uses about 96 bytes, of which 90 bytes is overhead. You should use the String data type only if: The value is at least greater than 100 bytes You are storing encoded data in the string - JSON encoded or Protocol buffer You are using the string data type as an array or a bitset If you are not doing any of the above, then use Hashes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="switch-from-set-to-intset"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/switch-set-to-intset/" target="_blank" rel="noopener noreferrer">Switch from Set to Intset</a><a href="#switch-from-set-to-intset" class="hash-link" aria-label="Direct link to switch-from-set-to-intset" title="Direct link to switch-from-set-to-intset">​</a></h3>
<p>Sets that contain only integers are extremely efficient memory wise. If your set contains strings, try to use integers by mapping string identifiers to integers. You can either use enums in your programming language, or you can use a redis hash data structure to map values to integers. Once you switch to integers, Redis uses the IntSet encoding internally. This encoding is extremely memory efficient. By default, the value of set-max-intset-entries is 512, but you can set this value in redis.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="switch-to-bloom-filter-or-hyperloglog"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/switch-to-bloom-filters/" target="_blank" rel="noopener noreferrer">Switch to bloom filter or hyperloglog</a><a href="#switch-to-bloom-filter-or-hyperloglog" class="hash-link" aria-label="Direct link to switch-to-bloom-filter-or-hyperloglog" title="Direct link to switch-to-bloom-filter-or-hyperloglog">​</a></h3>
<p>Unique items can be difficult to count. Usually this means storing every unique item then recalling this information somehow. With Redis, this can be accomplished by using a set and a single command, however both the storage and time complexity of this with very large sets is prohibitive. HyperLogLog provides a probabilistic alternative. If your set contains a very large number of elements, and you are only using the set for existence checks or to eliminate duplicates - then you benefit by using a bloom filter.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="shard-big-hashes-to-small-hashes"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/shard-big-hash-to-small-hash/" target="_blank" rel="noopener noreferrer">Shard Big Hashes to Small Hashes</a><a href="#shard-big-hashes-to-small-hashes" class="hash-link" aria-label="Direct link to shard-big-hashes-to-small-hashes" title="Direct link to shard-big-hashes-to-small-hashes">​</a></h3>
<p>If you have a hash with large number of key, value pairs, and if each key, value pair is small enough - break it into smaller hashes to save memory. To shard a HASH table, we need to choose a method of partitioning our data. Hashes themselves have keys which can be used for partitioning the keys into different shards. The number of shards are determined by the total number of keys we want to store and the shard size.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="convert-hashtable-to-ziplist-for-hashes"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/convert-hash-to-ziplist/" target="_blank" rel="noopener noreferrer">Convert Hashtable to Ziplist for Hashes</a><a href="#convert-hashtable-to-ziplist-for-hashes" class="hash-link" aria-label="Direct link to convert-hashtable-to-ziplist-for-hashes" title="Direct link to convert-hashtable-to-ziplist-for-hashes">​</a></h3>
<p>Hashes have two types of encoding- HashTable and Ziplist. The decision of storing in which of the data structures in done based on the two configurations Redis provides - hash-max-ziplist-entries and hash-max-ziplist-values. By default the redis conf has these settings as: hash-max-ziplist-entries = 512 hash-max-ziplist-values = 64 So if any value for a key exceeds the two configurations it is stored automatically as a Hashtable instead of a Ziplist.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="convert-to-a-list-instead-of-hash"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/convert-to-list-instead-of-hash/" target="_blank" rel="noopener noreferrer">Convert to a List Instead of Hash</a><a href="#convert-to-a-list-instead-of-hash" class="hash-link" aria-label="Direct link to convert-to-a-list-instead-of-hash" title="Direct link to convert-to-a-list-instead-of-hash">​</a></h3>
<p>A Redis Hash stores field names and values. If you have thousands of small hash objects with similar field names, the memory used by field names adds up. To prevent this, consider using a list instead of a hash. The field names become indexes into the list. While this may save memory, you should only use this approach if you have thousands of hashes, and if each of those hashes have similar fields.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compress-field-names"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/compress-field-names/" target="_blank" rel="noopener noreferrer">Compress Field Names</a><a href="#compress-field-names" class="hash-link" aria-label="Direct link to compress-field-names" title="Direct link to compress-field-names">​</a></h3>
<p>Redis Hash consists of Fields and their values. Like values, field name also consumes memory, so it is required to keep in mind while assigning field names. If you have a large number of hashes with similar field names, the memory adds up significantly. To reduce memory usage, you can use smaller field names. What do We Mean By Compress Field Names Referring to the previous example in convert hashes to list, we had a hash having user details.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="avoid-dynamic-lua-script"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/avoid-dynamic-lua-script/" target="_blank" rel="noopener noreferrer">Avoid Dynamic Lua Script</a><a href="#avoid-dynamic-lua-script" class="hash-link" aria-label="Direct link to avoid-dynamic-lua-script" title="Direct link to avoid-dynamic-lua-script">​</a></h3>
<p>Refrain from generating dynamic scripts, which can cause your Lua cache to grow and get out of control. Memory is consumed as we have scripts loaded. The memory consumption are because of the following factors. Memory used by the server.lua_scripts dictionary holding original text memory used internally by Lua to keep the compiled byte-code. So If you have to use dynamic scripting, then just use plain EVAL, as there&#x27;s no point in loading them first.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable-compression-for-list"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/enable-compression-for-list/" target="_blank" rel="noopener noreferrer">Enable Compression for List</a><a href="#enable-compression-for-list" class="hash-link" aria-label="Direct link to enable-compression-for-list" title="Direct link to enable-compression-for-list">  ​</a></h3>
<p>List is just a link list of arrays, where none of the arrays are compressed. By default, redis does not compress elements inside a list. However, if you use long lists, and mostly access elements from the head and tail only, then you can enable compression. We have two configurations: List-max-ziplist-size: 8kb(default) List-compression-depth: 0,1,2 (0 by default) A configuration change in redis.conf list-compression-depth=1 helps you achieve compression. What is compression-depth Compression depth is the number of list nodes from each end of the list to leave untouched before we start compressing inner nodes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reclaim-expired-keys-memory-faster"><a href="https://docs.redislabs.com/latest/ri/memory-optimizations/reclaim-expired-keys-memory-faster/" target="_blank" rel="noopener noreferrer">Reclaim Expired Keys Memory Faster</a><a href="#reclaim-expired-keys-memory-faster" class="hash-link" aria-label="Direct link to reclaim-expired-keys-memory-faster" title="Direct link to reclaim-expired-keys-memory-faster">​</a></h3>
<p>When you set an expiry on a key, redis does not expire it at that instant. Instead, it uses a randomized algorithm to find out keys that should be expired. Since this algorithm is random, there are chances that the keys are not expired. This means that redis consumes memory to hold keys that have already expired. The moment the key is accessed, it is deleted. If there are only a few keys that have expired and redis hasn&#x27;t deleted them - it is fine.</p>
<p><a href="https://docs.redislabs.com/latest/ri/memory-optimizations" target="_blank" rel="noopener noreferrer">https://docs.redislabs.com/latest/ri/memory-optimizations</a></p>
<p><a href="https://redis.io/topics/memory-optimization" target="_blank" rel="noopener noreferrer">https://redis.io/topics/memory-optimization</a></p>
<p><a href="https://cloud.google.com/memorystore/docs/redis/memory-management-best-practices" target="_blank" rel="noopener noreferrer">https://cloud.google.com/memorystore/docs/redis/memory-management-best-practices</a></p>
<p><a href="https://www.datadoghq.com/pdf/Understanding-the-Top-5-Redis-Performance-Metrics.pdf" target="_blank" rel="noopener noreferrer">https://www.datadoghq.com/pdf/Understanding-the-Top-5-Redis-Performance-Metrics.pdf</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-metrics">Performance Metrics<a href="#performance-metrics" class="hash-link" aria-label="Direct link to Performance Metrics" title="Direct link to Performance Metrics">​</a></h2>
<ol>
<li>Memory Usage: used_memory</li>
<li>Number of commands processed: total_commands_processed</li>
<li>Latency</li>
<li>Fragmentation Ratio</li>
<li>Evictions</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="parsers">Parsers<a href="#parsers" class="hash-link" aria-label="Direct link to Parsers" title="Direct link to Parsers">​</a></h2>
<p>Parser classes provide a way to control how responses from the Redis server are parsed. redis-py ships with two parser classes, the PythonParser and the Hiredis Parser. By default, redis-py will attempt to use the Hiredis Parser if you have the hiredis module installed and will fallback to the PythonParser otherwise.</p>
<p>Hiredis is a C library maintained by the core Redis team. Pieter Noordhu is was kind enough to create Python bindings. Using Hiredis can provide up to a 10x speed improvement in parsing responses from the Redis server. The performance increase is most noticeable when retrieving many pieces of data, such as from LRANGE or SMEMBERS operations.</p>
<p><code>$ pip install hiredis</code></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases-nosql/redis/best-practices.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-06-10T17:10:38.000Z" itemprop="dateModified">Jun 10, 2025</time></b> by <b>Deepak</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/databases-nosql/redis/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Redis</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/databases-nosql/redis/commands"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Commands</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#best-practices-and-performance-tuning" class="table-of-contents__link toc-highlight">Best practices and performance tuning</a></li><li><a href="#tcp-keepalive" class="table-of-contents__link toc-highlight">TCP-KeepAlive</a></li><li><a href="#pipelining" class="table-of-contents__link toc-highlight">Pipelining</a></li><li><a href="#mass-insertion--bulk-inserts" class="table-of-contents__link toc-highlight">Mass Insertion / Bulk Inserts</a></li><li><a href="#max-connection" class="table-of-contents__link toc-highlight">Max-Connection</a></li><li><a href="#overcommit-memory" class="table-of-contents__link toc-highlight">Overcommit memory</a></li><li><a href="#memory-optimizations" class="table-of-contents__link toc-highlight">Memory Optimizations</a><ul><li><a href="#compress-values" class="table-of-contents__link toc-highlight">Compress Values</a></li><li><a href="#use-smaller-keys" class="table-of-contents__link toc-highlight">Use Smaller Keys</a></li><li><a href="#switch-to-32-bits" class="table-of-contents__link toc-highlight">Switch to 32 Bits</a></li><li><a href="#upgrade-redis-version" class="table-of-contents__link toc-highlight">Upgrade Redis Version</a></li><li><a href="#use-better-serializer" class="table-of-contents__link toc-highlight">Use Better Serializer</a></li><li><a href="#combine-smaller-strings-to-hashes" class="table-of-contents__link toc-highlight">Combine Smaller Strings to Hashes</a></li><li><a href="#switch-from-set-to-intset" class="table-of-contents__link toc-highlight">Switch from Set to Intset</a></li><li><a href="#switch-to-bloom-filter-or-hyperloglog" class="table-of-contents__link toc-highlight">Switch to bloom filter or hyperloglog</a></li><li><a href="#shard-big-hashes-to-small-hashes" class="table-of-contents__link toc-highlight">Shard Big Hashes to Small Hashes</a></li><li><a href="#convert-hashtable-to-ziplist-for-hashes" class="table-of-contents__link toc-highlight">Convert Hashtable to Ziplist for Hashes</a></li><li><a href="#convert-to-a-list-instead-of-hash" class="table-of-contents__link toc-highlight">Convert to a List Instead of Hash</a></li><li><a href="#compress-field-names" class="table-of-contents__link toc-highlight">Compress Field Names</a></li><li><a href="#avoid-dynamic-lua-script" class="table-of-contents__link toc-highlight">Avoid Dynamic Lua Script</a></li><li><a href="#enable-compression-for-list" class="table-of-contents__link toc-highlight">Enable Compression for List</a></li><li><a href="#reclaim-expired-keys-memory-faster" class="table-of-contents__link toc-highlight">Reclaim Expired Keys Memory Faster</a></li></ul></li><li><a href="#performance-metrics" class="table-of-contents__link toc-highlight">Performance Metrics</a></li><li><a href="#parsers" class="table-of-contents__link toc-highlight">Parsers</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>