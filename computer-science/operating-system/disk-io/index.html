<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-computer-science/operating-system/disk-io" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Disk IO | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/computer-science/operating-system/disk-io"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Disk IO | Deep Notes"><meta data-rh="true" name="description" content="IO"><meta data-rh="true" property="og:description" content="IO"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/computer-science/operating-system/disk-io"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/computer-science/operating-system/disk-io" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/computer-science/operating-system/disk-io" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Computer Science","item":"https://deepaksood619.github.io/computer-science/"},{"@type":"ListItem","position":2,"name":"Operating System","item":"https://deepaksood619.github.io/computer-science/operating-system/"},{"@type":"ListItem","position":3,"name":"Disk IO","item":"https://deepaksood619.github.io/computer-science/operating-system/disk-io"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(53, 120, 229)">


<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.9f55d0bd.css">
<script src="/assets/js/runtime~main.7b3a7cc3.js" defer="defer"></script>
<script src="/assets/js/main.c96be3a1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/deepaksood619" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.linkedin.com/in/deepaksood619/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/about-deepak-sood/">About Deepak Sood</a><button aria-label="Expand sidebar category &#x27;About Deepak Sood&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/computer-science/">Computer Science</a><button aria-label="Collapse sidebar category &#x27;Computer Science&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/distributed-system/">Distributed System</a><button aria-label="Expand sidebar category &#x27;Distributed System&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/general/">General</a><button aria-label="Expand sidebar category &#x27;General&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/interview-question/">Interview Question</a><button aria-label="Expand sidebar category &#x27;Interview Question&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/iot/">IOT</a><button aria-label="Expand sidebar category &#x27;IOT&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/links">Links</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/computer-science/operating-system/">Operating System</a><button aria-label="Collapse sidebar category &#x27;Operating System&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/basic-computer-organization">Basic Computer Organization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/cache-access-patterns">Cache Access Patterns (Writing Policies)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/cache-coherence-invalidation">Cache Coherence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/caches-caching">Caches / Caching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/caching-strategies-topologies">Caching Strategies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/compilers">Compilers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/concepts">Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/concurrency-models-async">Concurrency Models - Async</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/concurrency-problems">Concurrency Problems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/concurrency-threading">Concurrency / Threading</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/coroutines">Coroutines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/cpu-gpu-tpu">CPU | GPU | TPU</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/computer-science/operating-system/disk-io">Disk IO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/dram">DRAM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/intro">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/journaling-file-system">Journaling File System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/memory-allocation">Memory Allocation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/memory-layout">Memory Layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/memory-mapping-mmap">Memory Mapping mmap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/memory">Memory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/microprocessor">Microprocessor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/parallel-processing">Parallel Processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/raid">RAID</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/scheduling">Scheduling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/swap-paging-caching">Swap / Paging / Caching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/unix-linux-file-system">Unix / Linux File System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/unix-linux">Unix / Linux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/write-ahead-log-wal">Write Ahead Log, WAL</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/others/">Others</a><button aria-label="Expand sidebar category &#x27;Others&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/programming-concepts/">Programming Concepts</a><button aria-label="Expand sidebar category &#x27;Programming Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/programming-paradigms/">Programming Paradigms</a><button aria-label="Expand sidebar category &#x27;Programming Paradigms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/security/">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/software-engineering/">Software Engineering</a><button aria-label="Expand sidebar category &#x27;Software Engineering&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/system-design/">System Design</a><button aria-label="Expand sidebar category &#x27;System Design&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/testing/">Testing</a><button aria-label="Expand sidebar category &#x27;Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-warehouses/">Data Warehouses</a><button aria-label="Expand sidebar category &#x27;Data Warehouses&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases/">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases-nosql/">NoSQL Databases</a><button aria-label="Expand sidebar category &#x27;NoSQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases-sql/">SQL Databases</a><button aria-label="Expand sidebar category &#x27;SQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/devops/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/education/">Education</a><button aria-label="Expand sidebar category &#x27;Education&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deepak&#x27;s Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/computer-science/"><span>Computer Science</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/computer-science/operating-system/"><span>Operating System</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Disk IO</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Disk IO</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="io">IO<a href="#io" class="hash-link" aria-label="Direct link to IO" title="Direct link to IO">​</a></h2>
<ul>
<li>Syscalls: <a href="http://man7.org/linux/man-pages/man2/open.2.html" target="_blank" rel="noopener noreferrer">open</a>, <a href="http://man7.org/linux/man-pages/man2/write.2.html" target="_blank" rel="noopener noreferrer">write</a>, <a href="http://man7.org/linux/man-pages/man2/read.2.html" target="_blank" rel="noopener noreferrer">read</a>, <a href="http://man7.org/linux/man-pages/man2/fsync.2.html" target="_blank" rel="noopener noreferrer">fsync</a>, <a href="http://man7.org/linux/man-pages/man2/sync.2.html" target="_blank" rel="noopener noreferrer">sync</a>, <a href="http://man7.org/linux/man-pages/man2/close.2.html" target="_blank" rel="noopener noreferrer">close</a></li>
<li>Standard IO: <a href="https://linux.die.net/man/3/fopen" target="_blank" rel="noopener noreferrer">fopen</a>, <a href="https://linux.die.net/man/3/fwrite" target="_blank" rel="noopener noreferrer">fwrite</a>, <a href="https://linux.die.net/man/3/fread" target="_blank" rel="noopener noreferrer">fread</a>, <a href="https://linux.die.net/man/3/fflush" target="_blank" rel="noopener noreferrer">fflush</a>, <a href="https://linux.die.net/man/3/fclose" target="_blank" rel="noopener noreferrer">fclose</a></li>
<li>Vectored IO: <a href="https://linux.die.net/man/2/writev" target="_blank" rel="noopener noreferrer">writev</a>, <a href="https://linux.die.net/man/2/readv" target="_blank" rel="noopener noreferrer">readv</a></li>
<li>Memory mapped IO: <a href="http://man7.org/linux/man-pages/man2/open.2.html" target="_blank" rel="noopener noreferrer">open</a>, <a href="http://man7.org/linux/man-pages/man2/mmap.2.html" target="_blank" rel="noopener noreferrer">mmap</a>, <a href="http://man7.org/linux/man-pages/man2/msync.2.html" target="_blank" rel="noopener noreferrer">msync</a>, <a href="http://man7.org/linux/man-pages/man2/munmap.2.html" target="_blank" rel="noopener noreferrer">munmap</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="buffered-io">Buffered IO<a href="#buffered-io" class="hash-link" aria-label="Direct link to Buffered IO" title="Direct link to Buffered IO">​</a></h2>
<p>setvbuf</p>
<p>The three types of buffering available are unbuffered, block buffered, and line buffered. When an output stream is unbuffered, information appears on the destination file or terminal as soon as written; when it is block buffered many characters are saved up and written as a block; when it is line buffered characters are saved up until a newline is output or input is read from any stream attached to a terminal device (typicallystdin)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sectorblockpage">Sector/Block/Page<a href="#sectorblockpage" class="hash-link" aria-label="Direct link to Sector/Block/Page" title="Direct link to Sector/Block/Page">​</a></h2>
<p><em>Block Device</em> is a special file type providing buffered access to hardware devices such as HDDs or SSDs. Block Devices work act upon <em>sectors</em>, group of adjacent bytes. Most disk devices have a sector size of 512 bytes. Sector is the smallest unit of data transfer for block device, it is not possible to transfer less than one sector worth of data. However, often it is possible to fetch multiple adjacent segments at a time. The smallest addressable unit ofFile Systemis <em>block</em>.Block is a group of multiple adjacent sectors requested by a device driver. Typical block sizes are 512, 1024, 2048 and 4096 bytes. Usually IO is done through the <em>Virtual Memory</em>, which caches requested filesystem blocks in memory and serves as a buffer for intermediate operations. Virtual Memory works with pages, which map to filesystem blocks. Typical page size is 4096 bytes.</p>
<p>In summary, Virtual Memory <em>pages</em> map to Filesystem <em>blocks</em>, which map to Block Device <em>sectors</em></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="standard-io">Standard IO<a href="#standard-io" class="hash-link" aria-label="Direct link to Standard IO" title="Direct link to Standard IO">​</a></h2>
<p>Standard IO usesread()andwrite()syscalls for performing IO operations. When reading the data, Page Cache is addressed first. If the data is absent, thePage Faultis triggered and contents are paged in. This means that reads, performed against the currently unmapped area will take longer, as caching layer is transparent to user.</p>
<p>During writes, buffer contents are first written to Page Cache. This means that data does not reach the disk right away. The actual hardware write is done when Kernel decides it&#x27;s time to perform awritebackof thedirty page.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/Disk-IO-image1-a655473509465f2cc4ad72c4f4769c1d.jpg" width="1000" height="686" class="img_ev3q"></p>
<p>Standard IO takes a user space buffer and then copies it&#x27;s content to the page cache. When the O_DIRECT flag is used, the buffer is written directly to the blockdevice.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="page-cache">Page Cache<a href="#page-cache" class="hash-link" aria-label="Direct link to Page Cache" title="Direct link to Page Cache">​</a></h2>
<p><a href="https://github.com/torvalds/linux/blob/master/include/linux/buffer_head.h" target="_blank" rel="noopener noreferrer">Page Cache</a> stores the recently accessed fragments of files that are more likely to be accessed in the nearest time. When working with disk files, read() andwrite() calls do not initiate disk accesses directly and go through Page Cache instead.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/Disk-IO-image2-dfb58c2b473ca93c7757e29f44b2f4fc.jpg" width="609" height="615" class="img_ev3q"></p>
<p>How Buffered IO works: Applications perform reads and writes through the Kernel Page Cache, which allows sharing pages processes, serving reads from cache and throttling writes to reduceIO.</p>
<p>When the read operation is performed, the Page Cache is consulted first. If the data is already loaded in the Page Cache, it is simply copied out for the user: no disk access is performed and read is served entirely from memory. Otherwise file contents are loaded in Page Cache and then returned to the user. If Page Cache is full, least recently used pages are flushed on disk and evicted from cache to free space for new pages.</p>
<p>write() call simply copies user-space buffer to kernel Page Cache, marking the written page asdirty. Later, kernel writes modifications on disk in a process calledflushorwriteback. Actual IO normally does not happen immediately. Meanwhile, read()will supply data from the Page Cache instead of reading (now outdated) disk contents. As you can see, Page Cache is loaded both on reads and writes.</p>
<p>Pages markeddirtywill beflushedto disk as since their cached representation is now different from the one on disk. This process is called <em>writeback</em>. writeback might have potential drawbacks, such as queuing up IO requests, so it&#x27;s worth understanding thresholds and ratios that used for writeback when it&#x27;s in use and check queue depths to make sure you can avoid throttling and high latencies. You can find more information on tuning Virtual Memory in <a href="https://www.kernel.org/doc/Documentation/sysctl/vm.txt" target="_blank" rel="noopener noreferrer">Linux Kernel Documentation</a>.</p>
<p>Logic behind Page Cache is explained by<strong>Temporal localityprinciple</strong>, that states that recently accessed pages will be accessed again at some point in nearest future.</p>
<p>Another principle, <strong>Spatial Locality</strong>, implies that the elements physically located nearby have a good chance of being located close to each other. This principle is used in a process called &quot;prefetch&quot; that loads file contents ahead of time anticipating their access and amortizing some of the IO costs.</p>
<p>Page Cache also improves IO performance by delaying writes and coalescing adjacent reads.</p>
<p>Disambiguation: Buffer Cache and Page Cache: previously entirely separate concepts, <a href="https://lwn.net/Articles/712467/" target="_blank" rel="noopener noreferrer">got unified in 2.4 Linux kernel</a>. Right now it&#x27;s mostly referred to as Page Cache, but some people people still use term Buffer Cache, which became synonymous.</p>
<p>Page Cache, depending on the access pattern, holds file chunks that were recently accessed or may be accessed soon (prefetched or marked with <a href="https://medium.com/@ifesdjeen/on-disk-io-part-2-more-flavours-of-io-c945db3edb13" target="_blank" rel="noopener noreferrer">fadvise</a>). Since all IO operations are happening through Page Cache, operations sequences such asread-write-readcan be served from memory, without subsequent disk accesses.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="delaying-errors">Delaying Errors<a href="#delaying-errors" class="hash-link" aria-label="Direct link to Delaying Errors" title="Direct link to Delaying Errors">​</a></h2>
<p>When performing a write that&#x27;s backed by the kernel and/or a library buffer, it is important to make sure that the data actually reaches the disk, since it might be buffered or cached somewhere. The errors will appear when the data is flushed to disk, which can be whilefsyncing or closing the file.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="direct-io">Direct IO<a href="#direct-io" class="hash-link" aria-label="Direct link to Direct IO" title="Direct link to Direct IO">​</a></h2>
<p>There are situations when it&#x27;s undesirable to use the Kernel Page Cache to perform IO. In such cases, one can use <a href="https://ext4.wiki.kernel.org/index.php/Clarifying_Direct_IO%27s_Semantics" target="_blank" rel="noopener noreferrer">O_DIRECT</a> flag when opening a file. It instructs the Operating Systems to bypass thePage Cache, avoid storing extra copy of data and perform IO operations directly against the block device. This means that buffers are flushed directly on disk, without copying their contents to the corresponding cached page first and waiting for the Kernel to trigger a writeback.</p>
<p>For a &quot;traditional&quot; application using Direct IO will most likely cause a performance degradation rather than the speedup, but in the right hands it can help to gain a fine-grained control over IO operations and improve performance. Usually applications using this type of IO implement their own application-specific caching layer.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/Disk-IO-image3-feb1398ab9261101e72e297728ecbee9.jpg" width="591" height="416" class="img_ev3q"></p>
<p>How Direct IO works: Application bypasses the Page Cache, so the writes are made towards the hardware storage right away. This might result into performance degradation, since the Kernel buffers and caches the writes, sharing the cache contents between application. When used well, can result into major performance gains and improved memoryusage.</p>
<p>Using Direct IO is often frowned upon by the Kernel developers. It goes so far, that Linux man page quotes Linus Torwalds: &quot;<a href="http://yarchive.net/comp/linux/o_direct.html" target="_blank" rel="noopener noreferrer">The thing that has always disturbed me about O_DIRECT is that the whole interface is just stupid</a>&quot;.</p>
<p>However, databases such as <a href="https://www.postgresql.org/message-id/529F7D58.1060301%40agliodbs.com" target="_blank" rel="noopener noreferrer">PostgreSQL</a> and <a href="https://dev.mysql.com/doc/refman/5.5/en/optimizing-innodb-diskio.html" target="_blank" rel="noopener noreferrer">MySQL</a> use Direct IO for a reason. Developers can ensure fine-grained control over the data access, possibly using a custom IO Scheduler and an application-specific Buffer Cache. For example, PostgreSQL uses Direct IO for <a href="https://www.postgresql.org/docs/9.5/static/runtime-config-wal.html" target="_blank" rel="noopener noreferrer">WAL</a>(write-ahead-log), since they have to perform writes as fast as possible while ensuring its durability and can use this optimization since they know for sure that the data won&#x27;t be immediately reused, so writing it bypassing Page Cache won&#x27;t cause performance degradation.</p>
<p>It is discouraged to open the same file with Direct IO and Page Cache simultaneously, since direct operations will be performed against disk device even if the data is in Page Cache, which may lead to undesired results.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="block-alignment">Block Alignment<a href="#block-alignment" class="hash-link" aria-label="Direct link to Block Alignment" title="Direct link to Block Alignment">​</a></h2>
<p>Because Direct IO involves direct access to backing store, bypassing intermediate buffers in Page Cache, it is required that all operations are aligned to sector boundary.</p>
<p><img decoding="async" loading="lazy" alt="image" src="data:image/jpeg;base64,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PC1j5nc7mu5rua7mu5l7mXuZe5l7mXuZe5l7mXuZYzx1hpz95EREWToNh8xpXhPgh/R3O53NdzXc13NdzXc13NdzXc13Mvcyxl7mXuzL3Mvcy9zLGXYy7GXYd51efeRERF+RGRgB9P4Yk2wllsbyb7nwCIiIi3U4+bBnqa7mXua7mXuZe5B6v1k7DLobnYyobe742B3hN4YpNfY9ywyPHv8AzfJzcBcDw/Pvypmnuh11NEP6469Hx7PLcgbc3FNm/kY/vy3wOXt/vvg9X6ydiP1/weJ44Ffm+Tm96FwPD88CP1If1/hfP3+LgR+vCjl7f774PV+snYj9eOll4R4njgV+b54Ahc+B4flcCP1Jf1x1zPkfP3+LgR+vCjxf774PV+snYRdDU7mEDTXw+NgdZSyYrD+h6tlYHO3v/N88EXPgeL5XvwobeyFXW1OxH+uOufo/fzPrgZ4LkCamwoy+Sh+XhrgeB/ffB6v1/t/BLfhPkydRsrnxSIiIiIiItHIuHOy9Ob9PluR+92XuIiItBHKLK1mWeRrsa7Guxrsa7Gow9mYezMbDDoYdDDoa0MUmKTJzuhp7yIiIsHQbC5DS/LfJD+jXY12NdjXY12NdjD2NdjXY12NRrQ1oa0MbGZbMxsZh0MOhrQxQYpMUivLyse8iIiL8iMDKD6XwhNtlPDRoR1muAREREWNynHxZNRrQhgw6GtDAQer9cmNqv9RKWF+URoRoRoRoRoRoRoRoRoRoRoRoRoRoRoIUsqXxwXbeuI0I0I0I0I0I0I0I0I0I0I0I0I0I0I0I0I0I0I0I0I0I0I0H7UOei/xmBGhGhGhGhGhGg1vy3NmaFlNM+miLRjUMJ6sncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncyNRrpgZdu7+B7b8BZP//aAAwDAQACAAMAAAAQU/8A/wD/AP8A/wD/AP8A/wD88MMMMMMM3/8A/NDBBBDDDDDDDH//AP8A/wD/AP8A8sMEMk5T/wC++++u/q++15i4klT9CX++/N+iG4wNRpHC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" width="820" height="80" class="img_ev3q"></p>
<p>Examples of unaligned writes (highlighted). Left to right: the write neither starts, nor ends on the block boundary; the write starts on the block boundary, but the write size isn&#x27;t a multiple of the block size; the write doesn&#x27;t start on the block boundary.</p>
<p>In other words, every operation has to have a starting offset of a multiple of 512 and a buffer size has to be a multiple of 512 as well. When using Page Cache, because writes first go to memory, alignment is not important: when actual block device write is performed, Kernel will make sure to split the page into parts of the right size and perform aligned writes towards hardware.</p>
<p><img decoding="async" loading="lazy" alt="image" src="data:image/jpeg;base64,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n3vr2C4i6nS/f65/QOodXn/X+/YxwNH19ST4EWrWZswgaa7PnYHWUnlisP8AR1Gi/DPKycDGgrL/AEZHWE3lc7Cht+EKtip8HHh4y/rn8Yb4s6s9nz+DP4DpMn3UPy8Nc5eXlsdNEuwvX/b/AAS34TuZNjZXXmkRERERERcHQuDPhendsZSNn4ybcTicfBx8HHwcfBlRKiRDXZ8emTPhHF15tIiIiIiIiwaGwug0vy3cxDzjiWnou07TtO07Ts/PSba1a6ow8oWPdGJx8HHwcfBx8HHwcfBx8GVEqJUSolRIhjWxNtlPDRwI3Nc4iIiIiIiInwyfqQ22bby365MbivZEhhM2m02m02m02m02m02m02m0aGG/ZM6GbTabTabTabTabTabTabTabTabTabTabTabTabTabTabTabTqj9lmhZTTPpwRcGOIYT4sncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncncyOI1rAy7fJvoe29gsn//2gAMAwEAAgADAAAAEFP/AP8A/wD/AP8A/NNNNNNNt/8A/wD/AP8A/wD+w0000000000000013/8A/wD/AP8A/wDyDlP/AL777679WGmNCBRB9777777/AJqnlhZJv7xaYIuWm66++++++7c+8AAAAAAA2AnIQK0Yq+AAAAAAAt9brrp0WIqmU0Vbpl+AAAAAAAW+U/8Avvvvuv1OOqHgj1f9vvvvvv8A2mUOKRiqjlgpdWdcq7777776vT5T/wD/AP8A/wD/AP8AHHHHHHHn/wD/AP8A/wD/AP8AjHHHHHHHHHHHHHHGH/8A/wD/AP8A/wD6MP/EAB4RAAMBAQACAwEAAAAAAAAAAAABEVFhMUEQITAg/9oACAEDAQE/EAHc7nc7nc7nc7l6Xpel6VpWlaJ9O53O53O53O53IeytL0vS9L0vStK0vStK0rStK0rRO9nc7nc7nc7nc7lUfwL9A36IqwqwqwqwqwqwaTVRCcKsKsKsKsKsKsIbESVZVhVhVhVhVhVgn7Ih9FwVYVYVYVYVYXA0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" width="820" height="80" class="img_ev3q"></p>
<p>Examples of aligned writes (highlighted). Left to right: the write starts and ends on the block boundary and is exactly the size of the block; the write starts and ends on the block boundary and has a size that is a multiple of the blocksize.</p>
<p>For example, RocksDB is making sure that the operations are block-aligned <a href="https://github.com/facebook/rocksdb/blob/master/env/io_posix.cc#L312-L316" target="_blank" rel="noopener noreferrer">by checking it upfront</a>(older versions were allowing unaligned access by aligning in the background).</p>
<p>Whether or not O_DIRECT flag is used, it is always a good idea to make sure your reads and writes are block aligned. Crossing segment boundary will cause multiple sectors to be loaded from (or written back on) disk as shown on images above. Using the block size or a value that fits neatly inside of a block guarantees block-aligned I/O requests, and prevents extraneous work inside the kernel.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="nonblocking-filesystem-io">Nonblocking Filesystem IO<a href="#nonblocking-filesystem-io" class="hash-link" aria-label="Direct link to Nonblocking Filesystem IO" title="Direct link to Nonblocking Filesystem IO">​</a></h2>
<p>I&#x27;m adding this part here since I very often hear &quot;nonblocking&quot; in the context of Filesystem IO. It&#x27;s quite normal, since most of the programming interface for Network and Filesystem IO is the same. But it&#x27;s worth mentioning that there&#x27;s <a href="https://www.remlab.net/op/nonblock.shtml" target="_blank" rel="noopener noreferrer">no true &quot;nonblocking&quot; Filesystem IO</a>, which can be understood in the same sense.</p>
<p>O_NONBLOCK is generally ignored for regular files, because block device operations are considered non-blocking (unlike socket operations, for example). Filesystem IO delays are not taken into account by the system. Possibly this decision was made because there&#x27;s a more or less hard time bound on operation completion.</p>
<p>For same reason, something you would usually use in Network context, likeselectandepoll, does not allow monitoring and/or checking status of regular files.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="io-buffering">I/O buffering<a href="#io-buffering" class="hash-link" aria-label="Direct link to I/O buffering" title="Direct link to I/O buffering">​</a></h2>
<p>In order to program for data integrity, it is crucial to have an understanding of the overall system architecture. Data can travel through several layers before it finally reaches stable storage, as seen below:</p>
<p><img decoding="async" loading="lazy" alt="image" src="data:image/jpeg;base64,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" width="500" height="269" class="img_ev3q"></p>
<p>At the top is the running application which has data that it needs to save to stable storage. That data starts out as one or more blocks of memory, or buffers, in the application itself. Those buffers can also be handed to a library, which may perform its own buffering. Regardless of whether data is buffered in application buffers or by a library, the data lives in the application&#x27;s address space. The next layer that the data goes through is the kernel, which keeps its own version of a write-back cache called the page cache. Dirty pages can live in the page cache for an indeterminate amount of time, depending on overall system load and I/O patterns. When dirty data is finally evicted from the kernel&#x27;s page cache, it is written to a storage device (such as a hard disk). The storage device may further buffer the data in a volatile write-back cache. If power is lost while data is in this cache, the data will be lost. Finally, at the very bottom of the stack is the non-volatile storage. When the data hits this layer, it is considered to be &quot;safe.&quot;</p>
<p><a href="https://lwn.net/Articles/457667" target="_blank" rel="noopener noreferrer">https://lwn.net/Articles/457667</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="access-patterns">Access Patterns<a href="#access-patterns" class="hash-link" aria-label="Direct link to Access Patterns" title="Direct link to Access Patterns">​</a></h2>
<p>Access patterns are patterns with which a program reads and writes the data. In general, we distinguish between the <strong>random and sequential access patterns</strong>. But, of course, nothing is absolute. Having fully sequential reads is not possible for ad-hoc queries, since the data has to be located first, but as soon as it is located, it can be read sequentially.</p>
<p>By sequential access we usually mean reads monotonically going from lower offsets to the higher ones and the higher offsets are immediately following the lower ones.</p>
<p>Random access is reading non-contiguous chunks of data. It usually involves disk seeks, skipping portions of the file in order to locate the data. Hop size is often hard to predict and spans many pages (for example, when traversing a B-Tree on disk, we have to skip entire levels in order to continue the search). In summary, sequential access implies reading contiguous blocks monotonically and random access is pretty much anything else.</p>
<p>Sequential access is often preferred because of it&#x27;s predictability. In <a href="https://medium.com/@ifesdjeen/on-disk-io-part-2-more-flavours-of-io-c945db3edb13" target="_blank" rel="noopener noreferrer">one of previous posts</a> we&#x27;ve discussed the fact that avoiding Page Faults allows for a better performance, since reads are served from RAM rather than disk. When reading data sequentially, Kernel may load the pages ahead of time in the process called prefetching: speculative reading from disk based on some prediction of future requests. In addition, sequential reads avoid additional seeks.</p>
<p>Optimising for sequential reads and for sequential writes are orthogonal problems. Records written sequentially are not always read together (for example, point queries in sequentially written LSM Tree are still random). Similarly, data read together wasn&#x27;t necessarily put on disk in a sequential manner (for example, a sequential read of the level in a B-Tree, which might have been updated randomly).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="random-reads-on-ssds">Random Reads on SSDs<a href="#random-reads-on-ssds" class="hash-link" aria-label="Direct link to Random Reads on SSDs" title="Direct link to Random Reads on SSDs">​</a></h2>
<p>On HDDs, sequential access is preferred to random because of their physical organisation and the way they work. Read/write head is attached to the mechanical arm that has to travel across the disk in order to read the blocks of data; disk has to rotate in to position the track sector under read/write head. This all involves a non-trivial amount of movement. Operating System tries to amortise the costs by caching, buffering and scheduling operations optimally.</p>
<p>SSDs are made of electronics and do not have any moving components. In this regard, SSDs are inherently different from HDDs and there&#x27;s no performance degradation caused by where data is stored on disk physically. However, current SSD technology suffers from the performance degradation caused by write amplification. Lack of moving parts allows for several other characteristics, such as parallelism, but we won&#x27;t be discussing them in this article.</p>
<p>Minimal read unit on SSD is page. Reads and writes are performed in pages. Deleting a page worth of data does not immediately remove data physically. Instead, a page is marked as stale and will wait for Garbage Collection to reclaim free space.</p>
<p>Because writes are performed in pages, even if a single byte has to be updated, the whole page will be written anyway. At the same time, because of the specifics of NAND storage, pages can not be updated in place, so writes can be performed only into the empty pages. These two properties attribute for the write amplification on SSDs.</p>
<p>After an extensive amount of random writes, an FTL (Flash Transportation Layer) runs out of free pages and has to perform Garbage Collection: a process that reads, consolidates then and writes active pages in free blocks, freeing blocks, occupied by stale pages and reclaiming disk space.</p>
<p>Some SSDs implement background Garbage Collection, which takes advantage of idle time in order to consolidate blocks and reclaim stale pages before new data has to be written, which ensures that future foreground write processes have enough free pages available. But given enough write pressure, Garbage Collection process may not keep up with the amount of work, negatively impacting write performance.</p>
<p>A key goal of log-structured systems is sequentialising writes. However, if the FTL is shared by two log- structured applications (or even a single application with multiple append streams), the incoming data into the FTL is likely to look random or disjoint. You can read more about &quot;stacking&quot; log operations in <a href="https://www.usenix.org/system/files/conference/inflow14/inflow14-yang.pdf" target="_blank" rel="noopener noreferrer">this paper</a>.</p>
<p>We&#x27;ve discussed multiple things one has to take into consideration when working with SSDs.Writing complete pages is better than writing data smaller than the page size, since the smallest SSD unit storage is a page. Because updating page will effectively allocate a new page and invalidate the previous one, updates may result into Garbage Collection. It&#x27;s better to keep the write operations page-aligned in order to avoid additional write multiplication. And last, keeping the data with similar lifecycle together(e.g. the data that would be both written and discarded at the same time) will be beneficial for performance. Most of these points are points speak favour of immutable LSM-like Storage, rather than systems that allows in-place updates: writes are batched and SSTables are written sequentially, files are immutable and, when deleted, the whole file is invalidated at once.</p>
<p><a href="https://medium.com/databasss/on-disk-io-part-1-flavours-of-io-8e1ace1de017" target="_blank" rel="noopener noreferrer">https://medium.com/databasss/on-disk-io-part-1-flavours-of-io-8e1ace1de017</a></p>
<p><a href="https://medium.com/databasss/on-disk-io-part-3-lsm-trees-8b2da218496f" target="_blank" rel="noopener noreferrer">https://medium.com/databasss/on-disk-io-part-3-lsm-trees-8b2da218496f</a></p>
<p><a href="https://medium.com/databasss/on-disk-storage-part-4-b-trees-30791060741" target="_blank" rel="noopener noreferrer">https://medium.com/databasss/on-disk-storage-part-4-b-trees-30791060741</a></p>
<p><a href="https://medium.com/databasss/on-disk-io-access-patterns-in-lsm-trees-2ba8dffc05f9" target="_blank" rel="noopener noreferrer">https://medium.com/databasss/on-disk-io-access-patterns-in-lsm-trees-2ba8dffc05f9</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="iops">IOPS<a href="#iops" class="hash-link" aria-label="Direct link to IOPS" title="Direct link to IOPS">​</a></h2>
<p>Input/output operations per second(IOPS, pronouncedeye-ops) is an <a href="https://en.wikipedia.org/wiki/Input/output" target="_blank" rel="noopener noreferrer">input/output</a> performance measurement used to characterize <a href="https://en.wikipedia.org/wiki/Data_storage_device" target="_blank" rel="noopener noreferrer">computer storage</a> devices like <a href="https://en.wikipedia.org/wiki/Hard_disk_drive" target="_blank" rel="noopener noreferrer">hard disk drives</a>(HDD), <a href="https://en.wikipedia.org/wiki/Solid_state_drives" target="_blank" rel="noopener noreferrer">solid state drives</a>(SSD), and <a href="https://en.wikipedia.org/wiki/Storage_area_network" target="_blank" rel="noopener noreferrer">storage area networks</a>(SAN). Like <a href="https://en.wikipedia.org/wiki/Benchmark" target="_blank" rel="noopener noreferrer">benchmarks</a>, IOPS numbers published by storage device manufacturers do not directly relate to real-world application performance.</p>
<p><a href="https://en.wikipedia.org/wiki/IOPS" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/IOPS</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wear-leveling">Wear Leveling<a href="#wear-leveling" class="hash-link" aria-label="Direct link to Wear Leveling" title="Direct link to Wear Leveling">​</a></h2>
<p>Wear leveling (also written aswear levelling) is a technique  for prolonging the <a href="https://en.wikipedia.org/wiki/Service_life" target="_blank" rel="noopener noreferrer">service life</a> of some kinds of erasable <a href="https://en.wikipedia.org/wiki/Computer_storage" target="_blank" rel="noopener noreferrer">computer storage</a> media, such as <a href="https://en.wikipedia.org/wiki/Flash_memory" target="_blank" rel="noopener noreferrer">flash memory</a>, which is used in <a href="https://en.wikipedia.org/wiki/Solid-state_drive" target="_blank" rel="noopener noreferrer">solid-state drives</a>(SSDs) and <a href="https://en.wikipedia.org/wiki/USB_flash_drive" target="_blank" rel="noopener noreferrer">USB flash drives</a>, and <a href="https://en.wikipedia.org/wiki/Phase-change_memory" target="_blank" rel="noopener noreferrer">phase-change memory</a>. There are several wear leveling mechanisms that provide varying levels of longevity enhancement in such memory systems</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring">Monitoring<a href="#monitoring" class="hash-link" aria-label="Direct link to Monitoring" title="Direct link to Monitoring">​</a></h2>
<ul>
<li>Writes/sec-- write operations rate.</li>
<li>Reads/sec-- read operations rate.</li>
<li>Busy time-- the % of the elapsed time when your particular disk drive was busy in servicing write or read requests.</li>
<li>Queue length-- the number of requests on the disk that are in the queue.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pe-cycles">P/E Cycles<a href="#pe-cycles" class="hash-link" aria-label="Direct link to P/E Cycles" title="Direct link to P/E Cycles">​</a></h2>
<p>A solid-state-storage program-erase cycle is a sequence of events in which data is written to <a href="https://searchstorage.techtarget.com/definition/solid-state-storage" target="_blank" rel="noopener noreferrer">solid-state</a><a href="https://searchstorage.techtarget.com/definition/NAND-flash-memory" target="_blank" rel="noopener noreferrer">NAND flash memory</a> cell (such as the type found in a so-called flash or thumb drive), then erased, and then rewritten. Program-erase (PE) cycles can serve as a criterion for quantifying the endurance of a <a href="https://searchstorage.techtarget.com/definition/flash-storage" target="_blank" rel="noopener noreferrer">flash storage</a> device.</p>
<p><a href="https://searchstorage.techtarget.com/definition/flash-memory" target="_blank" rel="noopener noreferrer">Flash memory</a> devices are capable of a limited number of PE cycles because each cycle causes a small amount of physical damage to the medium. This damage accumulates over time, eventually rendering the device unusable. The number of PE cycles that a given device can sustain before problems become prohibitive varies with the type of technology. The least reliable technology is called multi-level cell (MLC). Enterprise-grade MLC (or E-MLC) offers an improvement over MLC; the most reliable technology is known as single-level cell (SLC).</p>
<p>Some disagreement exists in the literature as to the maximum number of PE cycles that each type of technology can execute while maintaining satisfactory performance. For MLC, typical maximum PE-cycle-per-<a href="https://searchsqlserver.techtarget.com/definition/block" target="_blank" rel="noopener noreferrer">block</a> numbers range from 1500 to 10,000. For E-MLC, numbers range up to approximately 30,000 PE cycles per block. For SLC, devices can execute up to roughly 100,000 PE cycles per block.</p>
<p><a href="https://www.mydigitaldiscount.com/everything-you-need-to-know-about-slc-mlc-and-tlc-nand-flash.html" target="_blank" rel="noopener noreferrer">https://www.mydigitaldiscount.com/everything-you-need-to-know-about-slc-mlc-and-tlc-nand-flash.html</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="distributed-asynchronous-object-storage-daos">Distributed Asynchronous Object Storage (DAOS)<a href="#distributed-asynchronous-object-storage-daos" class="hash-link" aria-label="Direct link to Distributed Asynchronous Object Storage (DAOS)" title="Direct link to Distributed Asynchronous Object Storage (DAOS)">​</a></h2>
<p>The Distributed Asynchronous Object Storage (DAOS) is an open-source software-defined object store designed from the ground up for massively distributed Non Volatile Memory (NVM). DAOS takes advantage of next generation NVM technology like Storage Class Memory (SCM) and NVM express (NVMe) while presenting a key-value storage interface and providing features such as transactional non-blocking I/O, advanced data protection with self healing on top of commodity hardware, end-to-end data integrity, fine grained data control and elastic storage to optimize performance and cost.</p>
<p><a href="https://github.com/daos-stack/daos" target="_blank" rel="noopener noreferrer">https://github.com/daos-stack/daos</a></p>
<p><a href="https://www.sigarch.org/from-flops-to-iops-the-new-bottlenecks-of-scientific-computing" target="_blank" rel="noopener noreferrer">https://www.sigarch.org/from-flops-to-iops-the-new-bottlenecks-of-scientific-computing</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="anatomy-of-ssd--hdd">Anatomy of SSD / HDD<a href="#anatomy-of-ssd--hdd" class="hash-link" aria-label="Direct link to Anatomy of SSD / HDD" title="Direct link to Anatomy of SSD / HDD">​</a></h2>
<p><a href="https://www.techspot.com/amp/article/1985-anatomy-ssd" target="_blank" rel="noopener noreferrer">https://www.techspot.com/amp/article/1985-anatomy-ssd</a></p>
<p><a href="https://www.youtube.com/watch?v=r-SivgEpA1Q" target="_blank" rel="noopener noreferrer">How does this SSD store 8TB of Data? || Inside the Engineering of Solid-State Drive Architecture - YouTube</a></p>
<p><a href="https://www.youtube.com/watch?v=5f2xOxRGKqk" target="_blank" rel="noopener noreferrer">The Engineering Puzzle of Storing Trillions of Bits in your Smartphone / SSD using Quantum Mechanics - YouTube</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="links">Links<a href="#links" class="hash-link" aria-label="Direct link to Links" title="Direct link to Links">​</a></h2>
<p><a href="https://www.youtube.com/watch?v=wtdnatmVdIg" target="_blank" rel="noopener noreferrer">How do Hard Disk Drives Work? 💻💿🛠 - YouTube</a></p>
<p><a href="https://www.youtube.com/watch?v=7J7X7aZvMXQ" target="_blank" rel="noopener noreferrer">How does Computer Memory Work? 💻🛠 - YouTube</a></p>
<p><a href="https://www.youtube.com/watch?v=YtBysgPOKx4" target="_blank" rel="noopener noreferrer">How does NAND Flash Work? Reading from TLC : Triple Level Cells || Exploring Solid State Drives - YouTube</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/computer-science/operating-system/disk-io.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-12-05T16:25:54.000Z" itemprop="dateModified">Dec 5, 2023</time></b> by <b>Deepak</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/computer-science/operating-system/cpu-gpu-tpu"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">CPU | GPU | TPU</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/computer-science/operating-system/dram"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DRAM</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#io" class="table-of-contents__link toc-highlight">IO</a></li><li><a href="#buffered-io" class="table-of-contents__link toc-highlight">Buffered IO</a></li><li><a href="#sectorblockpage" class="table-of-contents__link toc-highlight">Sector/Block/Page</a></li><li><a href="#standard-io" class="table-of-contents__link toc-highlight">Standard IO</a></li><li><a href="#page-cache" class="table-of-contents__link toc-highlight">Page Cache</a></li><li><a href="#delaying-errors" class="table-of-contents__link toc-highlight">Delaying Errors</a></li><li><a href="#direct-io" class="table-of-contents__link toc-highlight">Direct IO</a></li><li><a href="#block-alignment" class="table-of-contents__link toc-highlight">Block Alignment</a></li><li><a href="#nonblocking-filesystem-io" class="table-of-contents__link toc-highlight">Nonblocking Filesystem IO</a></li><li><a href="#io-buffering" class="table-of-contents__link toc-highlight">I/O buffering</a></li><li><a href="#access-patterns" class="table-of-contents__link toc-highlight">Access Patterns</a></li><li><a href="#random-reads-on-ssds" class="table-of-contents__link toc-highlight">Random Reads on SSDs</a></li><li><a href="#iops" class="table-of-contents__link toc-highlight">IOPS</a></li><li><a href="#wear-leveling" class="table-of-contents__link toc-highlight">Wear Leveling</a></li><li><a href="#monitoring" class="table-of-contents__link toc-highlight">Monitoring</a></li><li><a href="#pe-cycles" class="table-of-contents__link toc-highlight">P/E Cycles</a></li><li><a href="#distributed-asynchronous-object-storage-daos" class="table-of-contents__link toc-highlight">Distributed Asynchronous Object Storage (DAOS)</a></li><li><a href="#anatomy-of-ssd--hdd" class="table-of-contents__link toc-highlight">Anatomy of SSD / HDD</a></li><li><a href="#links" class="table-of-contents__link toc-highlight">Links</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>