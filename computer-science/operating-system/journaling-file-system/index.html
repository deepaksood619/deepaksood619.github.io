<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-computer-science/operating-system/journaling-file-system" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Journaling File System | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_compressed.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_compressed.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/computer-science/operating-system/journaling-file-system"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Journaling File System | Deep Notes"><meta data-rh="true" name="description" content="A journaling file system is a file system that keeps track of changes not yet committed to the file system&#x27;s main part by recording the intentions of such changes in a data structure known as a &quot;journal)&quot;, which is usually a circular log. In the event of a system crash or power failure, such file systems can be brought back online more quickly with a lower likelihood of becoming corrupted."><meta data-rh="true" property="og:description" content="A journaling file system is a file system that keeps track of changes not yet committed to the file system&#x27;s main part by recording the intentions of such changes in a data structure known as a &quot;journal)&quot;, which is usually a circular log. In the event of a system crash or power failure, such file systems can be brought back online more quickly with a lower likelihood of becoming corrupted."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/computer-science/operating-system/journaling-file-system"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/computer-science/operating-system/journaling-file-system" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/computer-science/operating-system/journaling-file-system" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(53, 120, 229)">

<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.de817004.css">
<script src="/assets/js/runtime~main.5b84b27d.js" defer="defer"></script>
<script src="/assets/js/main.4f2f07f6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepaksood619" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.linkedin.com/in/deepaksood619/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/about-deepak-sood/">About Deepak Sood</a><button aria-label="Expand sidebar category &#x27;About Deepak Sood&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/computer-science/">Computer Science</a><button aria-label="Collapse sidebar category &#x27;Computer Science&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/distributed-system/">Distributed System</a><button aria-label="Expand sidebar category &#x27;Distributed System&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/general/">General</a><button aria-label="Expand sidebar category &#x27;General&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/interview-question/">Interview Question</a><button aria-label="Expand sidebar category &#x27;Interview Question&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/iot/">IOT</a><button aria-label="Expand sidebar category &#x27;IOT&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/links">Links</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/computer-science/operating-system/">Operating System</a><button aria-label="Collapse sidebar category &#x27;Operating System&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/basic-computer-organization">Basic Computer Organization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/cache-access-patterns">Cache Access Patterns (Writing Policies)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/cache-coherence-invalidation">Cache Coherence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/caches-caching">Caches / Caching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/caching-strategies-topologies">Caching Strategies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/compilers">Compilers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/concepts">Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/concurrency-models-async">Concurrency Models - Async</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/concurrency-problems">Concurrency Problems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/concurrency-threading">Concurrency / Threading</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/coroutines">Coroutines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/cpu-gpu-tpu">CPU | GPU | TPU</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/disk-io">Disk IO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/dram">DRAM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/intro">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/computer-science/operating-system/journaling-file-system">Journaling File System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/memory-allocation">Memory Allocation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/memory-layout">Memory Layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/memory-mapping-mmap">Memory Mapping mmap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/memory">Memory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/microprocessor">Microprocessor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/parallel-processing">Parallel Processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/raid">RAID</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/scheduling">Scheduling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/swap-paging-caching">Swap / Paging / Caching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/unix-linux-file-system">Unix / Linux File System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/unix-linux">Unix / Linux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/operating-system/write-ahead-log-wal">Write Ahead Log, WAL</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/others/">Others</a><button aria-label="Expand sidebar category &#x27;Others&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/programming-concepts/">Programming Concepts</a><button aria-label="Expand sidebar category &#x27;Programming Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/programming-paradigms/">Programming Paradigms</a><button aria-label="Expand sidebar category &#x27;Programming Paradigms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/security/">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/software-engineering/">Software Engineering</a><button aria-label="Expand sidebar category &#x27;Software Engineering&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/system-design/">System Design</a><button aria-label="Expand sidebar category &#x27;System Design&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/testing/">Testing</a><button aria-label="Expand sidebar category &#x27;Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases/">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/devops/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deepak&#x27;s Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-science/"><span itemprop="name">Computer Science</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-science/operating-system/"><span itemprop="name">Operating System</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Journaling File System</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Journaling File System</h1></header>
<p>A journaling file system is a <a href="https://en.wikipedia.org/wiki/File_system" target="_blank" rel="noopener noreferrer">file system</a> that keeps track of changes not yet committed to the file system&#x27;s main part by recording the intentions of such changes in a data structure known as a &quot;<a href="https://en.wikipedia.org/wiki/Journal_(computing)" target="_blank" rel="noopener noreferrer">journal</a>&quot;, which is usually a <a href="https://en.wikipedia.org/wiki/Circular_log" target="_blank" rel="noopener noreferrer">circular log</a>. In the event of a system crash or power failure, such file systems can be brought back online more quickly with a lower likelihood of becoming corrupted.</p>
<p>Depending on the actual implementation, a journaling file system may only keep track of stored <a href="https://en.wikipedia.org/wiki/Metadata" target="_blank" rel="noopener noreferrer">metadata</a>, resulting in improved performance at the expense of increased possibility for data corruption. Alternatively, a journaling file system may track both stored data and related metadata, while some implementations allow selectable behavior in this regard.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rationale">Rationale<a href="#rationale" class="hash-link" aria-label="Direct link to Rationale" title="Direct link to Rationale">​</a></h2>
<p>Updating file systems to reflect changes to files and directories usually requires many separate write operations. This makes it possible for an interruption (like a power failure or system <a href="https://en.wikipedia.org/wiki/Crash_(computing)" target="_blank" rel="noopener noreferrer">crash</a>) between writes to leave data structures in an invalid intermediate state.</p>
<p>For example, deleting a file on a Unix file system involves three steps:</p>
<ol>
<li>Removing its directory entry.</li>
<li>Releasing the <a href="https://en.wikipedia.org/wiki/Inode" target="_blank" rel="noopener noreferrer">inode</a> to the pool of free inodes.</li>
<li>Returning all disk blocks to the pool of free disk blocks.</li>
</ol>
<p>If a crash occurs after step 1 and before step 2, there will be an orphaned inode and hence a <a href="https://en.wikipedia.org/wiki/Storage_leak" target="_blank" rel="noopener noreferrer">storage leak</a>; if a crash occurs between steps 2 and 3, then the blocks previously used by the file cannot be used for new files, effectively decreasing the storage capacity of the file system. Re-arranging the steps does not help, either. If step 3 preceded step 1, a crash between them could allow the file&#x27;s blocks to be reused for a new file, meaning the partially deleted file would contain part of the contents of another file, and modifications to either file would show up in both. On the other hand, if step 2 preceded step 1, a crash between them would cause the file to be inaccessible, despite appearing to exist.</p>
<p>Detecting and recovering from such inconsistencies normally requires a complete <a href="https://en.wikipedia.org/wiki/Glossary_of_graph_theory_terms#walk" target="_blank" rel="noopener noreferrer">walk</a> of its data structures, for example by a tool such as <a href="https://en.wikipedia.org/wiki/Fsck" target="_blank" rel="noopener noreferrer">fsck</a>(the file system checker).This must typically be done before the file system is next mounted for read-write access. If the file system is large and if there is relatively little I/O bandwidth, this can take a long time and result in longer downtimes if it blocks the rest of the system from coming back online.</p>
<p>To prevent this, a journaled file system allocates a special area - the journal - in which it records the changes it will make ahead of time. After a crash, recovery simply involves reading the journal from the file system and replaying changes from this journal until the file system is consistent again. The changes are thus said to be <a href="https://en.wikipedia.org/wiki/Atomicity_(database_systems)" target="_blank" rel="noopener noreferrer">atomic</a>(not divisible) in that they either succeed (succeeded originally or are replayed completely during recovery), or are not replayed at all (are skipped because they had not yet been completely written to the journal before the crash occurred).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="techniques">Techniques<a href="#techniques" class="hash-link" aria-label="Direct link to Techniques" title="Direct link to Techniques">​</a></h2>
<p>Some file systems allow the journal to grow, shrink and be re-allocated just as a regular file, while others put the journal in a contiguous area or a hidden file that is guaranteed not to move or change size while the file system is mounted. Some file systems may also allowexternal journalson a separate device, such as a <a href="https://en.wikipedia.org/wiki/Solid-state_drive" target="_blank" rel="noopener noreferrer">solid-state drive</a> or battery-backed non-volatile RAM. Changes to the journal may themselves be journaled for additional redundancy, or the journal may be distributed across multiple physical volumes to protect against device failure.</p>
<p>The internal format of the journal must guard against crashes while the journal itself is being written to. Many journal implementations (such as the JBD2 layer in <a href="https://en.wikipedia.org/wiki/Ext4" target="_blank" rel="noopener noreferrer">ext4</a>) bracket every change logged with a checksum, on the understanding that a crash would leave a partially written change with a missing (or mismatched) checksum that can simply be ignored when replaying the journal at next remount.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="physical-journals">Physical journals<a href="#physical-journals" class="hash-link" aria-label="Direct link to Physical journals" title="Direct link to Physical journals">​</a></h2>
<p>A physical journal logs an advance copy of every block that will later be written to the main file system. If there is a crash when the main file system is being written to, the write can simply be replayed to completion when the file system is next mounted. If there is a crash when the write is being logged to the journal, the partial write will have a missing or mismatched checksum and can be ignored at next mount.</p>
<p>Physical journals impose a significant performance penalty because every changed block must be committed twice to storage, but may be acceptable when absolute fault protection is required.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="logical-journals">Logical journals<a href="#logical-journals" class="hash-link" aria-label="Direct link to Logical journals" title="Direct link to Logical journals">​</a></h2>
<p>A logical journal stores only changes to file <a href="https://en.wikipedia.org/wiki/Metadata" target="_blank" rel="noopener noreferrer">metadata</a> in the journal, and trades fault tolerance for substantially better write performance. A file system with a logical journal still recovers quickly after a crash, but may allow unjournaled file data and journaled metadata to fall out of sync with each other, causing data corruption.</p>
<p>For example, appending to a file may involve three separate writes to:</p>
<ol>
<li>The file&#x27;s <a href="https://en.wikipedia.org/wiki/Inode" target="_blank" rel="noopener noreferrer">inode</a>, to note in the file&#x27;s metadata that its size has increased.</li>
<li>The free space map, to mark out an allocation of space for the to-be-appended data.</li>
<li>The newly allocated space, to actually write the appended data.</li>
</ol>
<p>In a metadata-only journal, step 3 would not be logged. If step 3 was not done, but steps 1 and 2 are replayed during recovery, the file will be appended with garbage.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="write-hazards">Write hazards<a href="#write-hazards" class="hash-link" aria-label="Direct link to Write hazards" title="Direct link to Write hazards">​</a></h2>
<p>The write cache in most operating systems sorts its writes (using the <a href="https://en.wikipedia.org/wiki/Elevator_algorithm" target="_blank" rel="noopener noreferrer">elevator algorithm</a> or some similar scheme) to maximize throughput. To avoid an out-of-order write hazard with a metadata-only journal, writes for file data must be sorted so that they are committed to storage before their associated metadata. This can be tricky to implement because it requires coordination within the operating system kernel between the file system driver and write cache. An out-of-order write hazard can also occur if a device cannot write blocks immediately to its underlying storage, that is, it cannot flush its write-cache to disk due to deferred write being enabled.</p>
<p>To complicate matters, many mass storage devices have their own write caches, in which they may aggressively reorder writes for better performance. (This is particularly common on magnetic hard drives, which have large seek latencies that can be minimized with elevator sorting.) Some journaling file systems conservatively assume such write-reordering always takes place, and sacrifice performance for correctness by forcing the device to flush its cache at certain points in the journal (called barriers in <a href="https://en.wikipedia.org/wiki/Ext3" target="_blank" rel="noopener noreferrer">ext3</a> and <a href="https://en.wikipedia.org/wiki/Ext4" target="_blank" rel="noopener noreferrer">ext4</a>).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="alternatives">Alternatives<a href="#alternatives" class="hash-link" aria-label="Direct link to Alternatives" title="Direct link to Alternatives">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="soft-updates">Soft updates<a href="#soft-updates" class="hash-link" aria-label="Direct link to Soft updates" title="Direct link to Soft updates">​</a></h3>
<p>Some <a href="https://en.wikipedia.org/wiki/Unix_File_System" target="_blank" rel="noopener noreferrer">UFS</a> implementations avoid journaling and instead implement <a href="https://en.wikipedia.org/wiki/Soft_updates" target="_blank" rel="noopener noreferrer">soft updates</a>: they order their writes in such a way that the on-disk file system is never inconsistent, or that the only inconsistency that can be created in the event of a crash is a storage leak. To recover from these leaks, the free space map is reconciled against a full walk of the file system at next mount. This <a href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)" target="_blank" rel="noopener noreferrer">garbage collection</a> is usually done in the background.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-structured-file-systems">Log-structured file systems<a href="#log-structured-file-systems" class="hash-link" aria-label="Direct link to Log-structured file systems" title="Direct link to Log-structured file systems">​</a></h3>
<p>In <a href="https://en.wikipedia.org/wiki/Log-structured_file_system" target="_blank" rel="noopener noreferrer">log-structured file systems</a>, the write-twice penalty does not apply because the journal itselfisthe file system: it occupies the entire storage device and is structured so that it can be traversed as would a normal file system.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="copy-on-write-file-systems">Copy-on-write file systems<a href="#copy-on-write-file-systems" class="hash-link" aria-label="Direct link to Copy-on-write file systems" title="Direct link to Copy-on-write file systems">​</a></h3>
<p>Full <a href="https://en.wikipedia.org/wiki/Copy-on-write" target="_blank" rel="noopener noreferrer">copy-on-write</a> file systems (such as <a href="https://en.wikipedia.org/wiki/ZFS" target="_blank" rel="noopener noreferrer">ZFS</a> and <a href="https://en.wikipedia.org/wiki/Btrfs" target="_blank" rel="noopener noreferrer">Btrfs</a>) avoid in-place changes to file data by writing out the data in newly allocated blocks, followed by updated metadata that would point to the new data and disown the old, followed by metadata pointing to that, and so on up to the superblock, or the root of the file system hierarchy. This has the same correctness-preserving properties as a journal, without the write-twice overhead.</p>
<p><a href="https://en.wikipedia.org/wiki/Journaling_file_system" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Journaling_file_system</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="zfs">ZFS<a href="#zfs" class="hash-link" aria-label="Direct link to ZFS" title="Direct link to ZFS">​</a></h2>
<p>ZFS is a combined <a href="https://en.wikipedia.org/wiki/File_system" target="_blank" rel="noopener noreferrer">file system</a> and <a href="https://en.wikipedia.org/wiki/Logical_volume_management" target="_blank" rel="noopener noreferrer">logical volume manager</a> designed by <a href="https://en.wikipedia.org/wiki/Sun_Microsystems" target="_blank" rel="noopener noreferrer">Sun Microsystems</a>. ZFS is scalable, and includes extensive protection against <a href="https://en.wikipedia.org/wiki/Data_corruption" target="_blank" rel="noopener noreferrer">data corruption</a>, support for high storage capacities, efficient data compression, integration of the concepts of filesystem and <a href="https://en.wikipedia.org/wiki/Volume_(computing)" target="_blank" rel="noopener noreferrer">volume management</a>, <a href="https://en.wikipedia.org/wiki/Snapshot_(computer_storage)" target="_blank" rel="noopener noreferrer">snapshots</a> and <a href="https://en.wikipedia.org/wiki/Copy-on-write" target="_blank" rel="noopener noreferrer">copy-on-write</a> clones, continuous integrity checking and automatic repair, <a href="https://en.wikipedia.org/wiki/ZFS#RAID-Z" target="_blank" rel="noopener noreferrer">RAID-Z</a>, native <a href="https://en.wikipedia.org/wiki/NFSv4" target="_blank" rel="noopener noreferrer">NFSv4</a><a href="https://en.wikipedia.org/wiki/Access_control_lists" target="_blank" rel="noopener noreferrer">ACLs</a>, and can be very precisely configured. The two main implementations, by <a href="https://en.wikipedia.org/wiki/Oracle_Corporation" target="_blank" rel="noopener noreferrer">Oracle</a> and by the <a href="https://en.wikipedia.org/wiki/OpenZFS" target="_blank" rel="noopener noreferrer">OpenZFS</a> project, are extremely similar, making ZFS widely available within <a href="https://en.wikipedia.org/wiki/Unix-like" target="_blank" rel="noopener noreferrer">Unix-like</a> systems</p>
<p><a href="https://en.wikipedia.org/wiki/ZFS" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/ZFS</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="btrfs">Btrfs<a href="#btrfs" class="hash-link" aria-label="Direct link to Btrfs" title="Direct link to Btrfs">​</a></h2>
<p>Btrfs, an abbreviation for <a href="https://en.wikipedia.org/wiki/B-tree" target="_blank" rel="noopener noreferrer">b-tree</a><a href="https://en.wikipedia.org/wiki/File_system" target="_blank" rel="noopener noreferrer">file system</a>, (pronounced as &quot;butter fuss&quot;,&quot;better F S&quot;,&quot;butter F S&quot;,&quot;b-tree F S&quot;, or simply by spelling it out) is a file system based on the <a href="https://en.wikipedia.org/wiki/Copy-on-write#In_computer_storage" target="_blank" rel="noopener noreferrer">copy-on-write</a>(COW) principle, initially designed at <a href="https://en.wikipedia.org/wiki/Oracle_Corporation" target="_blank" rel="noopener noreferrer">Oracle Corporation</a> for use in <a href="https://en.wikipedia.org/wiki/Linux" target="_blank" rel="noopener noreferrer">Linux</a>. The development of Btrfs began in 2007, and since November 2013 the file system&#x27;s on-disk format has been declared stable in the Linux kernel.</p>
<p>Btrfs is intended to address the lack of <a href="https://en.wikipedia.org/wiki/Pool_(computer_science)" target="_blank" rel="noopener noreferrer">pooling</a>, <a href="https://en.wikipedia.org/wiki/Snapshot_(computer_storage)" target="_blank" rel="noopener noreferrer">snapshots</a>, <a href="https://en.wikipedia.org/wiki/Checksum" target="_blank" rel="noopener noreferrer">checksums</a>, and integral multi-device spanning in <a href="https://en.wikipedia.org/wiki/Linux_file_systems" target="_blank" rel="noopener noreferrer">Linux file systems</a>.Chris Mason, the principal Btrfs author, has stated that its goal was &quot;to let Linux scale for the storage that will be available. Scaling is not just about addressing the storage but also means being able to administer and to manage it with a clean interface that lets people see what&#x27;s being used and makes it more reliable&quot;.</p>
<p><a href="https://en.wikipedia.org/wiki/Btrfs" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Btrfs</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ext4">ext4<a href="#ext4" class="hash-link" aria-label="Direct link to ext4" title="Direct link to ext4">​</a></h2>
<p>The <strong>ext4 journaling file system</strong> or <strong>fourth extended filesystem</strong> is a <a href="https://en.wikipedia.org/wiki/Journaling_file_system" target="_blank" rel="noopener noreferrer">journaling file system</a> for <a href="https://en.wikipedia.org/wiki/Linux" target="_blank" rel="noopener noreferrer">Linux</a>, developed as the successor to <a href="https://en.wikipedia.org/wiki/Ext3" target="_blank" rel="noopener noreferrer">ext3</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h3>
<ul>
<li>Large file system</li>
<li>Extents</li>
<li>Backward compatibility</li>
<li>Persistent pre-allocation</li>
<li>Delayed allocation</li>
<li>Unlimited number of subdirectories</li>
<li>Journal checksums</li>
<li>Metadata checksumming</li>
<li>Faster file-system checking</li>
<li>Multiblock allocator</li>
<li>Improved timestamps</li>
<li>Project quotas</li>
<li>Transparent encryption</li>
<li>Lazy initialization</li>
<li>Write barriers</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="partition-tables">Partition Tables<a href="#partition-tables" class="hash-link" aria-label="Direct link to Partition Tables" title="Direct link to Partition Tables">​</a></h2>
<ul>
<li><code>aix</code> provides support for the volumes used in IBM’s AIX (which introduced what we now know as LVM);</li>
<li><code>amiga</code> provides support for the Amiga’s RDB partitioning scheme;</li>
<li><code>bsd</code> provides support for BSD disk labels;</li>
<li><code>dvh</code> provides support for SGI disk volume headers;</li>
<li><code>gpt</code> provides support for GUID partition tables;</li>
<li><code>mac</code> provides support for old (pre-GPT) Apple partition tables;</li>
<li><code>msdos</code> provides support for DOS-style MBR partition tables;</li>
<li><code>pc98</code> provides support for <a href="http://people.freebsd.org/~kato/pc98.html" target="_blank" rel="noopener noreferrer">PC-98</a> partition tables;</li>
<li><code>sun</code> provides support for Sun’s partitioning scheme;</li>
<li><code>loop</code> provides support for raw disk access (loopback-style) — I’m not sure about the uses for this one.</li>
</ul>
<p>The default in gparted appears to be <code>msdos</code> which I guess is an &#x27;MBR&#x27; partition table. However <code>gpt</code> is more recent, but has less Windows support. I&#x27;ve used Linux for a long time, but I&#x27;ve never really looked into partitioning.</p>
<p>For a new disk, <strong>I recommend <code>gpt</code></strong>: it allows more partitions, it can be booted even in pre-UEFI systems (using <code>grub</code>), and supports disks larger than 2 TiB (up to 8 ZiB for 512-byte sector disks). Actually, if you don’t need to boot from the disk, I’d recommend not using a partitioning scheme at all and simply adding the whole disk to <code>mdadm</code>, LVM, or a zpool, depending on whether you use LVM (on top of <code>mdadm</code> or not) or ZFS.</p>
<p><a href="https://unix.stackexchange.com/questions/289389/what-are-the-differences-between-the-various-partition-tables" target="_blank" rel="noopener noreferrer">What are the differences between the various partition tables? - Unix &amp; Linux Stack Exchange</a></p>
<p><a href="https://repost.aws/knowledge-center/ec2-ubuntu-convert-mbr-to-gpt" target="_blank" rel="noopener noreferrer">Convert Default EC2 Ubuntu Instance&#x27;s MBR to GPT to Bypass 2-TiB Partition Limit | AWS re<!-- -->:Post</a></p>
<p><a href="https://repost.aws/knowledge-center/ec2-centos-convert-mbr-to-gpt" target="_blank" rel="noopener noreferrer">Convert default EC2 CentOS MBR to GPT to bypass 2 TiB limit | AWS re<!-- -->:Post</a></p>
<p><a href="https://docs.aws.amazon.com/ebs/latest/userguide/volume_constraints.html#:~:text=EBS%20currently%20supports%20a%20maximum,how%20the%20volume%20is%20partitioned" target="_blank" rel="noopener noreferrer">Constraints on the size and configuration of an EBS volume - Amazon EBS</a></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># view the partition table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fdisk -l</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/computer-science/operating-system/journaling-file-system.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-02-14T22:40:25.000Z" itemprop="dateModified">Feb 14, 2025</time></b> by <b>Deepak</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/computer-science/operating-system/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Intro</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/computer-science/operating-system/memory-allocation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Memory Allocation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#rationale" class="table-of-contents__link toc-highlight">Rationale</a></li><li><a href="#techniques" class="table-of-contents__link toc-highlight">Techniques</a></li><li><a href="#physical-journals" class="table-of-contents__link toc-highlight">Physical journals</a></li><li><a href="#logical-journals" class="table-of-contents__link toc-highlight">Logical journals</a></li><li><a href="#write-hazards" class="table-of-contents__link toc-highlight">Write hazards</a></li><li><a href="#alternatives" class="table-of-contents__link toc-highlight">Alternatives</a><ul><li><a href="#soft-updates" class="table-of-contents__link toc-highlight">Soft updates</a></li><li><a href="#log-structured-file-systems" class="table-of-contents__link toc-highlight">Log-structured file systems</a></li><li><a href="#copy-on-write-file-systems" class="table-of-contents__link toc-highlight">Copy-on-write file systems</a></li></ul></li><li><a href="#zfs" class="table-of-contents__link toc-highlight">ZFS</a></li><li><a href="#btrfs" class="table-of-contents__link toc-highlight">Btrfs</a></li><li><a href="#ext4" class="table-of-contents__link toc-highlight">ext4</a><ul><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li></ul></li><li><a href="#partition-tables" class="table-of-contents__link toc-highlight">Partition Tables</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>