<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-computer-science/distributed-system/cap-theorem" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">CAP Theorem | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/computer-science/distributed-system/cap-theorem"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="CAP Theorem | Deep Notes"><meta data-rh="true" name="description" content="Proposed by Eric Brewer (Berkeley)"><meta data-rh="true" property="og:description" content="Proposed by Eric Brewer (Berkeley)"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/computer-science/distributed-system/cap-theorem"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/computer-science/distributed-system/cap-theorem" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/computer-science/distributed-system/cap-theorem" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(47, 133, 85)">

<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.1aa998db.css">
<script src="/assets/js/runtime~main.11ccfc56.js" defer="defer"></script>
<script src="/assets/js/main.e625ea3c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepaksood619/deepaksood619.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/about-me/">About Me</a><button aria-label="Expand sidebar category &#x27;About Me&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/computer-science/">Computer Science</a><button aria-label="Collapse sidebar category &#x27;Computer Science&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/computer-science/distributed-system/">Distributed System</a><button aria-label="Collapse sidebar category &#x27;Distributed System&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/distributed-system/byzantine-generals-problem">Byzantine Generals&#x27; Problem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/computer-science/distributed-system/cap-theorem">CAP Theorem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/distributed-system/clocks">Clocks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/distributed-system/consensus-protocols">Consensus Protocols</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/distributed-system/consistency">Consistency</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/distributed-system/distributed-logging">Distributed Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/distributed-system/fallacies-and-problems">Fallacies and Problems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/distributed-system/intro">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/distributed-system/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/distributed-system/vocabulary">Vocabulary</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-science/general/">General</a><button aria-label="Expand sidebar category &#x27;General&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-science/interview-question/">Interview Question</a><button aria-label="Expand sidebar category &#x27;Interview Question&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-science/iot/">IOT</a><button aria-label="Expand sidebar category &#x27;IOT&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/links">Links</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-science/operating-system/">Operating System</a><button aria-label="Expand sidebar category &#x27;Operating System&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-science/others/">Others</a><button aria-label="Expand sidebar category &#x27;Others&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-science/programming-concepts/">Programming Concepts</a><button aria-label="Expand sidebar category &#x27;Programming Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-science/programming-paradigms/">Programming Paradigms</a><button aria-label="Expand sidebar category &#x27;Programming Paradigms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-science/security/">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-science/software-engineering/">Software Engineering</a><button aria-label="Expand sidebar category &#x27;Software Engineering&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-science/system-design/">System Design</a><button aria-label="Expand sidebar category &#x27;System Design&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-science/testing/">Testing</a><button aria-label="Expand sidebar category &#x27;Testing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/databases/">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/devops/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deep Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-science/"><span itemprop="name">Computer Science</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-science/distributed-system/"><span itemprop="name">Distributed System</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">CAP Theorem</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>CAP Theorem</h1>
<p>Proposed by Eric Brewer (Berkeley)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="c---consistency">C - Consistency<a href="#c---consistency" class="hash-link" aria-label="Direct link to C - Consistency" title="Direct link to C - Consistency">​</a></h2>
<ul>
<li>Every read receives the most recent write or an error</li>
<li>all nodes see same data at any time, or reads return latest written value by any client</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="a---availability">A - Availability<a href="#a---availability" class="hash-link" aria-label="Direct link to A - Availability" title="Direct link to A - Availability">​</a></h2>
<ul>
<li>Every request receives a (non-error) response -- without guarantee that it contains the most recent write</li>
<li>the system allows operations all the time, and operations return quickly</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="p---partition-tolerence">P - Partition Tolerence<a href="#p---partition-tolerence" class="hash-link" aria-label="Direct link to P - Partition Tolerence" title="Direct link to P - Partition Tolerence">​</a></h2>
<ul>
<li>The system continues to operate despite an arbitrary number of messages being dropped (or delayed) by the network between nodes</li>
<li>the system continues to work inspite of network partitions</li>
</ul>
<p>Can only achieve two of these.</p>
<p>In the presence of a network partition, you must choose betwen consistency and availability</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-availability-important">Why is Availability Important?<a href="#why-is-availability-important" class="hash-link" aria-label="Direct link to Why is Availability Important?" title="Direct link to Why is Availability Important?">​</a></h2>
<ul>
<li>Availability = Reads/writes complete reliable and quickly</li>
<li>Measurements have shown that a 500 ms increase in latency for operations at Amazon.com or at Google.com can cause a 20% drop in revenue.</li>
<li>At Amazon, each added millisecond of latency implies a $6M yearly loss</li>
<li><strong>User cognitive drift:</strong> If more than a second elapses between clicking and material appearing, the user&#x27;s mind is already somewhere else</li>
<li>SLAs (Service Level Agreements) written by providers predominantly deal with latencies faced by clients.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-consistency-important">Why is Consistency Important?<a href="#why-is-consistency-important" class="hash-link" aria-label="Direct link to Why is Consistency Important?" title="Direct link to Why is Consistency Important?">​</a></h2>
<ul>
<li>Consistency = all nodes see same data at any time, or reads return latest written value by any client.</li>
<li>When you access your bank or investment account via multiple clients, you want the updates done from one client to be visible to other clients.</li>
<li>When thousands of customers are looking to book a flight, all updates from any client (e.g., book a flight) should be accessible by other clients.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-partition-tolerance-important">Why is Partition-Tolerance Important?<a href="#why-is-partition-tolerance-important" class="hash-link" aria-label="Direct link to Why is Partition-Tolerance Important?" title="Direct link to Why is Partition-Tolerance Important?">​</a></h2>
<ul>
<li>Partitions happen. They happen for countless reasons. Switches fail, NICs fail, link layers fail, servers fail, processes fail. Partitions happen even when systemsdon&#x27;tfail due to GC pauses or prolonged I/O latency for example. Let&#x27;s acceptthis as fact andmove on. What this means is that a &quot;CA&quot; system is CAonly until it&#x27;s not. Once that partition happens, all your assumptions and all your guarantees hit the fan in spectacular fashion. Where does this leave us?</li>
<li>Partitions can happen across datacenters when the internet gets disconnected<!-- -->
<ul>
<li>Internet router outages</li>
<li>Under-sea cables cut</li>
<li>DNS not working</li>
</ul>
</li>
<li>Partitions can also occur within a datacenter, e.g. a rack switch outage</li>
<li>Still desire system to continue functioning normally under this scenario</li>
<li>Partition tolerance ensures that system still functions in face of partition or network failure</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cap-theorem-fallout">CAP Theorem Fallout<a href="#cap-theorem-fallout" class="hash-link" aria-label="Direct link to CAP Theorem Fallout" title="Direct link to CAP Theorem Fallout">​</a></h2>
<ul>
<li>Since partition-tolerance is essential in today&#x27;s cloud computing systems, CAP theorem implies that a system has to choose between consistency and availability</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cassandra">Cassandra<a href="#cassandra" class="hash-link" aria-label="Direct link to Cassandra" title="Direct link to Cassandra">​</a></h2>
<ul>
<li>Eventual (weak) consistency, Availability, Partition-tolerance</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="traditional-rdmss">Traditional RDMSs<a href="#traditional-rdmss" class="hash-link" aria-label="Direct link to Traditional RDMSs" title="Direct link to Traditional RDMSs">​</a></h2>
<ul>
<li>Strong consistency over availability under a partition</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cap-tradeoff">CAP Tradeoff<a href="#cap-tradeoff" class="hash-link" aria-label="Direct link to CAP Tradeoff" title="Direct link to CAP Tradeoff">​</a></h2>
<ul>
<li>Starting point for NoSQL Revolution</li>
<li>A distributed storage system can achieve at most two of C, A, and P.</li>
<li>When partition-tolerance is important, you have to choose between consistency and availability</li>
</ul>
<p><img loading="lazy" alt="image" src="/assets/images/CAP-Theorem-image1-75e971969a84c4a44925dd1766b76c3e.jpg" width="762" height="710" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="eventual-consistency">Eventual Consistency<a href="#eventual-consistency" class="hash-link" aria-label="Direct link to Eventual Consistency" title="Direct link to Eventual Consistency">​</a></h2>
<ul>
<li>If all writes stop (to a key), then all its values (replicas) will converge eventually.</li>
<li>If writes continue, then system always tries to keep converging.<!-- -->
<ul>
<li>Moving wave of updated values lagging behind the latest values sent by clients, but always trying to catch up.</li>
</ul>
</li>
<li>May still return stale values to clients (e.g., if many back-to-back writes).</li>
<li>But works well when there a few periods of low writes - system converges quickly</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rdbms-vs-key-value-stores">RDBMS vs Key-value stores<a href="#rdbms-vs-key-value-stores" class="hash-link" aria-label="Direct link to RDBMS vs Key-value stores" title="Direct link to RDBMS vs Key-value stores">​</a></h2>
<ul>
<li>While RDBMS provide ACID<!-- -->
<ul>
<li>Atomicity</li>
<li>Consistency</li>
<li>Isolation</li>
<li>Durability</li>
</ul>
</li>
<li>Key-value stores like Cassandra provide BASE<!-- -->
<ul>
<li>Basically Available Soft-state Eventual Consistency</li>
<li>Prefers Availability over Consistency
Despite your best efforts, your system will experience enough faults that it will have to make a choice between reducing yield (i.e., stop answering requests) and reducing harvest (i.e., giving answers based on incomplete data). This decision should be based on business requirements.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pacelc-pass-elk-theorem">PACELC (pass-elk) Theorem<a href="#pacelc-pass-elk-theorem" class="hash-link" aria-label="Direct link to PACELC (pass-elk) Theorem" title="Direct link to PACELC (pass-elk) Theorem">​</a></h2>
<p>In <a href="https://en.wikipedia.org/wiki/Theoretical_computer_science" target="_blank" rel="noopener noreferrer">theoretical computer science</a>, thePACELC theoremis an extension to the <a href="https://en.wikipedia.org/wiki/CAP_theorem" target="_blank" rel="noopener noreferrer">CAP theorem</a>. It states that in case of network partitioning (P) in a <a href="https://en.wikipedia.org/wiki/Distributed_computing" target="_blank" rel="noopener noreferrer">distributed computer system</a>, one has to choose between availability (A) and consistency (C) (as per the CAP theorem), but else (E), even when the system is running normally in the absence of partitions, one has to choose between latency (L) and consistency (C).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database-pacelc-ratings">Database PACELC ratings<a href="#database-pacelc-ratings" class="hash-link" aria-label="Direct link to Database PACELC ratings" title="Direct link to Database PACELC ratings">​</a></h3>
<ul>
<li>The default versions of <a href="https://en.wikipedia.org/wiki/Amazon_DynamoDB" target="_blank" rel="noopener noreferrer">DynamoDB</a>, <a href="https://en.wikipedia.org/wiki/Apache_Cassandra" target="_blank" rel="noopener noreferrer">Cassandra</a>, <a href="https://en.wikipedia.org/wiki/Riak" target="_blank" rel="noopener noreferrer">Riak</a> and <a href="https://en.wikipedia.org/wiki/Cosmos_DB" target="_blank" rel="noopener noreferrer">Cosmos DB</a> are <strong>PA/EL systems</strong>: if a partition occurs, they give up consistency for availability, and under normal operation they give up consistency for lower latency.</li>
<li>Fully ACID systems such as <a href="https://en.wikipedia.org/wiki/VoltDB" target="_blank" rel="noopener noreferrer">VoltDB</a>/H-Store, Megastore and**<a href="https://en.wikipedia.org/wiki/MySQL_Cluster" target="_blank" rel="noopener noreferrer">MySQL Cluster</a> are PC/EC**: they refuse to give up consistency, and will pay the availability and latency costs to achieve it.<a href="https://en.wikipedia.org/wiki/Bigtable" target="_blank" rel="noopener noreferrer">BigTable</a> and related systems such as <a href="https://en.wikipedia.org/wiki/Apache_HBase" target="_blank" rel="noopener noreferrer">HBase</a> are also PC/EC.</li>
<li><a href="https://docs.couchbase.com/server/6.0/learn/clusters-and-availability/clusters-and-availability.html" target="_blank" rel="noopener noreferrer">Couchbase</a> provides a range of consistency and availability options during a partition, and equally a range of latency and consistency options with no partition. Unlike most other databases, Couchbase doesn&#x27;t have a single API set nor does it scale/replicate all data services homogeneously. For writes, Couchbase favors Consistency over Availability making it formally CP, but on read there is more user-controlled variability depending on index replication, desired consistency level and type of access (single document lookup vs range scan vs full-text search, etc). On top of that, there is then further variability depending on cross-datacenter-replication (XDCR) which takes multiple CP clusters and connects them with asynchronous replication and Couchbase Lite which is an embedded database and creates a fully multi-master (with revision tracking) distributed topology.</li>
<li><a href="https://en.wikipedia.org/wiki/Cosmos_DB" target="_blank" rel="noopener noreferrer">Cosmos DB</a> supports five tunable consistency levels that allow for tradeoffs between C/A during P, and L/C during E.<a href="https://en.wikipedia.org/wiki/Cosmos_DB" target="_blank" rel="noopener noreferrer">Cosmos DB</a> never violates the specified consistency level, so it&#x27;s formally CP.</li>
<li><a href="https://en.wikipedia.org/wiki/MongoDB" target="_blank" rel="noopener noreferrer">MongoDB</a> can be classified as a PA/EC system. In the baseline case, the system guarantees reads and writes to be consistent.</li>
<li>PNUTS is a PC/EL system.</li>
<li>Hazelcast IMDG and indeed most in-memory data grids are an implementation of a PA/EC system; Hazelcast can be configured to be EL rather than EC.Concurrency primitives (Lock, AtomicReference, CountDownLatch, etc.) can be either PC/EC or PA/EC.</li>
<li><a href="https://news.ycombinator.com/item?id=18257128" target="_blank" rel="noopener noreferrer">FaunaDB</a> implements <a href="http://cs.yale.edu/homes/thomson/publications/calvin-sigmod12.pdf" target="_blank" rel="noopener noreferrer">Calvin</a>, a transaction protocol created by Dr. Daniel Abadi and author of PACELC theorem, and offers users adjustable controls for LC tradeoff. It is PC/EC for strictly serializable transactions, and EL for serializable reads.</li>
</ul>
<table><thead><tr><th><strong>DDBS</strong></th><th><strong>P+A</strong></th><th><strong>P+C</strong></th><th><strong>E+L</strong></th><th><strong>E+C</strong></th></tr></thead><tbody><tr><td>DynamoDB</td><td>Yes</td><td>Yes</td><td></td><td></td></tr><tr><td>Cassandra</td><td>Yes</td><td>Yes</td><td></td><td></td></tr><tr><td>Cosmos DB</td><td>Yes</td><td>Yes</td><td></td><td></td></tr><tr><td>Couchbase</td><td>Yes</td><td>Yes</td><td>Yes</td><td></td></tr><tr><td>Riak</td><td>Yes</td><td>Yes</td><td></td><td></td></tr><tr><td>VoltDB/H-Store</td><td>Yes</td><td>Yes</td><td></td><td></td></tr><tr><td>Megastore</td><td>Yes</td><td>Yes</td><td></td><td></td></tr><tr><td>BigTable/HBase</td><td>Yes</td><td>Yes</td><td></td><td></td></tr><tr><td>MySQL Cluster</td><td>Yes</td><td>Yes</td><td></td><td></td></tr><tr><td>MongoDB</td><td>Yes</td><td>Yes</td><td></td><td></td></tr><tr><td>PNUTS</td><td>Yes</td><td>Yes</td><td></td><td></td></tr><tr><td>Hazelcast IMDG</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>FaunaDB</td><td>Yes</td><td>Yes</td><td>Yes</td><td></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="links">Links<a href="#links" class="hash-link" aria-label="Direct link to Links" title="Direct link to Links">​</a></h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/PACELC_theorem" target="_blank" rel="noopener noreferrer">PACELC theorem - Wikipedia</a></li>
<li><a href="https://www.infoq.com/articles/cap-twelve-years-later-how-the-rules-have-changed" target="_blank" rel="noopener noreferrer">CAP Twelve Years Later: How the &quot;Rules&quot; Have Changed</a></li>
<li><a href="https://blog.bytebytego.com/p/cap-pacelc-acid-base-essential-concepts" target="_blank" rel="noopener noreferrer">CAP, PACELC, ACID, BASE - Essential Concepts for an Architect’s Toolkit</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/computer-science/distributed-system/cap-theorem.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-10-19T07:37:33.000Z">Oct 19, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/computer-science/distributed-system/byzantine-generals-problem"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Byzantine Generals&#x27; Problem</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/computer-science/distributed-system/clocks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Clocks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#c---consistency" class="table-of-contents__link toc-highlight">C - Consistency</a></li><li><a href="#a---availability" class="table-of-contents__link toc-highlight">A - Availability</a></li><li><a href="#p---partition-tolerence" class="table-of-contents__link toc-highlight">P - Partition Tolerence</a></li><li><a href="#why-is-availability-important" class="table-of-contents__link toc-highlight">Why is Availability Important?</a></li><li><a href="#why-is-consistency-important" class="table-of-contents__link toc-highlight">Why is Consistency Important?</a></li><li><a href="#why-is-partition-tolerance-important" class="table-of-contents__link toc-highlight">Why is Partition-Tolerance Important?</a></li><li><a href="#cap-theorem-fallout" class="table-of-contents__link toc-highlight">CAP Theorem Fallout</a></li><li><a href="#cassandra" class="table-of-contents__link toc-highlight">Cassandra</a></li><li><a href="#traditional-rdmss" class="table-of-contents__link toc-highlight">Traditional RDMSs</a></li><li><a href="#cap-tradeoff" class="table-of-contents__link toc-highlight">CAP Tradeoff</a></li><li><a href="#eventual-consistency" class="table-of-contents__link toc-highlight">Eventual Consistency</a></li><li><a href="#rdbms-vs-key-value-stores" class="table-of-contents__link toc-highlight">RDBMS vs Key-value stores</a></li><li><a href="#pacelc-pass-elk-theorem" class="table-of-contents__link toc-highlight">PACELC (pass-elk) Theorem</a><ul><li><a href="#database-pacelc-ratings" class="table-of-contents__link toc-highlight">Database PACELC ratings</a></li></ul></li><li><a href="#links" class="table-of-contents__link toc-highlight">Links</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>