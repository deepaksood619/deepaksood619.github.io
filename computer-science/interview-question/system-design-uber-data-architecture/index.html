<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-computer-science/interview-question/system-design-uber-data-architecture" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">System Design of Uber Data Architecture | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_compressed.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_compressed.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/computer-science/interview-question/system-design-uber-data-architecture"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="System Design of Uber Data Architecture | Deep Notes"><meta data-rh="true" name="description" content="Uber&#x27;s real-time data infrastructure is a cornerstone of its business operations, processing massive amounts of data every day."><meta data-rh="true" property="og:description" content="Uber&#x27;s real-time data infrastructure is a cornerstone of its business operations, processing massive amounts of data every day."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/computer-science/interview-question/system-design-uber-data-architecture"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/computer-science/interview-question/system-design-uber-data-architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/computer-science/interview-question/system-design-uber-data-architecture" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(53, 120, 229)">

<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.de817004.css">
<script src="/assets/js/runtime~main.cf61909b.js" defer="defer"></script>
<script src="/assets/js/main.9acd0a34.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepaksood619" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.linkedin.com/in/deepaksood619/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/about-deepak-sood/">About Deepak Sood</a><button aria-label="Expand sidebar category &#x27;About Deepak Sood&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/computer-science/">Computer Science</a><button aria-label="Collapse sidebar category &#x27;Computer Science&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/distributed-system/">Distributed System</a><button aria-label="Expand sidebar category &#x27;Distributed System&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/general/">General</a><button aria-label="Expand sidebar category &#x27;General&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/computer-science/interview-question/">Interview Question</a><button aria-label="Collapse sidebar category &#x27;Interview Question&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/aws-tech-other-questions">AWS/Tech/Other Questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/blogs-conferences-blogging-presentation-tech-thursdays">Blogs / Conferences / Blogging / Presentation / Tech Thursdays</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/coding-interview-questions">Coding Interview Questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/system-design-autocomplete-or-typeahead">System Design - Autocomplete or TypeAhead</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/system-design-google-com-into-browser-press-enter">System Design - What happens when you type google.com into your browser&#x27;s address box and press enter?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/system-design-google-search">System Design of Google Search Engine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/system-design-messenger-whatsapp">System Design - Messenger / WhatsApp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/system-design-mmog-game">System Design - MMOG - Game</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/system-design-others">System Design - Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/system-design-parking-lot">System Design - Parking Lot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/system-design-tinyurl">System Design - TinyURL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/system-design-twitter">System Design - Twitter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/computer-science/interview-question/system-design-uber-data-architecture">System Design of Uber Data Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/system-design-uber-lyft-ride-sharing-services">System Design - Uber Lyft ride sharing services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/system-design-youtube">System Design of YouTube</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/interview-question/toptal">TopTal</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/iot/">IOT</a><button aria-label="Expand sidebar category &#x27;IOT&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/computer-science/links">Links</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/operating-system/">Operating System</a><button aria-label="Expand sidebar category &#x27;Operating System&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/others/">Others</a><button aria-label="Expand sidebar category &#x27;Others&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/programming-concepts/">Programming Concepts</a><button aria-label="Expand sidebar category &#x27;Programming Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/programming-paradigms/">Programming Paradigms</a><button aria-label="Expand sidebar category &#x27;Programming Paradigms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/security/">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/software-engineering/">Software Engineering</a><button aria-label="Expand sidebar category &#x27;Software Engineering&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/system-design/">System Design</a><button aria-label="Expand sidebar category &#x27;System Design&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/computer-science/testing/">Testing</a><button aria-label="Expand sidebar category &#x27;Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases/">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/devops/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deepak&#x27;s Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-science/"><span itemprop="name">Computer Science</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-science/interview-question/"><span itemprop="name">Interview Question</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">System Design of Uber Data Architecture</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>System Design of Uber Data Architecture</h1></header>
<p>Uber&#x27;s real-time data infrastructure is a cornerstone of its business operations, processing massive amounts of data every day.</p>
<p>From drivers and riders to restaurants and back-end systems, Uber collects petabytes of data to power important features such as customer incentives, fraud detection, and predictions made by machine learning models.</p>
<p>To manage this vast flow of information, Uber relies on a sophisticated system that handles three key components:</p>
<ul>
<li>Messaging platforms</li>
<li>Stream processing</li>
<li>OLAP (OnLine Analytical Processing)</li>
</ul>
<p>Each element plays a crucial role in ensuring that data is processed and analyzed quickly, allowing Uber to respond to real-time events like ride requests, price changes, and more.</p>
<p><img decoding="async" loading="lazy" alt="Data Flow at Uber Infrastructure" src="/assets/images/Screenshot 2024-10-18 at 6.51.37 PM-4ec9c9efa792e77cd8541a20f71f3f88.jpg" width="999" height="628" class="img_ev3q"></p>
<p>However, maintaining this real-time infrastructure isn&#x27;t easy.</p>
<p>As Uber continues to grow, so do the challenges. The company needs to scale its systems to handle more data, support new use cases, and accommodate a growing number of users. At the same time, they must ensure that the data is always fresh, latency is kept low, and the entire system remains highly available.</p>
<p>In short, Uber&#x27;s real-time data system is essential to its ability to make split-second decisions, and the company has built an advanced architecture to keep everything running smoothly, even as demand grows.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="critical-requirements-of-ubers-real-time-data">Critical Requirements of Uber’s Real-Time Data<a href="#critical-requirements-of-ubers-real-time-data" class="hash-link" aria-label="Direct link to Critical Requirements of Uber’s Real-Time Data" title="Direct link to Critical Requirements of Uber’s Real-Time Data">​</a></h2>
<p>Uber&#x27;s real-time data system has some critical requirements to ensure it operates smoothly and efficiently, especially given its massive scale.</p>
<p>These requirements handle everything from ride pricing to food delivery, ensuring users get the best possible experience.</p>
<ul>
<li><strong>Consistency:</strong> It is crucial for Uber&#x27;s mission-critical services. The data needs to be consistent across all regions, with no room for loss or duplication. This is especially important for services that rely on accurate data, like financial dashboards.</li>
<li><strong>Availability:</strong> Uber’s system needs to be up and running almost all the time, with a 99.99% uptime guarantee. Services like dynamic pricing, which adjust ride prices in real time based on supply and demand, simply can&#x27;t afford downtime.</li>
<li><strong>Data Freshness:</strong> Events, like ride requests or order placements, need to be processed within seconds so the system can make real-time decisions, whether it&#x27;s matching riders with drivers or alerting restaurants of new orders. Some tools, such as the UberEats Restaurant Manager, depend on query latency being super low—ideally, under a second. This allows restaurants to get instant insights into things like orders, sales, and performance metrics.</li>
<li><strong>Scalability:</strong> As Uber grows, its scalability becomes even more important. The data system must be able to expand as more data is generated and new use cases arise, ensuring smooth performance no matter how much demand increases.</li>
<li><strong>Cost Efficiency:</strong> Finally, cost efficiency plays a big role. Since Uber operates on low margins, the company focuses on managing resources efficiently, including memory and storage. This helps keep operational costs down while maintaining top performance.</li>
</ul>
<p>In short, Uber&#x27;s real-time data infrastructure is designed to be consistent, available, fast, scalable, and cost-effective, ensuring the company&#x27;s services run smoothly at all times.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-technologies-used-by-uber">Key Technologies Used By Uber<a href="#key-technologies-used-by-uber" class="hash-link" aria-label="Direct link to Key Technologies Used By Uber" title="Direct link to Key Technologies Used By Uber">​</a></h2>
<p>Uber&#x27;s real-time data infrastructure is powered by a combination of advanced open-source technologies, each customized to handle the company’s massive data needs.</p>
<p>The diagram below shows the overall landscape.</p>
<p><img decoding="async" loading="lazy" src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e74a5c9-a041-4657-a3e4-39017b238e76_1600x1017.png" alt="image" class="img_ev3q"></p>
<p>Let’s take a closer look at the key technologies Uber relies on, how they work, and the unique tweaks that make them fit Uber&#x27;s requirements.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="apache-kafka-for-streaming-data">Apache Kafka for Streaming Data<a href="#apache-kafka-for-streaming-data" class="hash-link" aria-label="Direct link to Apache Kafka for Streaming Data" title="Direct link to Apache Kafka for Streaming Data">​</a></h3>
<p>Kafka is the backbone of Uber’s data streaming.</p>
<p>It handles trillions of messages and petabytes of data daily, helping to transport information from user apps (like driver and rider apps) and microservices. Kafka’s key role is to move this streaming data to batch and real-time systems.</p>
<p><img decoding="async" loading="lazy" src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35bab385-a2ed-4c4f-958d-66e20e5d269b_1600x813.png" alt="image" class="img_ev3q"></p>
<p>At Uber, Kafka was heavily customized to meet its large-scale needs. Some of the key features are as follows:</p>
<ul>
<li><strong>Cluster Federation:</strong> Uber created a federated Kafka cluster setup to improve scalability and reliability. With federation, data is distributed across smaller clusters (each with about 150 nodes), making it easier to manage and scale.</li>
<li><strong>Dead Letter Queues (DLQ):</strong> When messages fail (due to corruption or unexpected behavior), Uber&#x27;s Kafka pushes them to a DLQ so they don’t block live traffic. This keeps data moving smoothly.</li>
<li><strong>Consumer Proxy:</strong> Kafka&#x27;s client libraries were complex, and with so many programming languages in use at Uber, it became difficult to manage. Uber built a proxy layer to simplify client interactions. This layer consumes Kafka messages and forwards them to a user’s service, streamlining error handling and reducing client complexity.</li>
<li><strong>Cross-cluster Replication:</strong> For fault tolerance and redundancy, Uber developed uReplicator, which replicates Kafka messages across data centers. This ensures that data is available globally, even in case of failures.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="apache-flink-for-stream-processing">Apache Flink for Stream Processing<a href="#apache-flink-for-stream-processing" class="hash-link" aria-label="Direct link to Apache Flink for Stream Processing" title="Direct link to Apache Flink for Stream Processing">​</a></h3>
<p>Apache Flink is another critical component of Uber’s infrastructure, used for processing data streams in real-time.</p>
<p>Flink can handle complex workloads, scale efficiently, and manage backlogs of millions of messages without slowing down.</p>
<p>Here’s how Uber improved Flink for their environment:</p>
<ul>
<li><strong>FlinkSQL:</strong> Uber built a SQL layer on top of Flink, known as FlinkSQL, to make stream processing more accessible to users. It translates SQL queries into Flink jobs, allowing engineers and non-engineers alike to build real-time applications without the need to know the underlying code.</li>
<li><strong>Resource Estimation and Auto-scaling:</strong> Flink jobs can vary in resource requirements. Uber built tools to estimate how much CPU and memory a job needs based on its type and adjust resources automatically as workloads change throughout the day.</li>
<li><strong>Failure Recovery:</strong> Flink jobs are continuously monitored, and if a job fails, an automated system restarts it or scales it up as needed.</li>
</ul>
<p>By implementing these changes, Uber has made Flink more reliable and easier to use at scale, allowing thousands of real-time data processing jobs to run efficiently.</p>
<p>See the diagram below that shows the Unified Flink Architecture at Uber.</p>
<p><img decoding="async" loading="lazy" src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9e8a845-940c-468d-a19c-f39f1a8cc4b4_1600x1017.png" alt="image" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="apache-pinot-for-real-time-olap">Apache Pinot for Real-Time OLAP<a href="#apache-pinot-for-real-time-olap" class="hash-link" aria-label="Direct link to Apache Pinot for Real-Time OLAP" title="Direct link to Apache Pinot for Real-Time OLAP">​</a></h3>
<p>For quick, low-latency data analysis, Uber uses Apache Pinot.</p>
<p>Pinot allows real-time analytics on terabytes of data, making it ideal for Uber’s dashboards and operational insights, like tracking ride demand or Uber Eats orders in real-time.</p>
<p>Uber enhanced Pinot in several ways:</p>
<ul>
<li><strong>Upsert Support:</strong> Uber added the ability to handle upserts (updates + inserts), which is crucial for scenarios where data changes frequently, like correcting a ride fare or updating a delivery status. This feature ensures the latest data is always available for analysis.</li>
<li><strong>Full SQL Support with Presto:</strong> Although Pinot is great for real-time queries, it lacks certain advanced SQL features like joins. Uber integrated Pinot with Presto, a distributed SQL query engine, to bridge the gap. This combination allows users to run complex queries on Pinot’s real-time data with low latency.</li>
<li><strong>Peer-to-peer Segment Recovery:</strong> Originally, Pinot relied on external storage systems (like HDFS or S3) for backing up data segments, which created bottlenecks. Uber developed a peer-to-peer segment recovery system, allowing data replicas to serve as backups for each other. This improved both speed and reliability.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hdfs-for-long-term-storage">HDFS for Long-Term Storage<a href="#hdfs-for-long-term-storage" class="hash-link" aria-label="Direct link to HDFS for Long-Term Storage" title="Direct link to HDFS for Long-Term Storage">​</a></h3>
<p>Uber uses HDFS (Hadoop Distributed File System) as the foundation for its long-term data storage. HDFS stores data from Kafka streams and converts it into more efficient formats, like Parquet, for long-term use.</p>
<p>The data stored in HDFS is used for:</p>
<ul>
<li><strong>Backfilling:</strong> When systems need to reprocess historical data (for example, if a bug is fixed), HDFS provides the source for this backfill. The stored data is also used to train new machine-learning models or test new data pipelines.</li>
<li><strong>Checkpointing:</strong> For services like Flink and Pinot, HDFS is used to store checkpoints—snapshots of the system’s state at a particular point in time. This allows systems to recover quickly in case of failure.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="presto-for-interactive-queries">Presto for Interactive Queries<a href="#presto-for-interactive-queries" class="hash-link" aria-label="Direct link to Presto for Interactive Queries" title="Direct link to Presto for Interactive Queries">​</a></h3>
<p>Presto is Uber’s go-to query engine for exploring large datasets in real-time.</p>
<p>It’s designed to provide fast, distributed SQL queries across multiple data sources, including Pinot, Hive, and others.</p>
<p>At Uber, Presto plays a critical role in:</p>
<ul>
<li><strong>Real-time Data Exploration:</strong> Presto allows engineers and data scientists to query real-time data in Pinot and other systems, providing insights on the fly. For example, an Uber Eats operations team might query real-time order data to monitor restaurant performance or customer trends.</li>
<li><strong>Optimization with Pinot:</strong> Uber has customized Presto to push as much query processing as possible to Pinot, reducing query latency and improving efficiency.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use Cases" title="Direct link to Use Cases">​</a></h2>
<p>Uber&#x27;s real-time data infrastructure powers a variety of critical use cases, from surge pricing to real-time analytics for Uber Eats.</p>
<p>Let’s look at some of the most important use cases supported by Uber’s data infrastructure.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1---surge-pricing">1 - Surge Pricing<a href="#1---surge-pricing" class="hash-link" aria-label="Direct link to 1 - Surge Pricing" title="Direct link to 1 - Surge Pricing">​</a></h3>
<p>One of Uber’s most well-known features is surge pricing, which adjusts fares based on real-time demand and supply conditions in a given area.</p>
<p>To make this happen, Uber uses a data pipeline powered by Kafka and Flink. Kafka ingests streaming data from ride requests and driver availability, while Flink processes this information in real-time to calculate pricing multipliers for each area.</p>
<p>The surge pricing pipeline prioritizes data freshness and availability over strict consistency, meaning the system focuses on making quick pricing decisions rather than ensuring every single message is perfectly consistent across all regions.</p>
<p>This approach allows Uber to respond to changes in demand within seconds, keeping the marketplace balanced while maximizing driver availability.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2---ubereats-restaurant-manager">2 - UberEats Restaurant Manager<a href="#2---ubereats-restaurant-manager" class="hash-link" aria-label="Direct link to 2 - UberEats Restaurant Manager" title="Direct link to 2 - UberEats Restaurant Manager">​</a></h3>
<p>For restaurant partners, Uber provides a dashboard called the UberEats Restaurant Manager, which offers real-time insights into order trends, sales, and service performance.</p>
<p>This dashboard is powered by Apache Pinot, a real-time OLAP system designed to handle large datasets with low-latency queries.</p>
<p>Pinot enables fast querying by using pre-aggregated data, meaning that instead of running a complex query every time, certain metrics (like popular menu items or sales figures) are pre-calculated and stored, allowing for quick responses when the restaurant manager requests information.</p>
<p>This setup ensures that restaurant owners get real-time feedback, helping them make informed decisions about their business.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3---real-time-prediction-monitoring">3 - Real-Time Prediction Monitoring<a href="#3---real-time-prediction-monitoring" class="hash-link" aria-label="Direct link to 3 - Real-Time Prediction Monitoring" title="Direct link to 3 - Real-Time Prediction Monitoring">​</a></h3>
<p>To ensure the quality of its machine-learning models, Uber has a system in place for real-time prediction monitoring. This system uses Flink to aggregate predictions from models and compare them against actual outcomes in real-time.</p>
<p>With thousands of machine learning models deployed across Uber’s services, monitoring their performance is critical.</p>
<p>The system processes millions of data points per second to detect any deviations or inaccuracies in model predictions. By continuously aggregating and analyzing this data, Uber ensures that its models are performing as expected and can quickly identify any issues that need attention.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4---ops-automation">4 - Ops Automation<a href="#4---ops-automation" class="hash-link" aria-label="Direct link to 4 - Ops Automation" title="Direct link to 4 - Ops Automation">​</a></h3>
<p>During the pandemic, Uber needed a way to respond quickly to operational needs, such as limiting the number of customers at restaurants to comply with health regulations. The Ops Automation system for Uber Eats was designed to provide this flexibility.</p>
<p>This system uses Presto and Pinot to allow for ad hoc exploration of real-time data, enabling Uber’s operations team to run custom queries on current data about restaurant orders, couriers, and customer activity. For example, if a restaurant was nearing its capacity limit, the system could automatically trigger alerts or actions, such as temporarily pausing orders or notifying couriers to wait outside.</p>
<p>This combination of real-time data and flexible querying made it possible for Uber Eats to adapt to fast-changing regulations, helping restaurants stay open while keeping customers and couriers safe.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scaling-strategies">Scaling Strategies<a href="#scaling-strategies" class="hash-link" aria-label="Direct link to Scaling Strategies" title="Direct link to Scaling Strategies">​</a></h2>
<p>To handle the massive scale of its operations, Uber has developed several key strategies for ensuring its data systems are highly available, reliable, and able to handle real-time and historical data processing.</p>
<p>Three of the most important strategies include the Active-Active Kafka setup, Active-Passive Kafka setup, and a backfill support solution for historical data processing. Let’s look at each in more detail:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1---active-active-kafka-setup">1 - Active-Active Kafka Setup<a href="#1---active-active-kafka-setup" class="hash-link" aria-label="Direct link to 1 - Active-Active Kafka Setup" title="Direct link to 1 - Active-Active Kafka Setup">​</a></h3>
<p>For critical services like surge pricing, ensuring high availability and redundancy is a top priority at Uber. To meet this need, Uber uses an Active-Active Kafka setup across multiple regions. This means that Kafka clusters are deployed in different geographic regions, allowing data to be processed and synchronized across these regions in real-time.</p>
<p>The Active-Active setup ensures that if one region experiences a failure—whether due to a network issue or a server problem—Uber’s systems can continue to function smoothly from another region.</p>
<p>For example, surge pricing calculations, which depend on real-time supply and demand data, are too important to fail. If the primary region fails, another region can immediately take over and continue processing the data without missing a beat.</p>
<p>See the diagram below:</p>
<p><img decoding="async" loading="lazy" src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00f0c703-4ef5-4a6e-bc5e-82c3a6c86db6_1600x1141.png" alt="image" class="img_ev3q"></p>
<p>This setup requires careful synchronization of data between regions. Uber uses uReplicator, a tool they developed to replicate Kafka messages across clusters, ensuring the system remains redundant and reliable. Even if one region goes down, the data is preserved and can be quickly restored in the backup region, minimizing disruption to the service.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2---active-passive-kafka-setup">2 - Active-Passive Kafka Setup<a href="#2---active-passive-kafka-setup" class="hash-link" aria-label="Direct link to 2 - Active-Passive Kafka Setup" title="Direct link to 2 - Active-Passive Kafka Setup">​</a></h3>
<p>In addition to Uber&#x27;s Active-Active Kafka setup, the company also employs an Active-Passive Kafka setup for certain services where strong data consistency is critical. While the Active-Active approach prioritizes availability and redundancy, the Active-Passive strategy is designed for use cases that cannot tolerate any data loss and require more stringent consistency guarantees, such as payment processing or auditing.</p>
<p>In an Active-Passive Kafka setup, only one consumer (in a specific region, called the primary region) is allowed to process messages from Kafka at any given time.</p>
<p>If the primary region fails, the system fails over to a backup (passive) region, which then resumes processing from the same point where the primary left off. This ensures that no data is lost during the failover, preserving message order and maintaining data integrity.</p>
<p>See the diagram below that shows the Active-Passive setup.</p>
<p><img decoding="async" loading="lazy" src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bd81bc0-b086-4fa9-bde0-b16c1fe32634_1600x961.png" alt="image" class="img_ev3q"></p>
<p>The key challenge in Active-Passive setups is offset synchronization—ensuring that the consumer in the backup region starts processing from the same point as the primary region.</p>
<p>To achieve this, Uber developed a sophisticated offset management service. This service synchronizes offsets between the active and passive regions, using the uReplicator to replicate Kafka messages across clusters and periodically checkpoint the offset mappings between the regions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3---backfill-support-with-kappa-architecture">3 - Backfill Support with Kappa+ Architecture<a href="#3---backfill-support-with-kappa-architecture" class="hash-link" aria-label="Direct link to 3 - Backfill Support with Kappa+ Architecture" title="Direct link to 3 - Backfill Support with Kappa+ Architecture">​</a></h3>
<p>While real-time data processing is critical, there are times when Uber needs to reprocess historical data—whether for testing new data pipelines, training machine learning models, or fixing issues after a bug has been discovered. This is where Uber’s backfill support comes in, allowing them to reprocess data streams without causing significant delays or overhead.</p>
<p>Uber uses a solution called Kappa+ architecture, which builds on the idea of processing real-time and historical data streams using the same logic.</p>
<p>Kappa+ allows Uber to reprocess archived data (stored in systems like Hive or HDFS) while using the same stream-processing framework they use for real-time data—Apache Flink. This eliminates the need for separate systems to handle real-time and batch data, simplifying operations and making the system more efficient.</p>
<p>The backfill process also includes optimizations to handle the high throughput of historical data.</p>
<p>For example, Uber uses larger memory buffers and fine-tunes Flink jobs to handle out-of-order data or throttling. This ensures that even when processing large volumes of past data, the system performs smoothly without overwhelming resources.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-lessons">Key Lessons<a href="#key-lessons" class="hash-link" aria-label="Direct link to Key Lessons" title="Direct link to Key Lessons">​</a></h2>
<p>Uber&#x27;s journey in building its real-time data infrastructure is packed with valuable lessons.</p>
<p>Here are the key ones to keep in mind:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1---open-source-adoption">1 - Open-Source Adoption<a href="#1---open-source-adoption" class="hash-link" aria-label="Direct link to 1 - Open-Source Adoption" title="Direct link to 1 - Open-Source Adoption">​</a></h3>
<p>Uber’s decision to adopt open-source technologies was essential for building its infrastructure quickly and scaling effectively. Tools like Kafka, Flink, and Pinot provided solid foundations.</p>
<p>However, scaling them to meet Uber’s massive data needs required significant customizations.</p>
<p>For example, Uber added features like Kafka cluster federation, FlinkSQL, and Pinot upserts to handle their unique requirements for high availability, low-latency queries, and real-time data streaming.</p>
<p>While open-source adoption allowed Uber to innovate fast, they also had to invest heavily in adapting these technologies to fit their system’s scale and complexity.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2---rapid-system-development">2 - Rapid System Development<a href="#2---rapid-system-development" class="hash-link" aria-label="Direct link to 2 - Rapid System Development" title="Direct link to 2 - Rapid System Development">​</a></h3>
<p>To keep pace with their evolving business needs, Uber focused on enabling rapid system development.</p>
<p>One way they achieved this was through client standardization. By ensuring a consistent interface for interacting with systems, Uber reduced the risk of breaking connections when making updates. Additionally, the use of thin client models (simplified client software that offloads much of the processing to centralized servers) allowed Uber to streamline updates and reduce maintenance overhead.</p>
<p>A strong CI/CD (Continuous Integration/Continuous Deployment) framework was also critical. This framework allowed Uber to test, integrate, and deploy updates automatically, reducing the risk of bugs and ensuring that new features could be quickly rolled out without affecting the system’s stability.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3---operational-automation">3 - Operational Automation<a href="#3---operational-automation" class="hash-link" aria-label="Direct link to 3 - Operational Automation" title="Direct link to 3 - Operational Automation">​</a></h3>
<p>Managing Uber’s massive data infrastructure manually would be impossible, so operational automation became a key priority.</p>
<p>Uber emphasized automation for tasks like scaling infrastructure, managing clusters, and deploying new services. This minimized the need for manual intervention, helping the system scale efficiently even as the company grew.</p>
<p>In addition to automation, Uber implemented robust monitoring and alerting systems. These systems allow the engineering teams to keep track of the health of the infrastructure in real-time, alerting them to any issues so they can be addressed quickly before they impact critical services like surge pricing or Uber Eats operations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4---user-onboarding-and-debugging">4 - User Onboarding and Debugging<a href="#4---user-onboarding-and-debugging" class="hash-link" aria-label="Direct link to 4 - User Onboarding and Debugging" title="Direct link to 4 - User Onboarding and Debugging">​</a></h3>
<p>With so many engineers, data scientists, and operational teams interacting with Uber’s data infrastructure, automated onboarding was crucial.</p>
<p>Uber developed processes that allowed new users to quickly access data, create Kafka topics, and launch Flink jobs without needing deep technical knowledge.</p>
<p>Additionally, automated data discovery and auditing tools helped users find the data they needed and ensured that the data flowing through the system was accurate and reliable. By automating these processes, Uber reduced the workload for their core engineering teams and enabled more users to interact with the data systems independently.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>Uber&#x27;s real-time data infrastructure is a vital part of its business operations, supporting everything from surge pricing and UberEats dashboards to real-time machine learning predictions.</p>
<p>By leveraging a combination of open-source technologies like Apache Kafka, Flink, Pinot, and Presto, Uber has built a highly scalable and reliable system that processes trillions of messages and petabytes of data every day.</p>
<p>Key innovations, such as the Active-Active Kafka setup for high availability and the Kappa+ architecture for seamless backfill support, allow Uber to maintain real-time and historical data processing with minimal disruption. The infrastructure’s success also stems from Uber’s emphasis on customization, rapid development with thin client models, and extensive operational automation.</p>
<p>As Uber continues to scale, these technologies and strategies provide the foundation for further innovation, enabling it to respond to new challenges while maintaining the high-performance standards required to serve millions of users globally. Uber&#x27;s journey highlights the importance of combining open-source solutions with tailored engineering efforts to meet the needs of a fast-growing, data-driven organization.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ul>
<li><a href="https://blog.bytebytego.com/p/how-uber-manages-petabytes-of-real" target="_blank" rel="noopener noreferrer">How Uber Manages Petabytes of Real-Time Data</a></li>
<li><a href="https://arxiv.org/pdf/2104.00087" target="_blank" rel="noopener noreferrer">Real-time Data Infrastructure at Uber</a></li>
<li><a href="https://kafka.apache.org/documentation/#gettingStarted" target="_blank" rel="noopener noreferrer">Kafka Introduction</a></li>
<li><a href="https://docs.pinot.apache.org/basics/concepts/architecture" target="_blank" rel="noopener noreferrer">Pinot Architecture</a></li>
<li><a href="https://prestodb.io/docs/current/overview/concepts.html" target="_blank" rel="noopener noreferrer">What is Presto?</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/computer-science/interview-question/system-design-uber-data-architecture.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-02-14T22:40:25.000Z" itemprop="dateModified">Feb 14, 2025</time></b> by <b>Deepak</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/computer-science/interview-question/system-design-twitter"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">System Design - Twitter</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/computer-science/interview-question/system-design-uber-lyft-ride-sharing-services"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">System Design - Uber Lyft ride sharing services</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#critical-requirements-of-ubers-real-time-data" class="table-of-contents__link toc-highlight">Critical Requirements of Uber’s Real-Time Data</a></li><li><a href="#key-technologies-used-by-uber" class="table-of-contents__link toc-highlight">Key Technologies Used By Uber</a><ul><li><a href="#apache-kafka-for-streaming-data" class="table-of-contents__link toc-highlight">Apache Kafka for Streaming Data</a></li><li><a href="#apache-flink-for-stream-processing" class="table-of-contents__link toc-highlight">Apache Flink for Stream Processing</a></li><li><a href="#apache-pinot-for-real-time-olap" class="table-of-contents__link toc-highlight">Apache Pinot for Real-Time OLAP</a></li><li><a href="#hdfs-for-long-term-storage" class="table-of-contents__link toc-highlight">HDFS for Long-Term Storage</a></li><li><a href="#presto-for-interactive-queries" class="table-of-contents__link toc-highlight">Presto for Interactive Queries</a></li></ul></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a><ul><li><a href="#1---surge-pricing" class="table-of-contents__link toc-highlight">1 - Surge Pricing</a></li><li><a href="#2---ubereats-restaurant-manager" class="table-of-contents__link toc-highlight">2 - UberEats Restaurant Manager</a></li><li><a href="#3---real-time-prediction-monitoring" class="table-of-contents__link toc-highlight">3 - Real-Time Prediction Monitoring</a></li><li><a href="#4---ops-automation" class="table-of-contents__link toc-highlight">4 - Ops Automation</a></li></ul></li><li><a href="#scaling-strategies" class="table-of-contents__link toc-highlight">Scaling Strategies</a><ul><li><a href="#1---active-active-kafka-setup" class="table-of-contents__link toc-highlight">1 - Active-Active Kafka Setup</a></li><li><a href="#2---active-passive-kafka-setup" class="table-of-contents__link toc-highlight">2 - Active-Passive Kafka Setup</a></li><li><a href="#3---backfill-support-with-kappa-architecture" class="table-of-contents__link toc-highlight">3 - Backfill Support with Kappa+ Architecture</a></li></ul></li><li><a href="#key-lessons" class="table-of-contents__link toc-highlight">Key Lessons</a><ul><li><a href="#1---open-source-adoption" class="table-of-contents__link toc-highlight">1 - Open-Source Adoption</a></li><li><a href="#2---rapid-system-development" class="table-of-contents__link toc-highlight">2 - Rapid System Development</a></li><li><a href="#3---operational-automation" class="table-of-contents__link toc-highlight">3 - Operational Automation</a></li><li><a href="#4---user-onboarding-and-debugging" class="table-of-contents__link toc-highlight">4 - User Onboarding and Debugging</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>