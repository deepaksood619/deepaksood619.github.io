<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-databases/sql-databases/aws-redshift/intro" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">AWS Redshift | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_compressed.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_compressed.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/intro"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="AWS Redshift | Deep Notes"><meta data-rh="true" name="description" content="- OLAP"><meta data-rh="true" property="og:description" content="- OLAP"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/intro"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/intro" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/intro" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(53, 120, 229)">

<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.34fe0275.css">
<script src="/assets/js/runtime~main.0ddde9b7.js" defer="defer"></script>
<script src="/assets/js/main.c56add32.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepaksood619" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.linkedin.com/in/deepaksood619/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/about-deepak-sood/">About Deepak Sood</a><button aria-label="Expand sidebar category &#x27;About Deepak Sood&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/computer-science/">Computer Science</a><button aria-label="Expand sidebar category &#x27;Computer Science&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/databases/">Databases</a><button aria-label="Collapse sidebar category &#x27;Databases&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/concepts/">Databases Concepts</a><button aria-label="Expand sidebar category &#x27;Databases Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/data-warehouses/">Data Warehouses</a><button aria-label="Expand sidebar category &#x27;Data Warehouses&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/indexing/">Indexing</a><button aria-label="Expand sidebar category &#x27;Indexing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/modeling/">Modeling</a><button aria-label="Expand sidebar category &#x27;Modeling&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/nosql-databases/">NoSQL Databases</a><button aria-label="Expand sidebar category &#x27;NoSQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/others/">Others</a><button aria-label="Expand sidebar category &#x27;Others&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/databases/sql-databases/">SQL Databases</a><button aria-label="Collapse sidebar category &#x27;SQL Databases&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/amazon-aurora-vs-rds">Amazon Aurora vs RDS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/amazon-rds">Amazon RDS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/sql-databases/aws-aurora/">AWS Aurora</a><button aria-label="Expand sidebar category &#x27;AWS Aurora&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/databases/sql-databases/aws-redshift/">Redshift</a><button aria-label="Collapse sidebar category &#x27;Redshift&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/deep-dive-best-practices">Deep dive / Best practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/documentation">Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/etl-redshift">ETL in Redshift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/databases/sql-databases/aws-redshift/intro">AWS Redshift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/pricing-sizing">Pricing / Sizing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/redshift-sql-queries-commands">Redshift SQL Queries / Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/wlm-qmr">Workload management (WLM) and query monitoring rules (QMR)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/sql-databases/memsql/">MemSQL</a><button aria-label="Expand sidebar category &#x27;MemSQL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/sql-databases/mysql/">MySQL</a><button aria-label="Expand sidebar category &#x27;MySQL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/normalization">Normalization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/partitioning-sharding">Partitioning / Sharding</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/sql-databases/postgres/">Postgres</a><button aria-label="Expand sidebar category &#x27;Postgres&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/rdbms">RDBMS</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/devops/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deepak&#x27;s Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/"><span itemprop="name">Databases</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/sql-databases/"><span itemprop="name">SQL Databases</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/sql-databases/aws-redshift/"><span itemprop="name">Redshift</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">AWS Redshift</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>AWS Redshift</h1></header>
<ul>
<li>OLAP</li>
<li>Columnar data storage structure</li>
<li>Fully managed data warehouse service</li>
<li>Its datasets range from 100s of gigabytes to a petabyte</li>
<li><strong>Based on industry-standard PostgreSQL and ParAccel&#x27;s Massive Parallel Processing technology,</strong> leveraging its distributed architecture, columnar storage, and column compression to execute exploratory queries</li>
<li>Due to being based off of PostgreSQL, Redshift allows clients to make connections and execute DDL and DML SQL statements using JDBC or ODBC</li>
<li>Very efficient, targeted data compression encoding schemes</li>
<li><strong>Redshift spectrum</strong> which basically allows the customers to use the computing power of Redshift cluster on data stored in S3 by creating external tables.</li>
</ul>
<p>The initial process to create a data warehouse is to launch a set of compute resources callednodes, which are organized into groups calledcluster. After that you can process your queries.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="history">History<a href="#history" class="hash-link" aria-label="Direct link to History" title="Direct link to History">​</a></h2>
<p>In July 2011, Amazon invested in ParAccel, a software company that developed a shared-nothing architecture relational database system for analytics and business intelligence. In exchange for its investment, Amazon acquired license rights to ParAccel&#x27;s database system which would form the foundation of Amazon&#x27;s own data warehouse solution: Amazon Redshift. After subsequent development by Amazon and integration with AWS, Amazon Redshift was officially announced at the AWS re<!-- -->:invent<!-- --> 2012 conference and, after a limited preview, was released to the general public in February 2013.</p>
<p>Rewrote whole storage engine for columnar, MPP</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compression">Compression<a href="#compression" class="hash-link" aria-label="Direct link to Compression" title="Direct link to Compression">​</a></h2>
<p><a href="https://dbdb.io/browse?compression=dictionary-encoding" target="_blank" rel="noopener noreferrer">Dictionary Encoding</a><a href="https://dbdb.io/browse?compression=delta-encoding" target="_blank" rel="noopener noreferrer">Delta Encoding</a><a href="https://dbdb.io/browse?compression=run-length-encoding" target="_blank" rel="noopener noreferrer">Run-Length Encoding</a><a href="https://dbdb.io/browse?compression=naive-page-level" target="_blank" rel="noopener noreferrer">Naïve (Page-Level)</a><a href="https://dbdb.io/browse?compression=bit-packing-mostly-encoding" target="_blank" rel="noopener noreferrer">Bit Packing / Mostly Encoding</a></p>
<p>Redshift allows for the columns to be compressed, reducing data size and storing more data within each disk block. This allows for reduced disk I/O and improves query performance. Column compression will be automatically applied when loading data into Redshift using the COPY command but can also be selected manually.</p>
<p>Redshift allows for the following possible compression options.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="raw">Raw<a href="#raw" class="hash-link" aria-label="Direct link to Raw" title="Direct link to Raw">​</a></h2>
<p>Raw encoding stores the data as-is. None of the values are compressed. By default, no compression is applied to values of columns defined as the sort key and values of BOOLEAN, REAL, or DOUBLEdatatypes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="byte-dictionary">Byte-Dictionary<a href="#byte-dictionary" class="hash-link" aria-label="Direct link to Byte-Dictionary" title="Direct link to Byte-Dictionary">​</a></h2>
<p>For each 1 MB block on disk, a dictionary a created which maps the first 256 unique column values to a single byte. In the original data, those values are replaced with the corresponding single byte. If there are more than 256 unique column data values in a block, any unique data values beyond the first 256 are stored raw. This encoding is primarily suited for columns containing a limited number of character values and does not support BOOLEAN data types.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="delta">Delta<a href="#delta" class="hash-link" aria-label="Direct link to Delta" title="Direct link to Delta">​</a></h2>
<p>For each 1MB block on disk, data is stored as the difference relative to the previous value in series. Redshift supports two delta variations, DELTA (supports SMALLINT, INT, BIGINT, DATE, TIMESTAMP, DECIMAL) which stores difference as 1-byte values and DELTA32K (INT, BIGINT, DATE, TIMESTAMP, DECIMAL) which stores the difference as 2-byte values. Any difference greater than the delta representable is stored raw along with a 1 byte flag.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mostly">Mostly<a href="#mostly" class="hash-link" aria-label="Direct link to Mostly" title="Direct link to Mostly">​</a></h2>
<p>This encoding utilizes packing to reduce storage. In the event that the value cannot be compressed, the original raw value is stored. MOSTLY8 supports SMALLINT, INT, BIGINT, and DECIMAL. MOSTLY16 supports INT, BIGINT, and DECIMAL. MOSTLY32 supports BIGINT and DECIMAL.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="runlength">Runlength<a href="#runlength" class="hash-link" aria-label="Direct link to Runlength" title="Direct link to Runlength">​</a></h2>
<p>For each 1MB block on disk, consecutive values are replaced with a corresponding token that indicates the number of repetitions and the value repeated. A separate dictionary of unique values is also created for each 1MB block. Runlength is supported for all datatypes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="naive-block-level">Naive Block-level<a href="#naive-block-level" class="hash-link" aria-label="Direct link to Naive Block-level" title="Direct link to Naive Block-level">​</a></h2>
<p>Under this encoding, each block is compressed with a standard compression algorithm. Particular choices include LZO and ZTSD. For all columns other than the sort key or with types BOOLEAN, REAL, or DOUBLE, LZO is the default compression.- Compress ratio: 2 to 4 times less</p>
<ul>
<li>By default COPY automatically analyzes and compresses data on first load into an empty table</li>
<li>ANALYZE COMPRESSION is a built-in command that will find the optimal compression for each column on an existing table</li>
<li>Compression can return raw if there are very less number of rows in a column or data is very sparse (i.e. column has a lot of NULL)</li>
<li>Changing column encoding requires a table rebuild</li>
<li>SELECT &quot;column&quot;, type, encoding FROM pg_table_def WHERE tablename = &#x27;deep dive&#x27;;</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/AWS-Redshift-image1-0080ea8b9cefd405957826eaefa72c64.jpg" width="999" height="537" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="concurrency-control">Concurrency Control<a href="#concurrency-control" class="hash-link" aria-label="Direct link to Concurrency Control" title="Direct link to Concurrency Control">​</a></h2>
<p><a href="https://dbdb.io/browse?concurrency-control=multi-version-concurrency-control-mvcc" target="_blank" rel="noopener noreferrer">Multi-version Concurrency Control (MVCC)</a></p>
<p>Although not explicitly stated, Redshift utilizes Multi Version Concurrency Control. In particular, transactions capture a snapshot of the latest committed version of the data at the time a SELECT query, a DML statement, ALTER TABLE statement, CREATE TABLE statement, DROP TABLE statement, or TRUNCATE TABLE statement is executed. Redshift prevents write-write conflicts from happening by forcing a transaction to obtain a table-level write lock and only allowing a transaction to release all its write locks when the transaction either commits or aborts. Furthermore, a VACUUM operation is required in order to remove all records marked for deletion and also perform any resorting operations that may or may not be required.</p>
<p>However, Redshift does not offer deadlock prevention or deadlock detection. As such, Redshift warns users to schedule transaction operations in a way that would prevent any deadlocks from arising in the first place, such as by updating tables in the same order or taking locks in the same order.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-model">Data Model<a href="#data-model" class="hash-link" aria-label="Direct link to Data Model" title="Direct link to Data Model">​</a></h2>
<p><a href="https://dbdb.io/browse?data-model=relational" target="_blank" rel="noopener noreferrer">Relational</a></p>
<p>Redshift is a relational database even though it is built upon PostgreSQL. Particular reasons are that Redshift does not support many features considered to be part of the &quot;object-relational&quot; definition, such as but not limited to inheritance and definition of custom structured types.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="foreign-keys">Foreign Keys<a href="#foreign-keys" class="hash-link" aria-label="Direct link to Foreign Keys" title="Direct link to Foreign Keys">​</a></h2>
<p><a href="https://dbdb.io/browse?foreign-keys=supported" target="_blank" rel="noopener noreferrer">Supported</a></p>
<p>Redshift supports the concept of foreign keys but does not actually enforce the foreign key constraint. Redshift utilizes foreign keys as pieces of information during the query planning and optimization stage. However, Redshift does not spend computational resources to ensure that the constraint holds, instead relying on the application where the data originated from to ensure that the foreign key constraint is satisfied.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="indexes">Indexes<a href="#indexes" class="hash-link" aria-label="Direct link to Indexes" title="Direct link to Indexes">​</a></h2>
<p><a href="https://dbdb.io/browse?indexes=not-supported" target="_blank" rel="noopener noreferrer">Not Supported</a></p>
<p>Redshift does not support indexes. As such, Redshift does not suffer any computational overhead from the creation, maintenance, or concurrent use of index data structures.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="isolation-levels">Isolation Levels<a href="#isolation-levels" class="hash-link" aria-label="Direct link to Isolation Levels" title="Direct link to Isolation Levels">​</a></h2>
<p><a href="https://dbdb.io/browse?isolation-levels=serializable" target="_blank" rel="noopener noreferrer">Serializable</a></p>
<p>Redshift only supports serializable isolation, which provides each transaction with the illusion that they are the only transaction operating on a table at a given time (utilizing table-level locks) and ensures that the end-result is equivalent to some serial execution of the transactions. In the event that a transaction executes an operation which would violate serializability, the violating transaction would be aborted and rolled back.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="joins">Joins<a href="#joins" class="hash-link" aria-label="Direct link to Joins" title="Direct link to Joins">​</a></h2>
<p><a href="https://dbdb.io/browse?joins=nested-loop-join" target="_blank" rel="noopener noreferrer">Nested Loop Join</a><a href="https://dbdb.io/browse?joins=hash-join" target="_blank" rel="noopener noreferrer">Hash Join</a><a href="https://dbdb.io/browse?joins=sort-merge-join" target="_blank" rel="noopener noreferrer">Sort-Merge Join</a><a href="https://dbdb.io/browse?joins=broadcast-join" target="_blank" rel="noopener noreferrer">Broadcast Join</a><a href="https://dbdb.io/browse?joins=shuffle-join" target="_blank" rel="noopener noreferrer">Shuffle Join</a></p>
<p>The query planner and optimizer picks the best join and distributed joining algorithm possible. The three join algorithms utilized by Redshift are nested join, hash join which is used for inner and left/right outer joins, and merge join which is used for inner and outer joins. Redshift only uses merge join if the join column is both the distribution and sort key and if the percentage of unsorted data in the two tables is less than 20%.</p>
<p>In the event that the query planner needs to move data around, Redshift will either perform a redistribution (shuffle) or broadcast one side of the join to all other nodes. If redistribution is needed, Redshift may move table data between slices of a single node or between nodes, utilizing the distribution key if the distribution key is part of the join.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="logging">Logging<a href="#logging" class="hash-link" aria-label="Direct link to Logging" title="Direct link to Logging">​</a></h2>
<p><a href="https://dbdb.io/browse?logging=logical-logging" target="_blank" rel="noopener noreferrer">Logical Logging</a></p>
<p>Redshift provides logging for both audit purposes and also for all operations executed by transactions on the system. In particular, Redshift logs the rawSQLstatements that are executed by users and transactions in the system. Furthermore, with the auditing functionality built-in to Redshift, administrators can also track all the SQL statements executed by a specific user.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-compilation">Query Compilation<a href="#query-compilation" class="hash-link" aria-label="Direct link to Query Compilation" title="Direct link to Query Compilation">​</a></h2>
<p><a href="https://dbdb.io/browse?query-compilation=code-generation" target="_blank" rel="noopener noreferrer">Code Generation</a></p>
<p>The query execution plan is generated at the leader node of a particular Redshift cluster. The leader (coordinator) node is responsible for evaluating all the possible execution plans and cost effectiveness of each plan. The leader node rewrites the query, generates compiled C++ code, and sends the compiled binaries to the compute nodes for execution.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-execution">Query Execution<a href="#query-execution" class="hash-link" aria-label="Direct link to Query Execution" title="Direct link to Query Execution">​</a></h2>
<p><a href="https://dbdb.io/browse?query-execution=materialized-model" target="_blank" rel="noopener noreferrer">Materialized Model</a></p>
<p>Redshift utilizes the materialized query processing model, where each processing step emits the entire result at a time. The leader node is responsible for coordinating query execution with the compute nodes and stitching together the results of all the compute nodes into a final result that is returned to the user.</p>
<p>To improve performance, Redshift utilizes late materialization where row reconstruction, utilizing the value&#x27;s block position, is delayed until later steps in the process. Furthermore, Redshift utilizes zone map optimization for its sequential scan, storing a min and max value in the header of each disk block to allow the executor to determine which blocks can be skipped.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-interface">Query Interface<a href="#query-interface" class="hash-link" aria-label="Direct link to Query Interface" title="Direct link to Query Interface">​</a></h2>
<p><a href="https://dbdb.io/browse?query-interface=sql" target="_blank" rel="noopener noreferrer">SQL</a><a href="https://dbdb.io/browse?query-interface=partiql" target="_blank" rel="noopener noreferrer">PartiQL</a></p>
<p>Redshift supports a majority of the standard DDL statements to create and define tables and DML statements to manipulate the data stored within the database. Furthermore, Redshift supports scalar User-Defined Functions that can be constructed either via a SQL SELECT clause or a Python program.</p>
<p>In addition, there are certain functions that can only be executed on the leader node, primarily functions to query the database schema. Furthermore, Redshift implements various extensions to SQL, such as aggregate functions, string functions, and JSON functions although careful care must be taken to the many PostgreSQL features that became unsupported in Redshift.</p>
<p>In 2019, Amazon announced that Redshift Spectrum supports their own SQL dialect called PartiQL.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="storage-architecture">Storage Architecture<a href="#storage-architecture" class="hash-link" aria-label="Direct link to Storage Architecture" title="Direct link to Storage Architecture">​</a></h2>
<p><a href="https://dbdb.io/browse?storage-architecture=disk-oriented" target="_blank" rel="noopener noreferrer">Disk-oriented</a></p>
<p>Redshift uses disk storage. In the distributed system, all the data is stored at the compute node layer. Based on the particular distribution style elected for a particular table, the leader node will either duplicate the data across all the compute nodes or partition the data across all the compute nodes. Furthermore, each compute node will partition its data across its CPU slices in order to achieve maximum parallel computation. To tolerate node or slice failures, data is also duplicated at other nodes in the system.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="storage-model">Storage Model<a href="#storage-model" class="hash-link" aria-label="Direct link to Storage Model" title="Direct link to Storage Model">​</a></h2>
<p><a href="https://dbdb.io/browse?storage-model=decomposition-storage-model-columnar" target="_blank" rel="noopener noreferrer">Decomposition Storage Model (Columnar)</a></p>
<p>Redshift utilizes columnar storage as opposed to row storage. Instead of storing the entire row record together, Redshift stores the values of each table column together. This allows Redshift to pack data together and apply compression in order to minimize disk I/O during query execution. A row can be stitched together by utilizing the offset of a specific value.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="storage-organization">Storage Organization<a href="#storage-organization" class="hash-link" aria-label="Direct link to Storage Organization" title="Direct link to Storage Organization">​</a></h2>
<p><a href="https://dbdb.io/browse?storage-organization=heaps" target="_blank" rel="noopener noreferrer">Heaps</a><a href="https://dbdb.io/browse?storage-organization=sorted-files" target="_blank" rel="noopener noreferrer">Sorted Files</a></p>
<p>On tables without a sort key specified and that remains unsorted, Redshift preserves the order in which the records were originally inserted in. In the unsorted scenario, Redshift stores data in 1MB blocks on disk where new records are simply appended to the end.</p>
<p>On tables with a sort key specified, Redshift stores the &quot;sorted&quot; portion of the data in sorted blocks on disk. Adding new data to the table except for the special case listed below will result in the data being appended to the &quot;unsorted&quot; portion that will only be merged into the &quot;sorted&quot; potion upon aVACUUM. In addition, Redshift provides that theCOPYcommand will automatically sort the incoming data.</p>
<p>In the event that the following conditions are met, adding data to a table will preserve the sortedness of the data and not require an additionalVACUUMoperation to sort the table.</p>
<ul>
<li>The sort column is NOT NULLand there is only 1 sort column</li>
<li>Using COPY into an empty table or the table is 100% sorted</li>
<li>The data can be appended in sort-order to the end of any existing data</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="stored-procedures">Stored Procedures<a href="#stored-procedures" class="hash-link" aria-label="Direct link to Stored Procedures" title="Direct link to Stored Procedures">​</a></h2>
<p><a href="https://dbdb.io/browse?stored-procedures=not-supported" target="_blank" rel="noopener noreferrer">Not Supported</a></p>
<p>Stored procedures, from PostgreSQL, are not supported.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-architecture">System Architecture<a href="#system-architecture" class="hash-link" aria-label="Direct link to System Architecture" title="Direct link to System Architecture">​</a></h2>
<p><a href="https://dbdb.io/browse?system-architecture=shared-nothing" target="_blank" rel="noopener noreferrer">Shared-Nothing</a></p>
<p>Redshift clusters take a two-tiered architecture approach. The leader node serves the role as the coordinator and handles accepting client query requests, generating the query plan, dispatching query fragments to compute nodes, and coalescing results from compute nodes.</p>
<p>The compute nodes utilize a shared-nothing architecture, with each node having dedicated CPU, memory, and disk storage. The leader node determines the data each node stores and will only dispatch a query fragment to a node if the query requires data from that node. For performance reasons, each compute node assigns a portion of memory and disk to each CPU slice for parallel processing.</p>
<p>To ensure data availability during disk or node failure, Redshift utilizes synchronous replication to save redundant copies of the data on other nodes in the system. To provide further durability, Redshift provides complete automated backups to S3 which can then later be used to restore the entire database or a particular table to a cluster.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="leader-node">Leader Node<a href="#leader-node" class="hash-link" aria-label="Direct link to Leader Node" title="Direct link to Leader Node">​</a></h2>
<ul>
<li>SQL endpoint</li>
<li>Stores metadata</li>
<li>Coordinates parallel SQL processing</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compute-nodes">Compute Nodes<a href="#compute-nodes" class="hash-link" aria-label="Direct link to Compute Nodes" title="Direct link to Compute Nodes">​</a></h2>
<ul>
<li>Local, columnar storage</li>
<li>Executes query in parallel</li>
<li>Load, unload, backup, restore</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-redshift-spectrum-nodes">Amazon Redshift Spectrum Nodes<a href="#amazon-redshift-spectrum-nodes" class="hash-link" aria-label="Direct link to Amazon Redshift Spectrum Nodes" title="Direct link to Amazon Redshift Spectrum Nodes">​</a></h2>
<ul>
<li>Execute queries directly again Amazon S3</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/AWS-Redshift-image2-29f2e2c5a8842a249591a4f78162eed8.jpg" width="750" height="650" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="views">Views<a href="#views" class="hash-link" aria-label="Direct link to Views" title="Direct link to Views">​</a></h2>
<p><a href="https://dbdb.io/browse?views=virtual-views" target="_blank" rel="noopener noreferrer">Virtual Views</a></p>
<p>Redshift supports virtual views. The contents of the view are not directly materialized and the query defining the view is rerun every time the view is being used in another query. DELETE or UPDATE statements cannot be used against the view.</p>
<p><a href="https://docs.aws.amazon.com/redshift/latest/dg/c_high_level_system_architecture.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/redshift/latest/dg/c_high_level_system_architecture.html</a></p>
<p><a href="https://docs.aws.amazon.com/redshift/latest/dg/c_challenges_achieving_high_performance_queries.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/redshift/latest/dg/c_challenges_achieving_high_performance_queries.html</a></p>
<p><a href="https://dbdb.io/db/redshift" target="_blank" rel="noopener noreferrer">https://dbdb.io/db/redshift</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-locks">Table Locks<a href="#table-locks" class="hash-link" aria-label="Direct link to Table Locks" title="Direct link to Table Locks">​</a></h2>
<p>Amazon Redshift uses table-level locks</p>
<p>Amazon Redshift has three lock modes:</p>
<ul>
<li><strong>AccessExclusiveLock:</strong> Acquired primarily during DDL operations, such as ALTER TABLE, DROP, or TRUNCATE. AccessExclusiveLock blocks all other locking attempts.</li>
<li><strong>AccessShareLock:</strong> Acquired during UNLOAD, SELECT, UPDATE, or DELETE operations. AccessShareLock blocks only AccessExclusiveLock attempts. AccessShareLock doesn&#x27;t block other sessions that are trying to read or write on the table.</li>
<li><strong>ShareRowExclusiveLock:</strong> Acquired during COPY, INSERT, UPDATE, or DELETE operations. ShareRowExclusiveLock blocks AccessExclusiveLock and otherShareRowExclusiveLock attempts, but doesn&#x27;t block AccessShareLock attempts.</li>
</ul>
<p>When a query or transaction acquires a lock on a table, the lock remains for the duration of the query or transaction. Other queries or transactions that are waiting to acquire the same lock are blocked.</p>
<p><a href="https://aws.amazon.com/premiumsupport/knowledge-center/prevent-locks-blocking-queries-redshift" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/premiumsupport/knowledge-center/prevent-locks-blocking-queries-redshift</a></p>
<p>It is worth mentioning that <a href="https://docs.aws.amazon.com/redshift/latest/dg/c-the-query-plan.html" target="_blank" rel="noopener noreferrer">Merge join</a>(typically the fastest join ; for inner joins and outer joins) is used when joining tables where the join columns are both distribution keysandsort keys, and when less than 20 percent of the joining tables are unsorted.The merge join is not used for full joins.</p>
<p><a href="https://aws.amazon.com/blogs/big-data/whats-new-in-amazon-redshift-2021-a-year-in-review" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/blogs/big-data/whats-new-in-amazon-redshift-2021-a-year-in-review</a></p>
<ul>
<li>Query Editor V2 with charts and jupyter notebooks</li>
</ul>
<p><a href="https://aws.amazon.com/blogs/big-data/whats-new-in-amazon-redshift-2022-a-year-in-review/" target="_blank" rel="noopener noreferrer">What’s new in Amazon Redshift - 2022, a year in review | Amazon Web Services</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="links">Links<a href="#links" class="hash-link" aria-label="Direct link to Links" title="Direct link to Links">​</a></h2>
<ul>
<li><a href="https://www.youtube.com/watch?v=dmsuzIOzmIs&amp;ab_channel=ETL-SQL" target="_blank" rel="noopener noreferrer">Amazon Redshift for absolute beginners course - YouTube</a></li>
<li><a href="https://aws.amazon.com/blogs/big-data/successfully-conduct-a-proof-of-concept-in-amazon-redshift/" target="_blank" rel="noopener noreferrer">Successfully conduct a proof of concept in Amazon Redshift | AWS Big Data Blog</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases/sql-databases/aws-redshift/intro.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-03-29T19:23:04.000Z" itemprop="dateModified">Mar 29, 2024</time></b> by <b>Deepak</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/databases/sql-databases/aws-redshift/etl-redshift"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ETL in Redshift</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/databases/sql-databases/aws-redshift/others"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Others</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#history" class="table-of-contents__link toc-highlight">History</a></li><li><a href="#compression" class="table-of-contents__link toc-highlight">Compression</a></li><li><a href="#raw" class="table-of-contents__link toc-highlight">Raw</a></li><li><a href="#byte-dictionary" class="table-of-contents__link toc-highlight">Byte-Dictionary</a></li><li><a href="#delta" class="table-of-contents__link toc-highlight">Delta</a></li><li><a href="#mostly" class="table-of-contents__link toc-highlight">Mostly</a></li><li><a href="#runlength" class="table-of-contents__link toc-highlight">Runlength</a></li><li><a href="#naive-block-level" class="table-of-contents__link toc-highlight">Naive Block-level</a></li><li><a href="#concurrency-control" class="table-of-contents__link toc-highlight">Concurrency Control</a></li><li><a href="#data-model" class="table-of-contents__link toc-highlight">Data Model</a></li><li><a href="#foreign-keys" class="table-of-contents__link toc-highlight">Foreign Keys</a></li><li><a href="#indexes" class="table-of-contents__link toc-highlight">Indexes</a></li><li><a href="#isolation-levels" class="table-of-contents__link toc-highlight">Isolation Levels</a></li><li><a href="#joins" class="table-of-contents__link toc-highlight">Joins</a></li><li><a href="#logging" class="table-of-contents__link toc-highlight">Logging</a></li><li><a href="#query-compilation" class="table-of-contents__link toc-highlight">Query Compilation</a></li><li><a href="#query-execution" class="table-of-contents__link toc-highlight">Query Execution</a></li><li><a href="#query-interface" class="table-of-contents__link toc-highlight">Query Interface</a></li><li><a href="#storage-architecture" class="table-of-contents__link toc-highlight">Storage Architecture</a></li><li><a href="#storage-model" class="table-of-contents__link toc-highlight">Storage Model</a></li><li><a href="#storage-organization" class="table-of-contents__link toc-highlight">Storage Organization</a></li><li><a href="#stored-procedures" class="table-of-contents__link toc-highlight">Stored Procedures</a></li><li><a href="#system-architecture" class="table-of-contents__link toc-highlight">System Architecture</a></li><li><a href="#leader-node" class="table-of-contents__link toc-highlight">Leader Node</a></li><li><a href="#compute-nodes" class="table-of-contents__link toc-highlight">Compute Nodes</a></li><li><a href="#amazon-redshift-spectrum-nodes" class="table-of-contents__link toc-highlight">Amazon Redshift Spectrum Nodes</a></li><li><a href="#views" class="table-of-contents__link toc-highlight">Views</a></li><li><a href="#table-locks" class="table-of-contents__link toc-highlight">Table Locks</a></li><li><a href="#links" class="table-of-contents__link toc-highlight">Links</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>