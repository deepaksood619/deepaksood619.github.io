<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-databases/indexing/mysql-indexing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">MySQL Indexing | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/databases/indexing/mysql-indexing"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MySQL Indexing | Deep Notes"><meta data-rh="true" name="description" content="Important Points / Keep in mind / Gotchas"><meta data-rh="true" property="og:description" content="Important Points / Keep in mind / Gotchas"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/databases/indexing/mysql-indexing"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/indexing/mysql-indexing" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/indexing/mysql-indexing" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X3OY8NGHVH-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Databases","item":"https://deepaksood619.github.io/databases/"},{"@type":"ListItem","position":2,"name":"Indexing","item":"https://deepaksood619.github.io/databases/indexing/"},{"@type":"ListItem","position":3,"name":"MySQL Indexing","item":"https://deepaksood619.github.io/databases/indexing/mysql-indexing"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Deep Notes" href="/opensearch.xml">
<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(53, 120, 229)">


<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5616865131274062" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.9f55d0bd.css">
<script src="/assets/js/runtime~main.7b3a7cc3.js" defer="defer"></script>
<script src="/assets/js/main.c96be3a1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.webp" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/deepaksood619" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.linkedin.com/in/deepaksood619/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/about-deepak-sood/">About Deepak Sood</a><button aria-label="Expand sidebar category &#x27;About Deepak Sood&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai/">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/algorithms/">Algorithms</a><button aria-label="Expand sidebar category &#x27;Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/book-summaries/">Book Summaries</a><button aria-label="Expand sidebar category &#x27;Book Summaries&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud/">Cloud</a><button aria-label="Expand sidebar category &#x27;Cloud&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/computer-science/">Computer Science</a><button aria-label="Expand sidebar category &#x27;Computer Science&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/courses/">Courses / Certifications</a><button aria-label="Expand sidebar category &#x27;Courses / Certifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-structures/">Data Structures</a><button aria-label="Expand sidebar category &#x27;Data Structures&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/data-warehouses/">Data Warehouses</a><button aria-label="Expand sidebar category &#x27;Data Warehouses&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/databases/">Databases</a><button aria-label="Collapse sidebar category &#x27;Databases&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/concepts/">Databases Concepts</a><button aria-label="Expand sidebar category &#x27;Databases Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/databases/indexing/">Indexing</a><button aria-label="Collapse sidebar category &#x27;Indexing&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/indexing/database-index">Database Index</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/indexing/heaped-storage">Heaped storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/indexing/indexing-questions">Indexing Questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/indexing/intro">Indexing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/indexing/inverted-index">Inverted Index</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/databases/indexing/mysql-indexing">MySQL Indexing</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/modeling/">Modeling</a><button aria-label="Expand sidebar category &#x27;Modeling&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/databases/others/">Others</a><button aria-label="Expand sidebar category &#x27;Others&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases-nosql/">NoSQL Databases</a><button aria-label="Expand sidebar category &#x27;NoSQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/databases-sql/">SQL Databases</a><button aria-label="Expand sidebar category &#x27;SQL Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Expand sidebar category &#x27;Decentralized Applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/devops/">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/economics/">Economics</a><button aria-label="Expand sidebar category &#x27;Economics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/education/">Education</a><button aria-label="Expand sidebar category &#x27;Education&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/frontend/">Frontend</a><button aria-label="Expand sidebar category &#x27;Frontend&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/knowledge/">Knowledge</a><button aria-label="Expand sidebar category &#x27;Knowledge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/languages/">Languages</a><button aria-label="Expand sidebar category &#x27;Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/management/">Management</a><button aria-label="Expand sidebar category &#x27;Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/networking/">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/psychology/">Psychology</a><button aria-label="Expand sidebar category &#x27;Psychology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/python/">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deepak&#x27;s Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technologies/">Technologies</a><button aria-label="Expand sidebar category &#x27;Technologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/databases/"><span>Databases</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/databases/indexing/"><span>Indexing</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">MySQL Indexing</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>MySQL Indexing</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="important-points--keep-in-mind--gotchas">Important Points / Keep in mind / Gotchas<a href="#important-points--keep-in-mind--gotchas" class="hash-link" aria-label="Direct link to Important Points / Keep in mind / Gotchas" title="Direct link to Important Points / Keep in mind / Gotchas">​</a></h2>
<ul>
<li>The primary key is already an index<!-- -->
<ul>
<li>We can&#x27;t have a Primary Key column with a NULL value.</li>
</ul>
</li>
<li>Using composite indexes is vital if you&#x27;re trying to speed up a particular query</li>
<li>Index order is very VERY important</li>
<li>Avoid performing file sorts</li>
<li>In a B-Tree the index is sorted first by the leftmost column, then by the next column, and so on</li>
<li><a href="https://dev.mysql.com/doc/refman/5.7/en/table-scan-avoidance.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/5.7/en/table-scan-avoidance.html</a></li>
<li><a href="https://dev.mysql.com/doc/refman/5.7/en/where-optimization.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/5.7/en/where-optimization.html</a></li>
<li>use index hints</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="you-should-never-make-these-mistakes-again">You should never make these mistakes again<a href="#you-should-never-make-these-mistakes-again" class="hash-link" aria-label="Direct link to You should never make these mistakes again" title="Direct link to You should never make these mistakes again">​</a></h2>
<ul>
<li>Avoid using functions in predicates</li>
<li>Avoid using a wildcard (%) at the beginning of a predicate (The predicate LIKE**&#x27;%abc&#x27;**causes a full table scan.)</li>
<li>Avoid unnecessary columns in SELECT clause</li>
<li>The ORDER BY clause is mandatory in SQL if you expect to get a sorted result</li>
<li>Not taking advantage of indexed top-N queries</li>
<li>Choosing a poor column order in multi-column indexes</li>
<li>Inefficient use of like filters</li>
<li>Not using index-only scans</li>
<li>FullText index is not always used</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="use-inner-join-instead-of-outer-join-if-possible">Use inner join, instead of outer join if possible<a href="#use-inner-join-instead-of-outer-join-if-possible" class="hash-link" aria-label="Direct link to Use inner join, instead of outer join if possible" title="Direct link to Use inner join, instead of outer join if possible">​</a></h4>
<p>Use outer join only when it is necessary. Using it needlessly not only limits database performance but also limits MySQL query optimization options, resulting in slower execution of SQL statements.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="use-distinct-and-union-only-if-it-is-necessary">Use DISTINCT and UNION only if it is necessary<a href="#use-distinct-and-union-only-if-it-is-necessary" class="hash-link" aria-label="Direct link to Use DISTINCT and UNION only if it is necessary" title="Direct link to Use DISTINCT and UNION only if it is necessary">​</a></h4>
<p>Using UNION and DISTINCT operators without any major purpose causes unwanted sorting and slowing down of SQL execution. Instead of UNION, using UNION ALL brings more efficiency in the process and improves MySQL performance more precisely.</p>
<p>Furthermore: typically MySQL will only use one index, per table, per query, so things are going to be much more performant if we design a single index to satisfy our lookup!</p>
<p>A multiple column (composite) index to the rescue!:</p>
<p>To speed this up, we can sort our list by last name and then by first name.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">phonebook</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ADD</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">last_name</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">first_name</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> phone_number </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> phonebook </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> first_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;john&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> last_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;south&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/Indexing_MySQL-Indexing-image1-4398872a2611e987e0b59e179b5888dc.jpg" width="517" height="257" class="img_ev3q"></p>
<p>As an example: the index we&#x27;ve just discussed <code>(last_name, first_name)</code> would not be beneficial for a query such as:</p>
<p><code>SELECT * FROM phonebook where first_name = &#x27;Donald&#x27;;</code></p>
<p>This is because we haven&#x27;t specified any criteria for the last_name. The index we built doesn&#x27;t sort first names in any logical distribution that would allow us to quickly search through them, so instead, we must fall back to a full table scan. (refer back to the example pic above).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="online-create-index">Online Create Index<a href="#online-create-index" class="hash-link" aria-label="Direct link to Online Create Index" title="Direct link to Online Create Index">​</a></h3>
<p>In MySQL 5.6 and higher, the table remains available for read and write operations while the index is being created or dropped. The CREATE INDEX or DROP INDEX statement only finishes after all transactions that are accessing the table are completed, so that the initial state of the index reflects the most recent contents of the table. Previously, modifying the table while an index is being created or dropped typically resulted in a deadlock that cancelled the INSERT, UPDATE, or DELETE statement on the table.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h2>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">last</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">first</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  § </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">last</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> … </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> Good</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  § </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">last</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> … </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">first</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> … </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> Good</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  § </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">first</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> … </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">last</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> … </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> Good</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  § </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">first</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> … </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Index</span><span class="token plain"> Useless</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> VS </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  § </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> Both </span><span class="token keyword" style="color:#00009f">work</span><span class="token plain"> well</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  § </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Second</span><span class="token plain"> only</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  § </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">First</span><span class="token plain"> only</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">Is</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> the same </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">But </span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> the two indexes </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> can benefit </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> … </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> A …</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">UNION</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> … </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> B …</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="clustered-index">clustered index<a href="#clustered-index" class="hash-link" aria-label="Direct link to clustered index" title="Direct link to clustered index">​</a></h2>
<p>The InnoDB term for a primary key index. InnoDB table storage is organized based on the values of the primary key columns, to speed up queries and sorts involving the primary key columns. For best performance, choose the primary key columns carefully based on the most performance-critical queries. Because modifying the columns of the clustered index is an expensive operation, choose primary columns that are rarely or never updated.</p>
<p>In the Oracle Database product, this type of table is known as anindex-organized table.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="relationship-between-primary-key--clustered-index">Relationship between Primary Key &amp; Clustered Index<a href="#relationship-between-primary-key--clustered-index" class="hash-link" aria-label="Direct link to Relationship between Primary Key &amp; Clustered Index" title="Direct link to Relationship between Primary Key &amp; Clustered Index">​</a></h2>
<p>You can&#x27;t create a clustered index manually using InnoDB in MySQL. MySQL chooses it for you. But how does it choose? The following excerpts are from MySQL documentation:</p>
<p>When you define a <code>PRIMARY KEY</code> on your table, InnoDB uses it as the clustered index. Define a primary key for each table that you create. If there is no logical unique and non-null column or set of columns, add a new <a href="https://dev.mysql.com/doc/refman/5.7/en/glossary.html#glos_auto_increment" target="_blank" rel="noopener noreferrer">auto-increment</a> column, whose values are filled in automatically.</p>
<p>If you do not define a PRIMARY KEY for your table, MySQL locates the first UNIQUE index where all the key columns are NOT NULL and InnoDB uses it as the clustered index.</p>
<p>If the table has no PRIMARY KEY or suitable UNIQUE index, InnoDB internally generates a hidden clustered index named GEN_CLUST_INDEX on a synthetic column containing row ID values. The rows are ordered by the ID that InnoDB assigns to the rows in such a table. The row ID is a 6-byte field that increases monotonically as new rows are inserted. Thus, the rows ordered by the row ID are physically in insertion order.</p>
<p>In short, the MySQL InnoDB engine actually manages the primary index as clustered index for improving performance, so the primary key &amp; the actual record on disk are clustered together.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="secondary-index">secondary index<a href="#secondary-index" class="hash-link" aria-label="Direct link to secondary index" title="Direct link to secondary index">​</a></h2>
<p>A type of InnoDB index that represents a subset of table columns. An InnoDB table can have zero, one, or many secondary indexes. (Contrast with the clustered index, which is required for each InnoDB table, and stores the data for all the table columns.)</p>
<p>A secondary index can be used to satisfy queries that only require values from the indexed columns. For more complex queries, it can be used to identify the relevant rows in the table, which are then retrieved through lookups using the clustered index.</p>
<p>Creating and dropping secondary indexes has traditionally involved significant overhead from copying all the data in the InnoDB table. The fast index creation feature makes both CREATE INDEX and DROP INDEX statements much faster for InnoDB secondary indexes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="search-index">search index<a href="#search-index" class="hash-link" aria-label="Direct link to search index" title="Direct link to search index">​</a></h2>
<p>In MySQL, full-text search queries use a special kind of index, the FULLTEXT index. In MySQL 5.6.4 and up, InnoDB and MyISAM tables both support FULLTEXT indexes; formerly, these indexes were only available for MyISAM tables.</p>
<p>By default MySQL will ignore any word that is in 50% or more of the rows in the table as it considers it would be a &#x27;noise&#x27; word.</p>
<p>With very few rows in a table, it is common to hit this 50% limit often (ie. if you have two rows, every word is in at least 50% of the rows!).</p>
<p>There are two modes for MySQL Fulltext searching: natural language mode and Boolean mode. A restriction of natural language mode is &quot; ... words that are present in 50% or more of the rows are considered common and do not match. Full-text searches are natural language searches if no modifier is given.&quot; And natural language is the default mode.</p>
<p><a href="https://stackoverflow.com/questions/1125678/mysql-fulltext-not-working" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/1125678/mysql-fulltext-not-working</a></p>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-index-types.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/5.7/en/innodb-index-types.html</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="primary-key-indexes---mysql">Primary Key Indexes - MySQL<a href="#primary-key-indexes---mysql" class="hash-link" aria-label="Direct link to Primary Key Indexes - MySQL" title="Direct link to Primary Key Indexes - MySQL">​</a></h2>
<ul>
<li>Because the clustered index &quot;is&quot; the table in InnoDB, it&#x27;s important that you choose a suitable primary key, as this key will be used often, and restructuring can be very expensive.</li>
<li>Non-sequential primary keys could lead to fragmentation issues. Causing page splits and disk fragmentations that lead to overheads in I/O operations.</li>
<li>You should strive to insert data in primary key order when using InnoDB, and you should try to use a clustering key that will give a monotonically increasing values for each new row. This will ensure that rows are inserted in sequential order and will offer better performance for joins using primary keys.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disadvantages-of-primary-index">Disadvantages of Primary Index<a href="#disadvantages-of-primary-index" class="hash-link" aria-label="Direct link to Disadvantages of Primary Index" title="Direct link to Disadvantages of Primary Index">​</a></h3>
<p>Since the primary index contains a direct reference to the data block address through the virtual address space &amp; disk blocks are physically organized in the order of the index key, every time the OS does some disk page split due toDMLoperations likeINSERT/UPDATE/DELETE, the primary index also needs to be updated. SoDMLoperations puts some pressure on the performance of the primary index.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="secondary-indexes">Secondary Indexes<a href="#secondary-indexes" class="hash-link" aria-label="Direct link to Secondary Indexes" title="Direct link to Secondary Indexes">​</a></h2>
<p>Obviously there can only be one clustered index - because you can&#x27;t store the row data in two places at once; Therefore secondary indexes (any indexes we apply that aren&#x27;t the primary) are not clustered, and are in fact separate structures to the table itself.
The leaf nodes for secondary indexes don&#x27;t store row data as the Primary Key B-Tree did, instead they simply store Primary Key values which serve as &quot;pointers&quot; to the row data, as you can see below:</p>
<p><img decoding="async" loading="lazy" alt="image" src="data:image/jpeg;base64,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" width="251" height="247" class="img_ev3q"></p>
<p>This typically means when utilizing a secondary index, InnoDB will first use the B-Tree of the secondary index to retrieve the Primary Key values of the applicable rows, and then after use these values in conjunction with the Primary Key B-tree to fetch the row data!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disadvantages-of-a-secondary-index">Disadvantages of a Secondary Index<a href="#disadvantages-of-a-secondary-index" class="hash-link" aria-label="Direct link to Disadvantages of a Secondary Index" title="Direct link to Disadvantages of a Secondary Index">​</a></h3>
<p>With DML operations like DELETE/INSERT, the secondary index also needs to be updated so that the copy of the primary key column can be deleted / inserted. In such cases, the existence of lots of secondary indexes can create issues.</p>
<p>Also, if a primary key is very large like aURL, since secondary indexes contain a copy of the primary key column value, it can be inefficient in terms of storage. More secondary keys means a greater number of duplicate copies of the primary key column value, so more storage in case of a large primary key. Also the primary key itself stores the keys, so the combined effect on storage will be very high. Because the Primary Key is appended to every secondary index in innoDB, don&#x27;t pick huge PK&#x27;s. Ideally keep them short so that it doesn&#x27;t take up too much memory, and remember all data will be clustered onto this primary key; Therefore a bulky Primary Key will lead to bulky secondary indexes.</p>
<p>Slow, It should be quite obvious that this additional lookup to follow the Primary Key &#x27;pointer&#x27; from the secondary index has some overhead, it&#x27;s still quick because the primary key is indexed, but this is where the &#x27;covering index&#x27; optimization comes into play</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="unique-key-index">UNIQUE Key Index<a href="#unique-key-index" class="hash-link" aria-label="Direct link to UNIQUE Key Index" title="Direct link to UNIQUE Key Index">​</a></h2>
<p>Like primary keys, unique keys can also identify records uniquely with one difference - the unique key column can containnullvalues.</p>
<p>Unlike other database servers, in MySQL a unique key column can have as many null values as possible. In SQL standard, null means an undefined value. So if MySQL has to contain only one null value in a unique key column, it has to assume that all null values are the same.</p>
<p>But logically this is not correct sincenullmeans undefined - and undefined values can&#x27;t be compared with each other, it&#x27;s the nature ofnull. As MySQL can&#x27;t assert if allnulls mean the same, it allows multiplenullvalues in the column.
The following command shows how to create a unique key index in MySQL:</p>
<p><code>CREATE UNIQUE INDEX unique_idx_1 ON index_demo (pan_no);</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="composite-index">Composite Index<a href="#composite-index" class="hash-link" aria-label="Direct link to Composite Index" title="Direct link to Composite Index">​</a></h2>
<p>MySQL lets you define indices on multiple columns, up to 16 columns. This index is called a Multi-column / Composite / Compound index.</p>
<p>Let&#x27;s say we have an index defined on 4 columns -col1,col2,col3,col4. With a composite index, we have search capability oncol1,(col1, col2),(col1, col2, col3),(col1, col2, col3, col4). So we can use any left side prefix of the indexed columns, but we can&#x27;t omit a column from the middle &amp; use that like ---(col1, col3)or(col1, col2, col4) or col3 or col4 etc. These are invalid combinations.</p>
<p>The following commands create 2 composite indexes in our table:</p>
<p><code>CREATE INDEX composite_index_1 ON index_demo (phone_no, name, age);</code></p>
<p><code>CREATE INDEX composite_index_2 ON index_demo (pan_no, name, age);</code></p>
<p>If you have queries containing aWHEREclause on multiple columns, write the clause in the order of the columns of the composite index. The index will benefit that query. In fact, while deciding the columns for a composite index, you can analyze different use cases of your system &amp; try to come up with the order of columns that will benefit most of your use cases.</p>
<p>Composite indices can help you in JOIN &amp; SELECT queries as well. Example: in the following SELECT * query, composite_index_2 is used.</p>
<p>When several indexes are defined, the MySQL query optimizer chooses that index which eliminates the greatest number of rows or scans as few rows as possible for better efficiency.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-do-we-use-composite-indices-why-not-define-multiple-secondary-indices-on-the-columns-we-are-interested-in">Why do we use composite indices? Why not define multiple secondary indices on the columns we are interested in?<a href="#why-do-we-use-composite-indices-why-not-define-multiple-secondary-indices-on-the-columns-we-are-interested-in" class="hash-link" aria-label="Direct link to Why do we use composite indices? Why not define multiple secondary indices on the columns we are interested in?" title="Direct link to Why do we use composite indices? Why not define multiple secondary indices on the columns we are interested in?">​</a></h3>
<p>MySQL uses only one index per table per query except for UNION.(In a UNION, each logical query is run separately, and the results are merged.) So defining multiple indices on multiple columns does not guarantee those indices will be used even if they are part of the query.</p>
<p>MySQL maintains something called index statistics which helps MySQL infer what the data looks like in the system. Index statistics is a generilization though, but based on this meta data, MySQL decides which index is appropriate for the current query.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-composite-index-work">How does composite index work?<a href="#how-does-composite-index-work" class="hash-link" aria-label="Direct link to How does composite index work?" title="Direct link to How does composite index work?">​</a></h3>
<p>The columns used in composite indices are concatenated together, and those concatenated keys are stored in sorted order using a B+ Tree. When you perform a search, concatenation of your search keys is matched against those of the composite index. Then if there is any mismatch between the ordering of your search keys &amp; ordering of the composite index columns, the index can&#x27;t be used.</p>
<p>In our example, for the following record, a composite index key is formed by concatenating pan_no, name, age - HJKXS9086Wkousik28.</p>
<table><thead><tr><th>name</th><th>kousik</th></tr></thead><tbody><tr><td>age</td><td>28</td></tr><tr><td>pan_no</td><td>HJKXS9086W</td></tr><tr><td>phone_no</td><td>9090909090</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-identify-if-you-need-a-composite-index">How to identify if you need a composite index<a href="#how-to-identify-if-you-need-a-composite-index" class="hash-link" aria-label="Direct link to How to identify if you need a composite index" title="Direct link to How to identify if you need a composite index">​</a></h3>
<ul>
<li>Analyze your queries first according to your use cases. If you see certain fields are appearing together in many queries, you may consider creating a composite index.</li>
<li>If you are creating an index incol1&amp; a composite index in (col1,col2), then only the composite index should be fine.col1alone can be served by the composite index itself since it&#x27;s a left side prefix of the index.</li>
<li>Consider cardinality. If columns used in the composite index end up having high cardinality together, they are good candidate for the composite index.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="covering-index">Covering Index<a href="#covering-index" class="hash-link" aria-label="Direct link to Covering Index" title="Direct link to Covering Index">​</a></h2>
<p>A covering index is a special kind of composite index where all the columns specified in the query somewhere exist in the index. So the query optimizer does not need to hit the database to get the data - rather it gets the result from the index itself. Example: we have already defined a composite index on (pan_no, name, age), so now consider the following query:</p>
<p><code>SELECT age FROM index_demo WHERE pan_no = &#x27;HJKXS9086W&#x27; AND name = &#x27;kousik&#x27;</code></p>
<p>The columns mentioned in the SELECT &amp; WHERE clauses are part of the composite index. So in this case, we can actually get the value of the age column from the composite index itself. Let&#x27;s see what the EXPLAIN command shows for this query:</p>
<p><code>EXPLAIN FORMAT=JSON SELECT age FROM index_demo WHERE pan_no = &#x27;HJKXS9086W&#x27; AND name = &#x27;111kousik1&#x27;;</code></p>
<p>In the response, note that there is a key -using_indexwhich is set totruewhich signifies that the covering index has been used to answer the query.</p>
<p>If your secondary index holds all the data needed to satisfy your query (it &#x27;covers&#x27; it) then you don&#x27;t need to follow the Primary Key values to fetch any additional data!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="partial-index">Partial Index<a href="#partial-index" class="hash-link" aria-label="Direct link to Partial Index" title="Direct link to Partial Index">​</a></h2>
<p>We already know that Indices speed up our queries at the cost of space. The more indices you have, the more the storage requirement. We have already created an index called <code>secondary_idx_1</code> on the columnname. The column name can contain large values of any length. Also in the index, the row locators&#x27; or row pointers&#x27; metadata have their own size. So overall, an index can have a high storage &amp; memory load.</p>
<p>In MySQL, it&#x27;s possible to create an index on the first few bytes of data as well. Example: the following command creates an index on the first 4 bytes of name. Though this method reduces memory overhead by a certain amount, the index can&#x27;t eliminate many rows, since in this example the first 4 bytes may be common across many names. Usually this kind of prefix indexing is supported on CHAR, VARCHAR,BINARY, VARBINARY type of columns.</p>
<p><code>CREATE INDEX secondary_index_1 ON index_demo (name(4));</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-happens-under-the-hood-when-we-define-an-index">What happens under the hood when we define an index?<a href="#what-happens-under-the-hood-when-we-define-an-index" class="hash-link" aria-label="Direct link to What happens under the hood when we define an index?" title="Direct link to What happens under the hood when we define an index?">​</a></h2>
<p>Let&#x27;s run the SHOW EXTENDED command again:</p>
<p><code>SHOW EXTENDED INDEXES FROM index_demo;</code></p>
<p>We defined secondary_index_1 on name, but MySQL has created a composite index on (name,phone_no) where phone_no is the primary key column. We created secondary_index_2 on age &amp; MySQL created a composite index on (age,phone_no). We created composite_index_2 on (pan_no, name, age) &amp; MySQL has created a composite index on (pan_no,name, age, phone_no). The composite index composite_index_1 already has phone_no as part of it.</p>
<p>So whatever index we create, MySQL in the background creates a backing composite index which in-turn points to the primary key. This means that the primary key is a first class citizen in the MySQL indexing world. It also proves that all the indexes are backed by a copy of the primary index -but I am not sure whether a single copy of the primary index is shared or different copies are used for different indexes.</p>
<p>There are many other indices as well like Spatial index and Full Text Search index offered by MySQL. I have not yet experimented with those indices, so I&#x27;m not discussing them in this post.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-indexes-affect-order-and-group-by">How Indexes Affect <code>ORDER and GROUP BY</code><a href="#how-indexes-affect-order-and-group-by" class="hash-link" aria-label="Direct link to how-indexes-affect-order-and-group-by" title="Direct link to how-indexes-affect-order-and-group-by">​</a></h2>
<p>Another often overlooked factor is how indexes can be used during ordering and grouping!</p>
<p>Say you&#x27;ve only got an index on(last_name)in your phone book, and you run the query:</p>
<p><code>SELECT * FROM phone_book WHERE last_name = &#x27;Simpson&#x27;ORDER BY first_name</code></p>
<p>This will use the last_name index as you&#x27;d hope to quickly narrow down the records with that last name, sadly you now need to perform a sort on these resulting records in order to get them sorted by first name. This is because the index didn&#x27;t sort the results by first_name in any meaningful way.</p>
<p>This is known as a <strong>File Sort:</strong> a sort that occurs after the query; it requires fetching the data into a temporary buffer and sorting it before finally returning. This wouldn&#x27;t have been needed if the data was already sorted by the index in the way you wanted!</p>
<p>This also applies even If you only wanted to read 5 rows. Say you ran the following:</p>
<p><code>SELECT last_name FROM phonebook WHERE first_name=&#x27;Homer&#x27; ORDER BY last_name LIMIT 5;</code></p>
<p>You&#x27;ll still be fetching thousands of records, sorting them, and only after this, returning the top 5 while discarding the rest of the records you spent time processing.</p>
<p>This also applies to GROUP BY statements. if we ran the following query with this composite index onlast_name and first_name:</p>
<p><code>SELECT * FROM phonebook WHERE last_name = &#x27;Burns&#x27; GROUP BY first_name</code></p>
<p>The records would already be sorted bylast_name, allowing us to quickly filter down the records with thelast_name&#x27;Burns&#x27;. After these results are returned they are also then sorted byfirst_namedue to the second part of the index, and so they are intrinsically already grouped for us! We wouldn&#x27;t need to perform any additional sorting at the end which would add further overheads to our query.</p>
<p>INDEX (a,b)</p>
<ul>
<li>ORDER BY a ASC, b ASC*** Good</li>
<li>ORDER BY a DESC, B DESC*** Good</li>
<li>ORDER BY a ASC, b DESC*** Cannot use index</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="range-queries">Range Queries<a href="#range-queries" class="hash-link" aria-label="Direct link to Range Queries" title="Direct link to Range Queries">​</a></h2>
<p>Similar to what we&#x27;ve just said with the prefix rule, the second you use a range query on a column in your index you reach as far as you can utilize this index. This should make sense, if you issued a range query such as:</p>
<p><code>SELECT * FROM phonebook WHERE last_name LIKE &#x27;f%&#x27; AND first_name =&#x27;Ned&#x27;;ADD INDEX (last_name, first_name, phone_number)</code></p>
<p>This would utilize the first part (last_name) of our index, allowing us to quickly satisfy the range conditional and find all rows with thelast_namebeginning with &#x27;f&#x27;; however after this, there isn&#x27;t any way our B-Tree can be further utilized to quickly filter onfirst_name.</p>
<p>If you&#x27;re utilizing an index for range queries, try make sure the column you&#x27;re performing the range over is ordered last within the index</p>
<p>Similarly, you can&#x27;t use an index fully to perform range queries on two columns for the points already mentioned.- You may need to have indexes on the same columns in different orders depending on your queries.</p>
<ul>
<li>Try use as many columns as possible up to the first range of the query - after a range no other index column can be used. So put the index that is likely to be ranged right at the end.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="index-condition-pushdown">Index Condition Pushdown<a href="#index-condition-pushdown" class="hash-link" aria-label="Direct link to Index Condition Pushdown" title="Direct link to Index Condition Pushdown">​</a></h2>
<p>Index push down essentially allows us to push index conditions down to the database engine so that it doesn&#x27;t have to return irrelevant rows that would only be filtered out later by MySQL.
This means in some cases we can still use an index past a range condition. It&#x27;s best to test and see the results for yourself, but regardless of the situation, you&#x27;ll be most effective if you&#x27;re able to leave range columns towards the end of your index. ICP will be most useful for when you have no choice.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prefix-ranges">Prefix ranges?<a href="#prefix-ranges" class="hash-link" aria-label="Direct link to Prefix ranges?" title="Direct link to Prefix ranges?">​</a></h2>
<p><code>SELECT ... WHERE last_name LIKE &quot;%mithers&quot;</code></p>
<p>This isn&#x27;t a range, we can&#x27;t use a B-Tree to traverse this obviously. Imagine yourself being at the root of a tree with such a query, do you go left or right? You don&#x27;t know! This is exactly why we can use an index to support such a query.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples-1">Examples<a href="#examples-1" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="index-a-b-vs-index-b-a">INDEX (a, b) VS INDEX (b, a)<a href="#index-a-b-vs-index-b-a" class="hash-link" aria-label="Direct link to INDEX (a, b) VS INDEX (b, a)" title="Direct link to INDEX (a, b) VS INDEX (b, a)">​</a></h3>
<ul>
<li>WHERE a = 1 AND b &gt; 3*** First is better</li>
<li>WHERE b = 5 AND b &gt; 7*** Second is better</li>
<li>WHERE a &gt; 1 AND b &gt; 3*** Each stops after 1st Column</li>
<li>WHERE b = 2*** Second only</li>
<li>WHERE b &gt; 2*** Second only</li>
<li>WHERE a = 4*** First only</li>
<li>WHERE a &gt; 4*** First only</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="index-a-b-c">INDEX (a, b, c)<a href="#index-a-b-c" class="hash-link" aria-label="Direct link to INDEX (a, b, c)" title="Direct link to INDEX (a, b, c)">​</a></h3>
<ul>
<li>WHERE a &gt; 1 AND b =3 AND c = 4*** Uses only first part of index</li>
<li>WHERE a = 1 AND b &gt; 3 AND c = 4*** Uses first 2 parts of index</li>
<li>WHERE a = 1 AND b = 3 AND c = 4*** Uses all of index</li>
</ul>
<p>In general all of the below could leave an index unusable:</p>
<ul>
<li>!=</li>
<li>less than equal to operator</li>
<li>NOT LIKE, NOT IN...</li>
<li>NOT EXISTS ( SELECT * ... ) - essentially a LEFT JOIN, often efficient</li>
<li>NOT (expression)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dont-use-functions-in-your-queries">Don&#x27;t use functions in your queries<a href="#dont-use-functions-in-your-queries" class="hash-link" aria-label="Direct link to Don&#x27;t use functions in your queries" title="Direct link to Don&#x27;t use functions in your queries">​</a></h2>
<p>MySQL generally can&#x27;t use indexes on columns unless the columns are isolated in the query. So don&#x27;t use functions or expressions in your queries.</p>
<p>The second you do func(column) on left you can&#x27;t use the index and a full table scan will occur.</p>
<p>Examples:</p>
<ul>
<li>WHERE id+3 = 4;*** BAD</li>
<li>Bad: WHERE start_date + INTERVAL 1 YEAR &gt; NOW()*** BAD</li>
<li>WHERE YEAR(start_date) = 2015 AND MONTH(start_date) = 1*** BAD</li>
<li>Where number +0 = 5;*** BAD</li>
<li>WHERE func(number) = n;*** BAD</li>
<li>WHERE number = 5+4;*** GOOD</li>
<li>WHERE number = func(n);*** GOOD</li>
<li>WHERE start_date &gt; NOW() - INTERVAL 1 YEAR*** GOOD</li>
<li>WHERE start_date BETWEEN &quot;2015--01--01&quot; AND &quot;2015--01--31&quot;*** GOOD</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="redundant-indexes">Redundant indexes<a href="#redundant-indexes" class="hash-link" aria-label="Direct link to Redundant indexes" title="Direct link to Redundant indexes">​</a></h2>
<p>Over indexing can hurt performance due to overheads</p>
<p>The drawback of having too many indexes is the maintenance cost.</p>
<p>Adding new indexes might have a performance impact for INSERT, UPDATE, and DELETE operations, especially if a new index causes you to hit memory limits.</p>
<p>Every time you perform a write on a table, the indexes will need to be maintained. Furthermore when you run a query, each index must be considered by the MySQL Optimizer.</p>
<ul>
<li>If there is an index on (A, B), adding another index (A) would be redundant because it is a prefix of the first index. That is, the index on (A, B) can already be used as an index for column A alone.</li>
<li>If there is an index on (A, PK_ID). The PK_ID column as you already know is already included if you&#x27;re using InnoDB, so it&#x27;s redundant, luckily it won&#x27;t add it twice so you are safe to do it, you just don&#x27;t need too.</li>
</ul>
<p>The only time we want redundant indexes is when extending an existing index makes it much larger and thus reduces performance!</p>
<p>You can easily see which indexes are redundant, especially those that have never been used, by querying the INFORMATION_SCHEMA database.
That being said don&#x27;t be afraid to add indexes that will actually be used! In a read heavy application the costs will be negligible. It&#x27;s best to test whether an index is beneficial out for yourself!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="index-merge">Index Merge<a href="#index-merge" class="hash-link" aria-label="Direct link to Index Merge" title="Direct link to Index Merge">​</a></h2>
<p>When i said MySQL only uses one index, per query, per table, most of the times this is true! However, sometimes MySQL does in fact have the capabilities to use multiple single column indexes.</p>
<p>For example: it could use several indexes to fetch primary key values, and then perform a union or intersection depending on the query. These are useful in situations where you cannot form a suitable multicolumn index e.g. in the case of several &#x27;OR&#x27; conditionals in your query.</p>
<p>However it is rare that these are actually used, and if you are able to form a suitable multicolumn index then you should, because this will typically outperform a merge index</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="index-not-used">Index not used<a href="#index-not-used" class="hash-link" aria-label="Direct link to Index not used" title="Direct link to Index not used">​</a></h2>
<ul>
<li>Sometimes MySQL does not use an index, even if one is available. One circumstance under which this occurs is when the optimizer estimates that using the index would require MySQL to access a very large percentage of the rows in the table. (In this case, a table scan is likely to be much faster because it requires fewer seeks.) However, if such a query uses LIMIT to retrieve only some of the rows, MySQL uses an index anyway, because it can much more quickly find the few rows to return in the result.</li>
<li><strong>MySQL will not use indexes if you query the wrong data type (if field is VARCHAR but you are passing integer), but works other way around i.e. index is used in an integer column if you pass string in where column, but you must always use the correct data type while querying</strong></li>
<li>The OR operator in filtering conditions</li>
</ul>
<p>Consider this query:</p>
<p><code>select a,b from tbl where a=3 or b=8;</code></p>
<p>In many cases, MySQL won&#x27;t be able to use an index to apply an OR condition, and as a result, this query is not indexable.</p>
<p>Therefore, we recommend to avoid such OR conditions and consider splitting the query to two parts, combined with a UNION DISTINCT (or even better, UNION ALL, in case you know there won&#x27;t be any duplicate results)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-indexing-guidelines">General Indexing guidelines<a href="#general-indexing-guidelines" class="hash-link" aria-label="Direct link to General Indexing guidelines" title="Direct link to General Indexing guidelines">​</a></h2>
<ul>
<li>Since indices consume extra memory, carefully decide how many &amp; what type of index will suffice your need.</li>
<li>With DML operations, indices are updated, so write operations are quite costly with indexes. The more indices you have, the greater the cost. Indexes are used to make read operations faster. So if you have a system that is write heavy but not read heavy, think hard about whether you need an index or not.</li>
<li>Cardinality is important - cardinality means the number of distinct values in a column. If you create an index in a column that has low cardinality, that&#x27;s not going to be beneficial since the index should reduce search space. Low cardinality does not significantly reduce search space. Example: if you create an index on a boolean (int1or0only ) type column, the index will be very skewed since cardinality is less (cardinality is 2 here). But if this boolean field can be combined with other columns to produce high cardinality, go for that index when necessary.</li>
<li>Indices might need some maintenance as well if old data still remains in the index. They need to be deleted otherwise memory will be hogged, so try to have a monitoring plan for your indices.</li>
</ul>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- show cardinality of a table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SHOW</span><span class="token plain"> INDEXES </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> table_name</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ul>
<li><a href="https://medium.com/@stormanning/mysql-indexing-101-660f3193dde1" target="_blank" rel="noopener noreferrer"><strong>https://medium.com/@stormanning/mysql-indexing-101-660f3193dde1</strong></a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html</a></li>
<li><a href="https://www.freecodecamp.org/news/database-indexing-at-a-glance-bb50809d48bd" target="_blank" rel="noopener noreferrer">https://www.freecodecamp.org/news/database-indexing-at-a-glance-bb50809d48bd</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html" target="_blank" rel="noopener noreferrer"><strong>https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html</strong></a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="unused-indexes">Unused indexes<a href="#unused-indexes" class="hash-link" aria-label="Direct link to Unused indexes" title="Direct link to Unused indexes">​</a></h2>
<p><code>select count(*) from sys.schema_unused_indexes;</code></p>
<p><a href="https://www.eversql.com/how-to-find-unused-indexes-in-a-mysql-database" target="_blank" rel="noopener noreferrer">https://www.eversql.com/how-to-find-unused-indexes-in-a-mysql-database</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="full-table-scans">Full table scans<a href="#full-table-scans" class="hash-link" aria-label="Direct link to Full table scans" title="Direct link to Full table scans">​</a></h2>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sys</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">x$statements_with_full_table_scans</span><span class="token punctuation" style="color:#393A34">;</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier"></span><br></span><span class="token-line" style="color:#393A34"><span class="token identifier"></span><br></span><span class="token-line" style="color:#393A34"><span class="token identifier">select * from sys.</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain">x$statement_analysis</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">;</span><br></span><span class="token-line" style="color:#393A34"><span class="token identifier"></span><br></span><span class="token-line" style="color:#393A34"><span class="token identifier">select * from sys.</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain">x$statements_with_runtimes_in_95th_percentile</span><span class="token punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rebuilding-or-repairing-tables-or-indexes">Rebuilding or Repairing Tables or Indexes<a href="#rebuilding-or-repairing-tables-or-indexes" class="hash-link" aria-label="Direct link to Rebuilding or Repairing Tables or Indexes" title="Direct link to Rebuilding or Repairing Tables or Indexes">​</a></h2>
<p>Methods for rebuilding a table include</p>
<ul>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/rebuilding-tables.html#rebuilding-tables-dump-reload" target="_blank" rel="noopener noreferrer">Dump and Reload Method</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/rebuilding-tables.html#rebuilding-tables-alter-table" target="_blank" rel="noopener noreferrer">ALTER TABLE Method</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/rebuilding-tables.html#rebuilding-tables-repair-table" target="_blank" rel="noopener noreferrer">REPAIR TABLE Method</a></li>
</ul>
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/rebuilding-tables.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/8.0/en/rebuilding-tables.html</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mysql-80---invisible-index">MySQL 8.0 - Invisible Index<a href="#mysql-80---invisible-index" class="hash-link" aria-label="Direct link to MySQL 8.0 - Invisible Index" title="Direct link to MySQL 8.0 - Invisible Index">​</a></h2>
<p>Invisible indexes make it possible to test the effect of removing an index on query performance, without making a destructive change that must be undone should the index turn out to be required. Dropping and re-adding an index can be expensive for a large table, whereas making it invisible and visible are fast, in-place operations.</p>
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/invisible-indexes.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/8.0/en/invisible-indexes.html</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/master/docs/databases/indexing/mysql-indexing.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-12-23T14:13:05.000Z" itemprop="dateModified">Dec 23, 2024</time></b> by <b>Deepak</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/databases/indexing/inverted-index"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Inverted Index</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/databases/modeling/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Modeling</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#important-points--keep-in-mind--gotchas" class="table-of-contents__link toc-highlight">Important Points / Keep in mind / Gotchas</a></li><li><a href="#you-should-never-make-these-mistakes-again" class="table-of-contents__link toc-highlight">You should never make these mistakes again</a><ul><li><a href="#online-create-index" class="table-of-contents__link toc-highlight">Online Create Index</a></li></ul></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a></li><li><a href="#clustered-index" class="table-of-contents__link toc-highlight">clustered index</a></li><li><a href="#relationship-between-primary-key--clustered-index" class="table-of-contents__link toc-highlight">Relationship between Primary Key &amp; Clustered Index</a></li><li><a href="#secondary-index" class="table-of-contents__link toc-highlight">secondary index</a></li><li><a href="#search-index" class="table-of-contents__link toc-highlight">search index</a></li><li><a href="#primary-key-indexes---mysql" class="table-of-contents__link toc-highlight">Primary Key Indexes - MySQL</a><ul><li><a href="#disadvantages-of-primary-index" class="table-of-contents__link toc-highlight">Disadvantages of Primary Index</a></li></ul></li><li><a href="#secondary-indexes" class="table-of-contents__link toc-highlight">Secondary Indexes</a><ul><li><a href="#disadvantages-of-a-secondary-index" class="table-of-contents__link toc-highlight">Disadvantages of a Secondary Index</a></li></ul></li><li><a href="#unique-key-index" class="table-of-contents__link toc-highlight">UNIQUE Key Index</a></li><li><a href="#composite-index" class="table-of-contents__link toc-highlight">Composite Index</a><ul><li><a href="#why-do-we-use-composite-indices-why-not-define-multiple-secondary-indices-on-the-columns-we-are-interested-in" class="table-of-contents__link toc-highlight">Why do we use composite indices? Why not define multiple secondary indices on the columns we are interested in?</a></li><li><a href="#how-does-composite-index-work" class="table-of-contents__link toc-highlight">How does composite index work?</a></li><li><a href="#how-to-identify-if-you-need-a-composite-index" class="table-of-contents__link toc-highlight">How to identify if you need a composite index</a></li></ul></li><li><a href="#covering-index" class="table-of-contents__link toc-highlight">Covering Index</a></li><li><a href="#partial-index" class="table-of-contents__link toc-highlight">Partial Index</a></li><li><a href="#what-happens-under-the-hood-when-we-define-an-index" class="table-of-contents__link toc-highlight">What happens under the hood when we define an index?</a></li><li><a href="#how-indexes-affect-order-and-group-by" class="table-of-contents__link toc-highlight">How Indexes Affect <code>ORDER and GROUP BY</code></a></li><li><a href="#range-queries" class="table-of-contents__link toc-highlight">Range Queries</a></li><li><a href="#index-condition-pushdown" class="table-of-contents__link toc-highlight">Index Condition Pushdown</a></li><li><a href="#prefix-ranges" class="table-of-contents__link toc-highlight">Prefix ranges?</a></li><li><a href="#examples-1" class="table-of-contents__link toc-highlight">Examples</a><ul><li><a href="#index-a-b-vs-index-b-a" class="table-of-contents__link toc-highlight">INDEX (a, b) VS INDEX (b, a)</a></li><li><a href="#index-a-b-c" class="table-of-contents__link toc-highlight">INDEX (a, b, c)</a></li></ul></li><li><a href="#dont-use-functions-in-your-queries" class="table-of-contents__link toc-highlight">Don&#39;t use functions in your queries</a></li><li><a href="#redundant-indexes" class="table-of-contents__link toc-highlight">Redundant indexes</a></li><li><a href="#index-merge" class="table-of-contents__link toc-highlight">Index Merge</a></li><li><a href="#index-not-used" class="table-of-contents__link toc-highlight">Index not used</a></li><li><a href="#general-indexing-guidelines" class="table-of-contents__link toc-highlight">General Indexing guidelines</a></li><li><a href="#unused-indexes" class="table-of-contents__link toc-highlight">Unused indexes</a></li><li><a href="#full-table-scans" class="table-of-contents__link toc-highlight">Full table scans</a></li><li><a href="#rebuilding-or-repairing-tables-or-indexes" class="table-of-contents__link toc-highlight">Rebuilding or Repairing Tables or Indexes</a></li><li><a href="#mysql-80---invisible-index" class="table-of-contents__link toc-highlight">MySQL 8.0 - Invisible Index</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Deep Notes, Built with ❤️</div></div></div></footer></div>
</body>
</html>