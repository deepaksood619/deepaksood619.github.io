<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-databases/concepts/concurrency-control">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Concurrency Control | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/databases/concepts/concurrency-control"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Concurrency Control | Deep Notes"><meta data-rh="true" name="description" content="The protocol to allow transactions to access a database in a multi-programmed fashion while preserving the illusion that each of them is executing alone on a dedicated system"><meta data-rh="true" property="og:description" content="The protocol to allow transactions to access a database in a multi-programmed fashion while preserving the illusion that each of them is executing alone on a dedicated system"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/databases/concepts/concurrency-control"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/concepts/concurrency-control" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/concepts/concurrency-control" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(47, 133, 85)"><link rel="stylesheet" href="/assets/css/styles.f5da662c.css">
<link rel="preload" href="/assets/js/runtime~main.15c3fef8.js" as="script">
<link rel="preload" href="/assets/js/main.b5c3f313.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepaksood619/deepaksood619.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/about-me/">About Me</a><button aria-label="Toggle the collapsible sidebar category &#x27;About Me&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ai/">AI</a><button aria-label="Toggle the collapsible sidebar category &#x27;AI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/algorithms/">Algorithms</a><button aria-label="Toggle the collapsible sidebar category &#x27;Algorithms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/book-summaries/">Book Summaries</a><button aria-label="Toggle the collapsible sidebar category &#x27;Book Summaries&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cloud/aws/">cloud</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/computer-science/">Computer Science</a><button aria-label="Toggle the collapsible sidebar category &#x27;Computer Science&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/data-structures/">Data Structures</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Structures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/databases/">Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/databases/concepts/">Databases Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Databases Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/concepts/acid-and-base">ACID and BASE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/databases/concepts/concurrency-control">Concurrency Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/concepts/core-concepts">Core Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/concepts/disk-oriented-vs-in-memory-dbs">Disk oriented vs in-memory DBs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/concepts/history">History</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/concepts/intro">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/concepts/isolation-levels">Isolation Levels</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/concepts/mvcc-multiversion-concurrency-control">MVCC, MultiVersion Concurrency Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/concepts/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/concepts/rum-conjecture">RUM Conjecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/concepts/types-of-databases">Types of Databases</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/data-warehousing/">Data Warehousing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Warehousing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/indexing/">Indexing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Indexing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/modeling/">Modeling</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/nosql-databases/">NoSQL Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;NoSQL Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/others/">Others</a><button aria-label="Toggle the collapsible sidebar category &#x27;Others&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/">SQL Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Decentralized Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/devops/">DevOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/economics/">Economics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Economics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/frontend/">Frontend</a><button aria-label="Toggle the collapsible sidebar category &#x27;Frontend&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/knowledge/">Knowledge</a><button aria-label="Toggle the collapsible sidebar category &#x27;Knowledge&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/languages/">Languages</a><button aria-label="Toggle the collapsible sidebar category &#x27;Languages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/management/">Management</a><button aria-label="Toggle the collapsible sidebar category &#x27;Management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/mathematics/">Mathematics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mathematics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/networking/">Networking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Networking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/psychology/">Psychology</a><button aria-label="Toggle the collapsible sidebar category &#x27;Psychology&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/python/">Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deep Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/technologies/">Technologies</a><button aria-label="Toggle the collapsible sidebar category &#x27;Technologies&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/"><span itemprop="name">Databases</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/concepts/"><span itemprop="name">Databases Concepts</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Concurrency Control</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Concurrency Control</h1><p>The protocol to allow transactions to access a database in a multi-programmed fashion while preserving the illusion that each of them is executing alone on a dedicated system</p><ul><li>Provides Atomicity + Isolation in ACID</li><li>The goal is to have the effect of a group of transactions on the database&#x27;s state is equivalent to any serial execution of all transactions.
Computer systems, both <a href="https://en.wikipedia.org/wiki/Software" target="_blank" rel="noopener noreferrer">software</a> and <a href="https://en.wikipedia.org/wiki/Computer_hardware" target="_blank" rel="noopener noreferrer">hardware</a>, consist of modules, or components. Each component is designed to operate correctly, i.e., to obey or to meet certain consistency rules. When components that operate concurrently interact by messaging or by sharing accessed data (in <a href="https://en.wikipedia.org/wiki/Computer_memory" target="_blank" rel="noopener noreferrer">memory</a> or <a href="https://en.wikipedia.org/wiki/Computer_data_storage" target="_blank" rel="noopener noreferrer">storage</a>), a certain component&#x27;s consistency may be violated by another component. The general area of concurrency control provides rules, methods, design methodologies, and <a href="https://en.wikipedia.org/wiki/Scientific_theory" target="_blank" rel="noopener noreferrer">theories</a> to maintain the consistency of components operating concurrently while interacting, and thus the consistency and correctness of the whole system. Introducing concurrency control into a system means applying operation constraints which typically result in some performance reduction. Operation consistency and correctness should be achieved with as good as possible efficiency, without reducing performance below reasonable levels. Concurrency control can require significant additional complexity and overhead in a <a href="https://en.wikipedia.org/wiki/Concurrent_algorithm" target="_blank" rel="noopener noreferrer">concurrent algorithm</a> compared to the simpler <a href="https://en.wikipedia.org/wiki/Sequential_algorithm" target="_blank" rel="noopener noreferrer">sequential algorithm</a>.
For example, a failure in concurrency control can result in <a href="https://en.wikipedia.org/wiki/Data_corruption" target="_blank" rel="noopener noreferrer">data corruption</a> from <a href="https://en.wikipedia.org/w/index.php?title=Torn_data-access_operation&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener noreferrer">torn read or write operations</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mysql-concurreny-control">MySQL Concurreny Control<a href="#mysql-concurreny-control" class="hash-link" aria-label="Direct link to MySQL Concurreny Control" title="Direct link to MySQL Concurreny Control">​</a></h2><ul><li>Lock based concurrency control</li><li>Multi version concurrency control (MVCC)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="concurrency-control-mechanisms">Concurrency control mechanisms<a href="#concurrency-control-mechanisms" class="hash-link" aria-label="Direct link to Concurrency control mechanisms" title="Direct link to Concurrency control mechanisms">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimistic-vs-pessimistic-locking">Optimistic vs Pessimistic Locking<a href="#optimistic-vs-pessimistic-locking" class="hash-link" aria-label="Direct link to Optimistic vs Pessimistic Locking" title="Direct link to Optimistic vs Pessimistic Locking">​</a></h2><ul><li><p>Pessimistic Locking</p><p>  Acquire all the locks beforehand and then commit our transaction</p></li><li><p>Optimistic Locking</p><p>  We do not acquire any locks on data and when commiting a transaction we check to see if any other transaction updated the record we are working on.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimistic-vs-pessimistic-concurrency-control">Optimistic vs Pessimistic Concurrency Control<a href="#optimistic-vs-pessimistic-concurrency-control" class="hash-link" aria-label="Direct link to Optimistic vs Pessimistic Concurrency Control" title="Direct link to Optimistic vs Pessimistic Concurrency Control">​</a></h2><ul><li>Pessimistic concurrency control</li></ul><p>Widely used by relational databases, this approach assumes that conflicting changes are likely to happen and so blocks access to a resource in order to prevent conflicts. A typical example is locking a row before reading its data, ensuring that only the thread that placed the lock is able to make changes to the data in that row.</p><ul><li>Optimistic concurrency control</li></ul><p>Used by Elasticsearch, this approach assumes that conflicts are unlikely to happen and doesn&#x27;t block operations from being attempted. However, if the underlying data has been modified between reading and writing, the update will fail. It is then up to the application to decide how it should resolve the conflict. For instance, it could reattempt the update, using the fresh data, or it could report the situation to the user.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="categories">Categories<a href="#categories" class="hash-link" aria-label="Direct link to Categories" title="Direct link to Categories">​</a></h2><ul><li><strong><a href="https://en.wikipedia.org/wiki/Optimistic_concurrency_control" target="_blank" rel="noopener noreferrer">Optimistic</a>-</strong> Delay the checking of whether a transaction meets the isolation and other integrity rules (e.g., <a href="https://en.wikipedia.org/wiki/Serializability" target="_blank" rel="noopener noreferrer">serializability</a> and <a href="https://en.wikipedia.org/wiki/Serializability#Correctness_-_recoverability" target="_blank" rel="noopener noreferrer">recoverability</a>) until its end, without blocking any of its (read, write) operations (&quot;...and be optimistic about the rules being met...&quot;), and then abort a transaction to prevent the violation, if the desired rules are to be violated upon its commit. An aborted transaction is immediately restarted and re-executed, which incurs an obvious overhead (versus executing it to the end only once). If not too many transactions are aborted, then being optimistic is usually a good strategy.</li><li><strong>Pessimistic-</strong> Block an operation of a transaction, if it may cause violation of the rules, until the possibility of violation disappears. Blocking operations is typically involved with performance reduction.</li><li><strong>Semi-optimistic-</strong> Block operations in some situations, if they may cause violation of some rules, and do not block in other situations while delaying rules checking (if needed) to transaction&#x27;s end, as done with optimistic.
Different categories provide different performance, i.e., different average transaction completion rates (throughput), depending on transaction types mix, computing level of parallelism, and other factors. If selection and knowledge about trade-offs are available, then category and method should be chosen to provide the highest performance.
The mutual blocking between two transactions (where each one blocks the other or more) results in a <a href="https://en.wikipedia.org/wiki/Deadlock" target="_blank" rel="noopener noreferrer">deadlock</a>, where the transactions involved are stalled and cannot reach completion. Most non-optimistic mechanisms (with blocking) are prone to deadlocks which are resolved by an intentional abort of a stalled transaction (which releases the other transactions in that deadlock), and its immediate restart and re-execution. The likelihood of a deadlock is typically low.
Blocking, deadlocks, and aborts all result in performance reduction, and hence the trade-offs between the categories.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="methods">Methods<a href="#methods" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h2><p>Many methods for concurrency control exist. Most of them can be implemented within either main category above. The major methods, which have each many variants, and in some cases may overlap or be combined, are:</p><ol><li><strong>Locking (e.g., <a href="https://en.wikipedia.org/wiki/Two-phase_locking" target="_blank" rel="noopener noreferrer">Two-phase locking</a>- 2PL)</strong><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- Controlling access to data by [locks](https://en.wikipedia.org/wiki/Lock_(computer_science)) assigned to the data. Access of a transaction to a data item (database object) locked by another transaction may be blocked (depending on lock type and access operation type) until lock release.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- **Assume transactions will conflict so they must acquire locks on database objects before they are allowed to access them.**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- There are two ways to deal with deadlocks in a two-phase locking (2PL) concurrency control protocol</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - **Deadlock Detection**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - Each txn maintains a queue of the txns that hold the locks that it is waiting for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - A separate thread checks these queues for deadlocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - If deadlock is found, use a heuristic to decide what transaction to kill in order to break deadlock.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - **Deadlock Prevention**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - Check whether another txn already holds a lock when another txn requests it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - If lock is not available, the txn will either</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            - wait</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            - commit suicide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            - kill the other txn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><img loading="lazy" alt="image" src="/assets/images/Concurrency-Control-image1-1a8aa9220840817b55f7a93e64705a00.jpg" width="1098" height="321" class="img_ev3q"></li><li><strong>Serialization <a href="https://en.wikipedia.org/wiki/Serializability#Testing_conflict_serializability" target="_blank" rel="noopener noreferrer">graph checking</a></strong>(also called Serializability, or Conflict, or Precedence graph checking)</li></ol><p>Checking for <a href="https://en.wikipedia.org/wiki/Cycle_(graph_theory)" target="_blank" rel="noopener noreferrer">cycles</a> in the schedule&#x27;s <a href="https://en.wikipedia.org/wiki/Directed_graph" target="_blank" rel="noopener noreferrer">graph</a> and breaking them by aborts.
3. <strong><a href="https://en.wikipedia.org/wiki/Timestamp-based_concurrency_control" target="_blank" rel="noopener noreferrer">Timestamp ordering</a>(TO)</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- Assigning timestamps to transactions, and controlling or checking access to data by timestamp order.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- **Assume that conflicts are rare so transactions do not need to first acquire locks on database objects and instead check for conflicts at commit time.**</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li><strong><a href="https://en.wikipedia.org/wiki/Commitment_ordering" target="_blank" rel="noopener noreferrer">Commitment ordering</a>(or Commit ordering; CO)</strong></li></ol><p>Controlling or checking transactions&#x27; chronological order of commit events to be compatible with their respective <a href="https://en.wikipedia.org/wiki/Serializability#Testing_conflict_serializability" target="_blank" rel="noopener noreferrer">precedence order</a>.
Other major concurrency control types that are utilized in conjunction with the methods above include:</p><ul><li><strong><a href="https://en.wikipedia.org/wiki/Multiversion_concurrency_control" target="_blank" rel="noopener noreferrer">Multiversion concurrency control</a>(MVCC) -</strong> Increasing concurrency and performance by generating a new version of a database object each time the object is written, and allowing transactions&#x27; read operations of several last relevant versions (of each object) depending on scheduling method.</li><li><strong><a href="https://en.wikipedia.org/wiki/Index_locking" target="_blank" rel="noopener noreferrer">Index concurrency control</a>-</strong> Synchronizing access operations to <a href="https://en.wikipedia.org/wiki/Index_(database)" target="_blank" rel="noopener noreferrer">indexes</a>, rather than to user data. Specialized methods provide substantial performance gains.</li><li><strong>Private workspace model(Deferred update) -</strong> Each transaction maintains a private workspace for its accessed data, and its changed data become visible outside the transaction only upon its commit (e.g., <a href="https://en.wikipedia.org/wiki/Concurrency_control#Weikum01" target="_blank" rel="noopener noreferrer">Weikum and Vossen 2001</a>). This model provides a different concurrency control behavior with benefits in many cases.
The most common mechanism type in database systems since their early days in the 1970s has been <a href="https://en.wikipedia.org/wiki/Two-phase_locking" target="_blank" rel="noopener noreferrer">Strong strict Two-phase locking</a>(SS2PL; also calledRigorous schedulingorRigorous 2PL) which is a special case (variant) of both <a href="https://en.wikipedia.org/wiki/Two-phase_locking" target="_blank" rel="noopener noreferrer">Two-phase locking</a>(2PL) and <a href="https://en.wikipedia.org/wiki/Commitment_ordering" target="_blank" rel="noopener noreferrer">Commitment ordering</a>(CO). It is pessimistic. In spite of its long name (for historical reasons) the idea of the SS2PL mechanism is simple: &quot;Release all locks applied by a transaction only after the transaction has ended.&quot; SS2PL (or Rigorousness) is also the name of the set of all schedules that can be generated by this mechanism, i.e., these are SS2PL (or Rigorous) schedules, have the SS2PL (or Rigorousness) property.
<a href="https://en.wikipedia.org/wiki/Concurrency_control" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Concurrency_control</a></li></ul><p><a href="https://www.geeksforgeeks.org/lock-based-concurrency-control-protocol-in-dbms" target="_blank" rel="noopener noreferrer">https://www.geeksforgeeks.org/lock-based-concurrency-control-protocol-in-dbms</a></p><p><a href="https://en.wikipedia.org/wiki/Two-phase_locking" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Two-phase_locking</a></p><p><a href="https://www.geeksforgeeks.org/two-phase-locking-protocol" target="_blank" rel="noopener noreferrer">https://www.geeksforgeeks.org/two-phase-locking-protocol</a></p><p><a href="https://vladmihalcea.com/database-deadlock" target="_blank" rel="noopener noreferrer">https://vladmihalcea.com/database-deadlock</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="timestamp-ordering-concurrency-control">Timestamp Ordering Concurrency Control<a href="#timestamp-ordering-concurrency-control" class="hash-link" aria-label="Direct link to Timestamp Ordering Concurrency Control" title="Direct link to Timestamp Ordering Concurrency Control">​</a></h2><p>Use timestamps to determine the order of transactions.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="basic-to-protocol">Basic T/O Protocol<a href="#basic-to-protocol" class="hash-link" aria-label="Direct link to Basic T/O Protocol" title="Direct link to Basic T/O Protocol">​</a></h2><ul><li>Every transaction is assigned a unique timestamp when they arrive in the system.</li><li>The DBMS maintains separate timestamps in each tuple&#x27;s header of the last transaction that read that tuple or wrote to it.</li><li>Each transaction check for conflicts on each read/write by comparing their timestamp with the timestamp of the tuple they are accessing.</li><li>The DBMS needs copy a tuple into the transaction&#x27;s private workspace when reading a tuple to ensure repeatable reads.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimistic-concurrency-control-occ">Optimistic Concurrency Control (OCC)<a href="#optimistic-concurrency-control-occ" class="hash-link" aria-label="Direct link to Optimistic Concurrency Control (OCC)" title="Direct link to Optimistic Concurrency Control (OCC)">​</a></h2><p>Store all changes in private workspace. Check for conflicts at commit time and then merge.
The protocol puts transactions through three phases during its execution:</p><ol><li><strong>Read Phase</strong></li></ol><p>Transaction&#x27;s copy tuples accessed to private work space to ensure repeatable reads, and keep track of read/write sets.
2. <strong>Validation Phase</strong></p><p>When the transaction invokes COMMIT, the DBMS checks if it conflicts with other transactions. Parallel validation means that each transaction must check the read/write set of other transactions that are trying to validate at the same time. Each transaction has to acquire locks for its write set records in some global order. Original OCC uses serial validation.
The DBMS can proceed with the validation in two directions:</p><ul><li>Backward Validation: Check whether the committing transaction intersects its read/write sets with those of any transactions that have already committed.</li><li>Forward Validation: Check whether the committing transaction intersects its read/write sets with any active transactions that have not yet committed.</li></ul><ol start="3"><li><strong>Write Phase</strong></li></ol><p>The DBMS propagates the changes in the transactions write set to the database and makes them visible to other transactions&#x27; items. As each record is updated, the transaction releases the lock acquired during the Validation Phase</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="timestamp-allocation">Timestamp Allocation<a href="#timestamp-allocation" class="hash-link" aria-label="Direct link to Timestamp Allocation" title="Direct link to Timestamp Allocation">​</a></h2><p>There are different ways for the DBMS to allocate timestamps for transactions. Each have their own performance trade-offs.</p><ul><li><strong>Mutex:</strong> This is the worst option. Mutexes are always a terrible idea.</li><li><strong>Atomic Addition:</strong> Use compare-and-swap to increment a single global counter. Requires cache invalidation on write.</li><li><strong>Batched Atomic Addition:</strong> Use compare-and-swap to increment a single global counter in batches. Needs a back-off mechanism to prevent fast burn.</li><li><strong>Hardware Clock:</strong> The CPU maintains an internal clock (not wall clock) that is synchronized across all cores. Intel only. Not sure if it will exist in future CPUs.</li><li><strong>Hardware Counter:</strong> Single global counter maintained in hardware. Not implemented in any existing CPUs.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="observation">Observation<a href="#observation" class="hash-link" aria-label="Direct link to Observation" title="Direct link to Observation">​</a></h2><ul><li>When there is low contention, optimistic protocols perform better because the DBMS spends less time checking for conflicts</li><li>At high contention, the both classes of protocols degenerate to essentially the same serial execution</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="benchmarks">Benchmarks<a href="#benchmarks" class="hash-link" aria-label="Direct link to Benchmarks" title="Direct link to Benchmarks">​</a></h2><ol><li><strong>Read-only workloads</strong></li></ol><p><img loading="lazy" alt="image" src="/assets/images/Concurrency-Control-image2-feb5f93d5ce4de40714eea0b2a0ce05a.jpg" width="1101" height="557" class="img_ev3q"></p><ol start="2"><li><strong>Write-intensive / Medium-contention</strong></li></ol><p><img loading="lazy" alt="image" src="/assets/images/Concurrency-Control-image3-ebd5a10f749f5d6e3dbc9e2a03abeb7e.jpg" width="1099" height="552" class="img_ev3q"></p><ol start="3"><li><strong>Write-intensive / High-contention</strong></li></ol><p><img loading="lazy" alt="image" src="/assets/images/Concurrency-Control-image4-b6163ded6549c6b687b6c680dcbef1ae.jpg" width="1100" height="546" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-bottlenecks">Performance Bottlenecks<a href="#performance-bottlenecks" class="hash-link" aria-label="Direct link to Performance Bottlenecks" title="Direct link to Performance Bottlenecks">​</a></h2><p>All concurrency control protocols have performance and scalability problems when there are a large number of concurrent threads and large amount of contention (i.e., the transactions are all trying to read/write to the same set of tuples).- <strong>Lock Thrashing:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- DL_DETECT, WAIT_DIE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Each transaction waits longer to acquire locks, causing other transaction to wait longer to acquire locks.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Can measure this phenomenon by removing deadlock detection/prevention overhead.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - Force txns to acquire locks in primary key order</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - Deadlocks are not possible</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="image" src="/assets/images/Concurrency-Control-image5-17cf21992fbdef6016bd820f227d3bfc.jpg" width="1101" height="463" class="img_ev3q">- <strong>Timestamp Allocation</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- All T/O algorithms + WAIT_DIE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Mutex (Worst option)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Atomic Addition (Requires cache invaliadtion on write)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Batched Atomic Addition (Needs a back-off mechanism to prevent fast burn)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Hardware Clock (Not sure if it will exist in future CPUs)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Hardware Counter (Not implemented in existing CPUs)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="image" src="/assets/images/Concurrency-Control-image6-03a950616dbea73e00a88fcc1bf67417.jpg" width="1099" height="479" class="img_ev3q">- <strong>Memory Allocation</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- OCC + MVCC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Copying data on every read/write access slows down the DBMS because of contention on the memory controller.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - In-place updates and non-copying reads are not affected as much</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Default libc malloc is slow. Never use it</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="operational-transformation">Operational Transformation<a href="#operational-transformation" class="hash-link" aria-label="Direct link to Operational Transformation" title="Direct link to Operational Transformation">​</a></h2><p>Operational transformation(OT) is a technology for supporting a range of collaboration functionalities in advanced <a href="https://www.wikiwand.com/en/Collaborative_software" target="_blank" rel="noopener noreferrer">collaborative software</a> systems. OT was originally invented for consistency maintenance and <a href="https://www.wikiwand.com/en/Concurrency_control" target="_blank" rel="noopener noreferrer">concurrency control</a> in collaborative editing of plain text documents. Its capabilities have been extended and its applications expanded to include group undo, locking, conflict resolution, operation notification and compression, group-awareness, HTML/XML and tree-structured document editing, collaborative office productivity tools, application-sharing, and collaborative computer-aided media design tools.In 2009 OT was adopted as a core technique behind the collaboration features in <a href="https://www.wikiwand.com/en/Apache_Wave" target="_blank" rel="noopener noreferrer">Apache Wave</a> and <a href="https://www.wikiwand.com/en/Google_Docs" target="_blank" rel="noopener noreferrer">Google Docs</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-architecture">System architecture<a href="#system-architecture" class="hash-link" aria-label="Direct link to System architecture" title="Direct link to System architecture">​</a></h2><p>Collaboration systems utilizing Operational Transformations typically use replicated document storage, where each client has their own copy of the document; clients operate on their local copies in a <a href="https://www.wikiwand.com/en/Lock_(computer_science)" target="_blank" rel="noopener noreferrer">lock-free</a>, <a href="https://www.wikiwand.com/en/Blocking_(computing)" target="_blank" rel="noopener noreferrer">non-blocking</a> manner, and the changes are then propagated to the rest of the clients; this ensures the client high responsiveness in an otherwise high-latency environment such as the Internet. When a client receives the changes propagated from another client, it typically transforms the changes before executing them; the transformation ensures that application-dependent consistency criteria (<a href="https://www.wikiwand.com/en/Invariant_(computer_science)" target="_blank" rel="noopener noreferrer">invariants</a>) are maintained by all sites. This mode of operation results in a system particularly suited for implementing collaboration features, like simultaneous document editing, in a high-latency environment such as <a href="https://www.wikiwand.com/en/Www" target="_blank" rel="noopener noreferrer">the web</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consistency-models">Consistency models<a href="#consistency-models" class="hash-link" aria-label="Direct link to Consistency models" title="Direct link to Consistency models">​</a></h2><ul><li>The CC model</li><li>The CCI model</li><li>The CSM model</li><li>The CA model
Operational Transformation (OT) is an algorithm/technique for the transformation of operations such that they can be applied to documents whose states have diverged, bringing them both back to the same state.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-operational-transformation-work">How does Operational Transformation work?<a href="#how-does-operational-transformation-work" class="hash-link" aria-label="Direct link to How does Operational Transformation work?" title="Direct link to How does Operational Transformation work?">​</a></h2><p>A short overview of how OT works :</p><ul><li>Every change (insertion or deletion) is represented as anoperation. An operation can be applied to the current document which results into a new document state.</li><li>To handle concurrent operations, we use thetranformfunction that takes two operations that have been applied to the same document state (but on different clients) and computes a new operation that can be applied after the second operation and that preserves the first operation&#x27;s intended change
<a href="https://www.wikiwand.com/en/Operational_transformation" target="_blank" rel="noopener noreferrer">https://www.wikiwand.com/en/Operational_transformation</a></li></ul><p><a href="https://medium.com/coinmonks/operational-transformations-as-an-algorithm-for-automatic-conflict-resolution-3bf8920ea447" target="_blank" rel="noopener noreferrer">https://medium.com/coinmonks/operational-transformations-as-an-algorithm-for-automatic-conflict-resolution-3bf8920ea447</a></p><p><a href="https://operational-transformation.github.io" target="_blank" rel="noopener noreferrer">https://operational-transformation.github.io</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="differential-synchronization">Differential Synchronization<a href="#differential-synchronization" class="hash-link" aria-label="Direct link to Differential Synchronization" title="Direct link to Differential Synchronization">​</a></h2><p>Keeping two or more copies of the same document synchronized with each other in real-time is a complex challenge. <strong>Differential synchronization</strong> offers scalability, fault-tolerance, and responsive collaborative editing across an unreliable network.</p><p><a href="https://neil.fraser.name/writing/sync" target="_blank" rel="noopener noreferrer">https://neil.fraser.name/writing/sync</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/databases/concepts/concurrency-control.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-03-04T18:39:47.000Z">Mar 4, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/databases/concepts/acid-and-base"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ACID and BASE</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/databases/concepts/core-concepts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Core Concepts</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#mysql-concurreny-control" class="table-of-contents__link toc-highlight">MySQL Concurreny Control</a></li><li><a href="#concurrency-control-mechanisms" class="table-of-contents__link toc-highlight">Concurrency control mechanisms</a></li><li><a href="#optimistic-vs-pessimistic-locking" class="table-of-contents__link toc-highlight">Optimistic vs Pessimistic Locking</a></li><li><a href="#optimistic-vs-pessimistic-concurrency-control" class="table-of-contents__link toc-highlight">Optimistic vs Pessimistic Concurrency Control</a></li><li><a href="#categories" class="table-of-contents__link toc-highlight">Categories</a></li><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods</a></li><li><a href="#timestamp-ordering-concurrency-control" class="table-of-contents__link toc-highlight">Timestamp Ordering Concurrency Control</a></li><li><a href="#basic-to-protocol" class="table-of-contents__link toc-highlight">Basic T/O Protocol</a></li><li><a href="#optimistic-concurrency-control-occ" class="table-of-contents__link toc-highlight">Optimistic Concurrency Control (OCC)</a></li><li><a href="#timestamp-allocation" class="table-of-contents__link toc-highlight">Timestamp Allocation</a></li><li><a href="#observation" class="table-of-contents__link toc-highlight">Observation</a></li><li><a href="#benchmarks" class="table-of-contents__link toc-highlight">Benchmarks</a></li><li><a href="#performance-bottlenecks" class="table-of-contents__link toc-highlight">Performance Bottlenecks</a></li><li><a href="#operational-transformation" class="table-of-contents__link toc-highlight">Operational Transformation</a></li><li><a href="#system-architecture" class="table-of-contents__link toc-highlight">System architecture</a></li><li><a href="#consistency-models" class="table-of-contents__link toc-highlight">Consistency models</a></li><li><a href="#how-does-operational-transformation-work" class="table-of-contents__link toc-highlight">How does Operational Transformation work?</a></li><li><a href="#differential-synchronization" class="table-of-contents__link toc-highlight">Differential Synchronization</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Deep Notes, Built with ❤️</div></div></div></footer></div>
<script src="/assets/js/runtime~main.15c3fef8.js"></script>
<script src="/assets/js/main.b5c3f313.js"></script>
</body>
</html>