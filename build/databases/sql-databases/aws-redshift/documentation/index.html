<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-databases/sql-databases/aws-redshift/documentation">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Documentation | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/documentation"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Documentation | Deep Notes"><meta data-rh="true" name="description" content="Designing Tables &gt; Choosing a column compression type &gt; Compression Encoding"><meta data-rh="true" property="og:description" content="Designing Tables &gt; Choosing a column compression type &gt; Compression Encoding"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/documentation"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/documentation" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/documentation" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(47, 133, 85)"><link rel="stylesheet" href="/assets/css/styles.f5da662c.css">
<link rel="preload" href="/assets/js/runtime~main.15c3fef8.js" as="script">
<link rel="preload" href="/assets/js/main.b5c3f313.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepaksood619/deepaksood619.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/about-me/">About Me</a><button aria-label="Toggle the collapsible sidebar category &#x27;About Me&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ai/">AI</a><button aria-label="Toggle the collapsible sidebar category &#x27;AI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/algorithms/">Algorithms</a><button aria-label="Toggle the collapsible sidebar category &#x27;Algorithms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/book-summaries/">Book Summaries</a><button aria-label="Toggle the collapsible sidebar category &#x27;Book Summaries&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cloud/aws/">cloud</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/computer-science/">Computer Science</a><button aria-label="Toggle the collapsible sidebar category &#x27;Computer Science&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/data-structures/">Data Structures</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Structures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/databases/">Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/concepts/">Databases Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Databases Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/data-warehousing/">Data Warehousing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Warehousing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/indexing/">Indexing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Indexing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/modeling/">Modeling</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/nosql-databases/">NoSQL Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;NoSQL Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/others/">Others</a><button aria-label="Toggle the collapsible sidebar category &#x27;Others&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/databases/sql-databases/">SQL Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/aws-aurora/">AWS Aurora</a><button aria-label="Toggle the collapsible sidebar category &#x27;AWS Aurora&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/databases/sql-databases/aws-redshift/">Redshift</a><button aria-label="Toggle the collapsible sidebar category &#x27;Redshift&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/deep-dive-best-practices">Deep dive / Best practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/databases/sql-databases/aws-redshift/documentation">Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/intro">AWS Redshift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/pricing-sizing">Pricing / Sizing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/redshift-sql-queries-commands">Redshift SQL Queries / Commands</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/memsql/">MemSQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;MemSQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/mysql/">MySQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;MySQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/normalization">Normalization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/partitioning-sharding">Partitioning / Sharding</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/postgres/">Postgres</a><button aria-label="Toggle the collapsible sidebar category &#x27;Postgres&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/rdbms">RDBMS</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Decentralized Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/devops/">DevOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/economics/">Economics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Economics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/frontend/">Frontend</a><button aria-label="Toggle the collapsible sidebar category &#x27;Frontend&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/knowledge/">Knowledge</a><button aria-label="Toggle the collapsible sidebar category &#x27;Knowledge&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/languages/">Languages</a><button aria-label="Toggle the collapsible sidebar category &#x27;Languages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/management/">Management</a><button aria-label="Toggle the collapsible sidebar category &#x27;Management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/mathematics/">Mathematics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mathematics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/networking/">Networking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Networking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/psychology/">Psychology</a><button aria-label="Toggle the collapsible sidebar category &#x27;Psychology&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/python/">Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deep Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/technologies/">Technologies</a><button aria-label="Toggle the collapsible sidebar category &#x27;Technologies&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/"><span itemprop="name">Databases</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/sql-databases/"><span itemprop="name">SQL Databases</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/sql-databases/aws-redshift/"><span itemprop="name">Redshift</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Documentation</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Documentation</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="designing-tables--choosing-a-column-compression-type--compression-encoding">Designing Tables &gt; Choosing a column compression type &gt; Compression Encoding<a href="#designing-tables--choosing-a-column-compression-type--compression-encoding" class="hash-link" aria-label="Direct link to Designing Tables &gt; Choosing a column compression type &gt; Compression Encoding" title="Direct link to Designing Tables &gt; Choosing a column compression type &gt; Compression Encoding">​</a></h2><ul><li><a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Raw_encoding.html" target="_blank" rel="noopener noreferrer">Raw Encoding</a></li><li><a href="https://docs.aws.amazon.com/redshift/latest/dg/az64-encoding.html" target="_blank" rel="noopener noreferrer">AZ64 Encoding</a></li><li><a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Byte_dictionary_encoding.html" target="_blank" rel="noopener noreferrer">Byte-Dictionary Encoding</a></li><li><a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Delta_encoding.html" target="_blank" rel="noopener noreferrer">Delta Encoding</a></li><li><a href="https://docs.aws.amazon.com/redshift/latest/dg/lzo-encoding.html" target="_blank" rel="noopener noreferrer">LZO Encoding</a></li><li><a href="https://docs.aws.amazon.com/redshift/latest/dg/c_MostlyN_encoding.html" target="_blank" rel="noopener noreferrer">Mostly Encoding</a></li><li><a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Runlength_encoding.html" target="_blank" rel="noopener noreferrer">Runlength Encoding</a></li><li><a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Text255_encoding.html" target="_blank" rel="noopener noreferrer">Text255 and Text32k Encodings</a></li><li><a href="https://docs.aws.amazon.com/redshift/latest/dg/zstd-encoding.html" target="_blank" rel="noopener noreferrer">Zstandard Encoding</a>
A compression encoding specifies the type of compression that is applied to a column of data values as rows are added to a table.
If no compression is specified in a CREATE TABLE or ALTER TABLE statement, Amazon Redshift automatically assigns compression encoding as follows:</li><li>Columns that are defined as sort keys are assigned RAW compression.</li><li>Columns that are defined as BOOLEAN, REAL, or DOUBLE PRECISION data types are assigned RAW compression.</li><li>Columns that are defined as SMALLINT, INTEGER, BIGINT, DECIMAL, DATE, TIMESTAMP, or TIMESTAMPTZ data types are assigned AZ64 compression.</li><li>Columns that are defined as CHAR or VARCHAR data types are assigned LZO compression.
<a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Compression_encodings.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/redshift/latest/dg/c_Compression_encodings.html</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="concepts">Concepts<a href="#concepts" class="hash-link" aria-label="Direct link to Concepts" title="Direct link to Concepts">​</a></h2><ol><li><p><strong>Blocks</strong></p><ul><li><strong>Column data is persisted to 1 MB immutable blocks</strong></li><li><strong>Blocks are individually encoded with 1 of 12 encodings</strong></li><li><strong>A full block can contain millions of values</strong></li></ul></li><li><p><strong>Zone maps</strong></p><ul><li><strong>Goal: eliminates unnecessary I/O</strong></li><li><strong>In-memory block metadata</strong><ul><li><strong>Contains per-block min and max values</strong></li><li><strong>All blocks automatically have zone maps</strong></li><li><strong>Effectively prunes blocks that cannot contain data for a given query</strong></li></ul></li></ul></li><li><p><strong>Materialize columns</strong></p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="goal-make-queries-run-faster-by-leveraging-zonemaps-on-the-fact-tables">Goal: Make queries run faster by leveraging zonemaps on the fact tables<a href="#goal-make-queries-run-faster-by-leveraging-zonemaps-on-the-fact-tables" class="hash-link" aria-label="Direct link to Goal: Make queries run faster by leveraging zonemaps on the fact tables" title="Direct link to Goal: Make queries run faster by leveraging zonemaps on the fact tables">​</a></h2><p>Frequently filtered and unchanging dimension values should be materialized within fact tables</p><ul><li>Time dimension tables do not allow for range restricted scans on fact tables</li><li>Materializing temporal values in fact table can give significant performance gains</li></ul><ol start="4"><li><p><strong>Slices</strong></p><ul><li><strong>A slice can be thought of like a virtual compute node</strong><ul><li><strong>Unit of data partitioning</strong></li><li><strong>Parallel query processing</strong></li></ul></li><li><strong>Facts about slices</strong><ul><li><strong>Each compute node has either 2 or 16 slices</strong></li><li><strong>Table rows are distributed to slices</strong></li><li><strong>A slice processes only its own data</strong></li></ul></li></ul></li><li><p><strong>Best Practices: Table design summary</strong></p><ul><li><p>Add compression to columns</p></li><li><p>Add sort keys on the primary columns that are filtered on</p></li><li><p>Materialize often filtered columns from dimension tables into fact tables</p></li><li><p>Materialize often calculated values into tables</p></li><li><p>Co-locate large tables using DISTSTYLE KEY if the columns do not cause skew</p></li><li><p>Avoid distribution keys on temporal columns</p></li><li><p>Keep data types as wide as necessay (but no longer than necessary)</p><ul><li>VARCHAR, CHAR, and NUMERIC</li></ul></li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="redshift-sort-key">Redshift Sort Key<a href="#redshift-sort-key" class="hash-link" aria-label="Direct link to Redshift Sort Key" title="Direct link to Redshift Sort Key">​</a></h2><p>Redshift Sort Key determines the order in which rows in a table are stored. Query performance is improved when Sort keys are properly used as it enables query optimizer to read fewer chunks of data filtering out the majority of it.
Redshift Sort Keys allow skipping large chunks of data during query processing. Fewer data to scan means a shorter processing time, thereby improving the query&#x27;s performance.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a href="#types" class="hash-link" aria-label="Direct link to Types" title="Direct link to Types">​</a></h2><ul><li><strong>Compound sort keys</strong></li></ul><p>These are made up of all the columns that are listed in the Redshift sort keys definition during the creation of the table, in the order that they are listed. Therefore, it is advisable to put the most frequently used column at the first in the list. COMPOUND is the default sort type. Compound sort keys might speed up joins, GROUP BY and ORDER BY operations, and window functions that use PARTITION BY.- <strong>Interleaved sort keys</strong></p><p>Interleaved sort gives equal weight to each column in the Redshift sort keys. As a result, it can significantly improve query performance where the query uses restrictive predicates (equality operator in WHERE clause) on secondary sort columns.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="choosing-sorting-keys">Choosing Sorting Keys<a href="#choosing-sorting-keys" class="hash-link" aria-label="Direct link to Choosing Sorting Keys" title="Direct link to Choosing Sorting Keys">​</a></h2><ul><li>UseInterleaved Sort Keywhen you plan to use one column as Sort Key or when WHERE clauses in your query have highly selective restrictive predicates. Or if the tables are huge. You may want to check table statistics by querying the STV_BLOCKLIST system table. Look for the tables with a high number of 1MB blocks per slice and distributed over all slices.</li><li>UseCompound Sort Key, when you have more that one column as Sort Key, when your query includes JOINS, GROUP BY, ORDER BY and PARTITION BY when your table size is small.</li><li>Don&#x27;t use aninterleaved sort keyon columns with monotonically increasing attributes, like an identity column, dates or timestamps.
<a href="https://hevodata.com/blog/redshift-sort-keys-choosing-best-sort-style" target="_blank" rel="noopener noreferrer">https://hevodata.com/blog/redshift-sort-keys-choosing-best-sort-style</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-sorting">Data sorting<a href="#data-sorting" class="hash-link" aria-label="Direct link to Data sorting" title="Direct link to Data sorting">​</a></h2><ul><li>Goal: make queries run faster by increasing the effectiveness of zone maps and reducing I/O</li><li>Impact: enables range-restricted scans to prune blocks by leveraging zone maps</li><li>Achieved with the table property SORTKEY defined on one or more columns</li><li>Optimal sort key is dependent on:<ul><li>Query patterns</li><li>Business requirements</li><li>Data profile</li></ul></li><li>Design considerations<ul><li>Sort keys are less beneficial on small tables</li><li>Define four or less sort key columns - more will result in marginal gains and increased ingestion overhead</li></ul></li><li>Less then 10000 rows, don&#x27;t sort, since all will be in a single zone map
<a href="https://docs.aws.amazon.com/redshift/latest/dg/c_best-practices-sort-key.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/redshift/latest/dg/c_best-practices-sort-key.html</a></li><li>To have Amazon Redshift choose the appropriate sort order, specifyAUTOfor the sort key.</li><li>If recent data is queried most frequently, specify the timestamp column as the leading column for the sort key.
Queries are more efficient because they can skip entire blocks that fall outside the time range.</li><li>If you do frequent range filtering or equality filtering on one column, specify that column as the sort key.
Amazon Redshift can skip reading entire blocks of data for that column. It can do so because it tracks the minimum and maximum column values stored on each block and can skip blocks that don&#x27;t apply to the predicate range.</li><li>If you frequently join a table, specify the join column as both the sort key and the distribution key.
Doing this enables the query optimizer to choose a sort merge join instead of a slower hash join. Because the data is already sorted on the join key, the query optimizer can bypass the sort phase of the sort merge join.</li><li>Place the sort key on columns that are frequently filtered on placing the low cardinality columns first<ul><li>On most fact tables, the first sort key columns should be a temporal column</li><li>Columns added to a sort key after a high-cardinality column are not effective</li></ul></li></ul><p><a href="https://github.com/awsdocs/amazon-redshift-developer-guide/blob/master/doc_source/c_best-practices-sort-key" target="_blank" rel="noopener noreferrer">https://github.com/awsdocs/amazon-redshift-developer-guide/blob/master/doc_source/c_best-practices-sort-key</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="redshift-distribution-key-dist-keys">Redshift Distribution Key (DIST Keys)<a href="#redshift-distribution-key-dist-keys" class="hash-link" aria-label="Direct link to Redshift Distribution Key (DIST Keys)" title="Direct link to Redshift Distribution Key (DIST Keys)">​</a></h2><p>RedshiftDistributionKeys(<a href="http://docs.aws.amazon.com/redshift/latest/dg/t_Distributing_data.html" target="_blank" rel="noopener noreferrer">DIST Keys</a>) determine where data is stored in Redshift. Clusters store data fundamentally across the compute nodes. Query performance suffers when a large amount of data is stored on a single node.
The query optimizer distributes less number of rows to the compute nodes to perform joins and aggregation on query execution. This redistribution of data can include shuffling of the entire tables across all the nodes.</p><p>Uneven distribution of data across computing nodes leads to the skewness of the work a node has to do and you don&#x27;t want an under-utilised compute node. So the distribution of the data should be uniform. Distribution is per table. So you can select a different distribution style for each of the tables you are going to have in your database.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="types-of-distribution-styles">Types of Distribution Styles<a href="#types-of-distribution-styles" class="hash-link" aria-label="Direct link to Types of Distribution Styles" title="Direct link to Types of Distribution Styles">​</a></h2><p>Amazon Redshift supports three kinds of table distribution styles.</p><ul><li><strong>Even distribution</strong></li></ul><p>This is the default distribution styles of a table.InEven DistributiontheLeadernode of the cluster distributes the data of a table evenly across all slices, using a round-robin approach.</p><ul><li><strong>Key distribution</strong></li></ul><p>The data is distributed across slices by the leader node matching the values of a designated column. So all the entries with the same value in the column end up in the same slice.</p><ul><li><strong>All distribution</strong></li></ul><p>Leader node maintains a copy of the table on all the computing nodes resulting in more space utilisation. Since all the nodes have a local copy of the data, the query does not require copying data across the network. This results in faster query operations. The negative side of usingALLis that a copy of the table is on every node in the cluster. This takes up too much of space and increases the time taken byCopy commandto upload data into Redshift.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="choosing-the-right-distribution-styles">Choosing the right Distribution Styles<a href="#choosing-the-right-distribution-styles" class="hash-link" aria-label="Direct link to Choosing the right Distribution Styles" title="Direct link to Choosing the right Distribution Styles">​</a></h2><p>The motive in selecting a table distribution style is to minimize the impact of the redistribution by relocating the data where it was prior to the query execution. Choosing the right KEY is not as straightforward as it may seem. In fact, setting wrong DISTKEY can even worsen the query performance.
Choose columns used in the query that leads to least skewness as the DISTKEY. The good choice is the column with maximum distinct values, such as the timestamp. Avoid columns with few distinct values, such as months of the year, payment card types.- If the table(e.g. fact table) is highly de-normalised and no JOIN is required, choose theEVENstyle.</p><ul><li>ChooseALLstyle for small tables that do not often change. For example, a table containing telephone ISD codes against the country name.</li><li>It is beneficial to select aKEYdistribution if a table is used in JOINS. Also, consider the other joining tables and their distribution style.</li><li>If one particular node contains the skew data, the processing on this node will be slower. This results in much longer total query processing time. This query under skewed configuration may take even longer than the query made against the table without a DISTKEY
<a href="https://hevodata.com/blog/redshift-distribution-keys" target="_blank" rel="noopener noreferrer">https://hevodata.com/blog/redshift-distribution-keys</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-distribution">Data Distribution<a href="#data-distribution" class="hash-link" aria-label="Direct link to Data Distribution" title="Direct link to Data Distribution">​</a></h2><p>Distribution style is a table property which dictates how that table&#x27;s data is distributed throughout the cluster</p><ul><li>KEY: value is hashed, same value goes to same location (slice)</li><li>ALL: full table data goes to the first slice of every node</li><li>EVEN: round robin</li><li>AUTO: Combines EVEN and ALL</li></ul><p>Goals:</p><ul><li>Distribute data evenly for parallel processing</li><li>Minimize data movement during query processing
Summary</li><li>KEY<ul><li>Goals<ul><li>Optimize JOIN performance between large tables by distributing on columns used in the ON clause</li><li>Optimize INSERT INTO SELECT performance</li><li>Optimize GROUP BY performance</li></ul></li><li>The column that is being distributed on should have a high cardinality and not cause row skew</li></ul></li><li>ALL<ul><li>Goals<ul><li>Optimize Join performance with dimension tables</li><li>Reduces disk usage on small tables</li><li>Small and medium size dimension tables (&lt; 3M rows)</li></ul></li></ul></li><li>EVEN<ul><li>If neither KEY or ALL apply</li></ul></li><li>AUTO<ul><li>Default Distribution - Combines DISTSTYLE ALL and EVEN
<a href="https://docs.aws.amazon.com/redshift/latest/dg/c_best-practices-best-dist-key.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/redshift/latest/dg/c_best-practices-best-dist-key.html</a></li></ul></li></ul><p><a href="https://docs.aws.amazon.com/redshift/latest/dg/t_Distributing_data.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/redshift/latest/dg/t_Distributing_data.html</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/databases/sql-databases/aws-redshift/documentation.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-03-04T18:39:47.000Z">Mar 4, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/databases/sql-databases/aws-redshift/deep-dive-best-practices"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deep dive / Best practices</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/databases/sql-databases/aws-redshift/intro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AWS Redshift</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#designing-tables--choosing-a-column-compression-type--compression-encoding" class="table-of-contents__link toc-highlight">Designing Tables &gt; Choosing a column compression type &gt; Compression Encoding</a></li><li><a href="#concepts" class="table-of-contents__link toc-highlight">Concepts</a></li><li><a href="#goal-make-queries-run-faster-by-leveraging-zonemaps-on-the-fact-tables" class="table-of-contents__link toc-highlight">Goal: Make queries run faster by leveraging zonemaps on the fact tables</a></li><li><a href="#redshift-sort-key" class="table-of-contents__link toc-highlight">Redshift Sort Key</a></li><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a></li><li><a href="#choosing-sorting-keys" class="table-of-contents__link toc-highlight">Choosing Sorting Keys</a></li><li><a href="#data-sorting" class="table-of-contents__link toc-highlight">Data sorting</a></li><li><a href="#redshift-distribution-key-dist-keys" class="table-of-contents__link toc-highlight">Redshift Distribution Key (DIST Keys)</a></li><li><a href="#types-of-distribution-styles" class="table-of-contents__link toc-highlight">Types of Distribution Styles</a></li><li><a href="#choosing-the-right-distribution-styles" class="table-of-contents__link toc-highlight">Choosing the right Distribution Styles</a></li><li><a href="#data-distribution" class="table-of-contents__link toc-highlight">Data Distribution</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Deep Notes, Built with ❤️</div></div></div></footer></div>
<script src="/assets/js/runtime~main.15c3fef8.js"></script>
<script src="/assets/js/main.b5c3f313.js"></script>
</body>
</html>