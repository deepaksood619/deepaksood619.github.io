<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-databases/sql-databases/aws-redshift/deep-dive-best-practices">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Deep dive / Best practices | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/deep-dive-best-practices"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deep dive / Best practices | Deep Notes"><meta data-rh="true" name="description" content="Insert performance"><meta data-rh="true" property="og:description" content="Insert performance"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/deep-dive-best-practices"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/deep-dive-best-practices" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/sql-databases/aws-redshift/deep-dive-best-practices" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(47, 133, 85)"><link rel="stylesheet" href="/assets/css/styles.f5da662c.css">
<link rel="preload" href="/assets/js/runtime~main.15c3fef8.js" as="script">
<link rel="preload" href="/assets/js/main.b5c3f313.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepaksood619/deepaksood619.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/about-me/">About Me</a><button aria-label="Toggle the collapsible sidebar category &#x27;About Me&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ai/">AI</a><button aria-label="Toggle the collapsible sidebar category &#x27;AI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/algorithms/">Algorithms</a><button aria-label="Toggle the collapsible sidebar category &#x27;Algorithms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/book-summaries/">Book Summaries</a><button aria-label="Toggle the collapsible sidebar category &#x27;Book Summaries&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cloud/aws/">cloud</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/computer-science/">Computer Science</a><button aria-label="Toggle the collapsible sidebar category &#x27;Computer Science&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/data-structures/">Data Structures</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Structures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/databases/">Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/concepts/">Databases Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Databases Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/data-warehousing/">Data Warehousing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Warehousing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/indexing/">Indexing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Indexing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/modeling/">Modeling</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/nosql-databases/">NoSQL Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;NoSQL Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/others/">Others</a><button aria-label="Toggle the collapsible sidebar category &#x27;Others&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/databases/sql-databases/">SQL Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/aws-aurora/">AWS Aurora</a><button aria-label="Toggle the collapsible sidebar category &#x27;AWS Aurora&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/databases/sql-databases/aws-redshift/">Redshift</a><button aria-label="Toggle the collapsible sidebar category &#x27;Redshift&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/databases/sql-databases/aws-redshift/deep-dive-best-practices">Deep dive / Best practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/documentation">Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/intro">AWS Redshift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/others">Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/pricing-sizing">Pricing / Sizing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/aws-redshift/redshift-sql-queries-commands">Redshift SQL Queries / Commands</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/memsql/">MemSQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;MemSQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/mysql/">MySQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;MySQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/normalization">Normalization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/partitioning-sharding">Partitioning / Sharding</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/postgres/">Postgres</a><button aria-label="Toggle the collapsible sidebar category &#x27;Postgres&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/rdbms">RDBMS</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Decentralized Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/devops/">DevOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/economics/">Economics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Economics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/frontend/">Frontend</a><button aria-label="Toggle the collapsible sidebar category &#x27;Frontend&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/knowledge/">Knowledge</a><button aria-label="Toggle the collapsible sidebar category &#x27;Knowledge&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/languages/">Languages</a><button aria-label="Toggle the collapsible sidebar category &#x27;Languages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/management/">Management</a><button aria-label="Toggle the collapsible sidebar category &#x27;Management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/mathematics/">Mathematics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mathematics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/networking/">Networking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Networking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/psychology/">Psychology</a><button aria-label="Toggle the collapsible sidebar category &#x27;Psychology&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/python/">Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deep Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/technologies/">Technologies</a><button aria-label="Toggle the collapsible sidebar category &#x27;Technologies&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/"><span itemprop="name">Databases</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/sql-databases/"><span itemprop="name">SQL Databases</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/sql-databases/aws-redshift/"><span itemprop="name">Redshift</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deep dive / Best practices</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Deep dive / Best practices</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="insert-performance">Insert performance<a href="#insert-performance" class="hash-link" aria-label="Direct link to Insert performance" title="Direct link to Insert performance">​</a></h2><p><a href="https://stackoverflow.com/questions/16485425/aws-redshift-jdbc-insert-performance" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/16485425/aws-redshift-jdbc-insert-performance</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimizations--best-practices">Optimizations / Best practices<a href="#optimizations--best-practices" class="hash-link" aria-label="Direct link to Optimizations / Best practices" title="Direct link to Optimizations / Best practices">​</a></h2><p><a href="https://aws.amazon.com/about-aws/whats-new/2020/12/amazon-redshift-announces-automatic-table-optimization" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/about-aws/whats-new/2020/12/amazon-redshift-announces-automatic-table-optimization</a></p><p><a href="https://docs.aws.amazon.com/redshift/latest/dg/c_designing-tables-best-practices.html" target="_blank" rel="noopener noreferrer"><strong>https://docs.aws.amazon.com/redshift/latest/dg/c_designing-tables-best-practices.html</strong></a></p><p><a href="https://docs.aws.amazon.com/redshift/latest/dg/c_designing-queries-best-practices.html" target="_blank" rel="noopener noreferrer"><strong>https://docs.aws.amazon.com/redshift/latest/dg/c_designing-queries-best-practices.html</strong></a>
<a href="https://www.youtube.com/watch?v=TJDtQom7SAA" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=TJDtQom7SAA</a></p><p><a href="https://aws.amazon.com/blogs/big-data/top-8-best-practices-for-high-performance-etl-processing-using-amazon-redshift" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/blogs/big-data/top-8-best-practices-for-high-performance-etl-processing-using-amazon-redshift</a></p><p><a href="https://aws.amazon.com/blogs/big-data/top-10-performance-tuning-techniques-for-amazon-redshift" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/blogs/big-data/top-10-performance-tuning-techniques-for-amazon-redshift</a></p><p><a href="https://aws.amazon.com/blogs/big-data/amazon-redshift-engineerings-advanced-table-design-playbook-preamble-prerequisites-and-prioritization" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/blogs/big-data/amazon-redshift-engineerings-advanced-table-design-playbook-preamble-prerequisites-and-prioritization</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-storage-ingestion-and-elt">Data storage, ingestion and ELT<a href="#data-storage-ingestion-and-elt" class="hash-link" aria-label="Direct link to Data storage, ingestion and ELT" title="Direct link to Data storage, ingestion and ELT">​</a></h2><ul><li><strong>Redundancy</strong></li></ul><p>Amazon Redshift utilizes locally attached storage devices</p><p>Compute nodes have 2 to 3 times the advertised storage capacity
Global commit ensures all permanent tables have written blocks to another node in the cluster to ensure data redundancy
Asynchronously backup blocks to Amazon S3 - always consistent snapshot</p><p>Every 5 GB of changed data or eight hours</p><p>User on-demand manual snapshots</p><p>To disable backups at the table level: CREATE TABLE example (id int) BACKUP NO;
Temporary tables</p><p>Blocks are not mirrored to the remote partition - two-times faster write performance</p><p>Do not trigger a full commit or backups</p><ul><li><strong>Transactions</strong></li></ul><p>Amazon Redshift is a fully transactional, ACID complaint data warehourse</p><ul><li>Isolation level is serializable</li><li>Two phase commits (local and global commit phases)
Design consideration</li><li>Because of the expense of commit overhead, limit commits by explicitly creating transactions- <strong>Data ingestion: COPY statement</strong></li></ul><p>Ingestion throughput</p><p>Each slice&#x27;s query processors can load one file at a time:</p><ul><li>Streaming decompression</li><li>Parse</li><li>Distribute</li><li>Write
Realizing only partial node usage at 6.25% of slices are active
Number of input files should be a multiple of the number of slices
Splitting the single file into 16 input files, all slices are working to maximize ingestion performance
COPY continues to scale linearly as you add nodes
Recommendation is to use delimited files - 1 MB to 1 GB after gzip compression- <strong>Best practices: COPY ingestion</strong></li></ul><p>Delimited files are recommend</p><ul><li>Pick a simple delimites &#x27;|&#x27; or &#x27;,&#x27; or tabs</li><li>Pick a simple NULL character (N)</li><li>Use double quotes and an escape character (&#x27;&#x27;) for varchars</li><li>UTF-8 varchar columns take four bytes per char
Split files into a nuber that is a multiple of the total number of slices in the Amazon Redshift cluster</li></ul><p>SELECT count(slice) from stv_slices;- <strong>Data ingestion: Amazon Redshift Spectrum</strong></p><p>Use INSERT INTO SELECT against external Amazon S3 tables</p><ul><li>Aggregate incoming data</li><li>Select subset of columns and/or rows</li><li>Manipulate incoming column data with SQL
Best practices:</li><li>Save cluster resources for querying and reporting rather than on ELT</li><li>Filtering/aggregating incoming data can improve performance over COPY
Design considerations</li><li>Repeated reads against Amazon S3 are not transactional</li><li>$5/TB of (compressed) data scanned- <strong>Design considerations: Data ingestion</strong></li></ul><p>Designed for large writes</p><ul><li>Batch processing system, optimized for processing massive amounts of data</li><li>1 MB size plus immutable blocks means that we clone blocks on write so as not to introduce fragmentation</li><li>Small write (~1~10 rows) has similar cost to a larger write (~100K rows)
UPDATE and DELETE</li><li>Immutable blocks means that we only logically delete rows on UPDATE or DELETE</li><li>Must VACUUM or DEEP COPY to remove ghost rows from table
<img loading="lazy" alt="image" src="/assets/images/AWS-Redshift_Deep-dive-Best-practices-image1-37fec9dbd9a60e231c8c1372f0af71fd.jpg" width="1018" height="418" class="img_ev3q"></li></ul><p><img loading="lazy" alt="image" src="/assets/images/AWS-Redshift_Deep-dive-Best-practices-image2-34279566519c07a62e8c8f978b0f0cc4.jpg" width="1016" height="460" class="img_ev3q">
Steps</p><ol><li><p>Load CSV data into a staging table</p></li><li><p>Delete duplicate data from the production table</p></li><li><p>Insert (or append) data from the staging into the production table
Create a Transaction</p></li></ol><p><img loading="lazy" alt="image" src="/assets/images/AWS-Redshift_Deep-dive-Best-practices-image3-ddc6a6dae376b1d3c644301d81e88d1e.jpg" width="954" height="408" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-elt">Best practices: ELT<a href="#best-practices-elt" class="hash-link" aria-label="Direct link to Best practices: ELT" title="Direct link to Best practices: ELT">​</a></h2><p>Wrap workflow/statements in an explicit transaction</p><p>Consider using DROP TABLE or TRUNCATE instead of DELETE</p><p>Staging tables:</p><ul><li>Use temporary table or permanent table with the &quot;BACKUP NO&quot; option</li><li>If possible use DISTSTYLE KEY on both the staging table and production table to speed up the the INSERT INTO SELECT statement</li><li>Turn off automatic compression - COMPUPDATE OFF</li><li>Copy compression settings from production table or use ANALYZE COMPRESSION statement<ul><li>Use CREATE TABLE LIKE or write encodings into the DDL</li></ul></li><li>For copying a large number of rows (&gt; hundreds of millions) consider using ALTER TABLE APPEND instead of INSERT INTO SELECT
VACUUM and ANALYZE</li></ul><p>VACCUM will globally sort the table and remove rows that are marked as deleted</p><ul><li>For tables with a sort key, ingestion operations will locally sort new data and write it into the unsorted region
ANALYZE collects table statistics for optimal query planning
Best Practices:</li><li>VACUUM should be run only as necessary<ul><li>Typically nightly or weekly</li><li>Consider Deep Copy (recreating and copying data) for larger or wide tables</li></ul></li><li>ANALYZE can be run periodically after ingestion on just the columns taht WHERE predicates are filtered on</li><li>Utility to VACUUM and ANALYZE all the tables in the cluster</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="workload-management-wlm-and-query-monitoring-rules">Workload management (WLM) and query monitoring rules<a href="#workload-management-wlm-and-query-monitoring-rules" class="hash-link" aria-label="Direct link to Workload management (WLM) and query monitoring rules" title="Direct link to Workload management (WLM) and query monitoring rules">​</a></h2><p>Allows for the separation of different query workloads
Goals</p><ul><li>Prioritize important queries</li><li>Throttle/abort less important queries
Control concurrent number of executing of queries</li></ul><p>Divide cluster memory</p><p>Set query timeouts to abort long running queries</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="terminology-and-concepts">Terminology and Concepts<a href="#terminology-and-concepts" class="hash-link" aria-label="Direct link to Terminology and Concepts" title="Direct link to Terminology and Concepts">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="wlm-attributes">WLM attributes<a href="#wlm-attributes" class="hash-link" aria-label="Direct link to WLM attributes" title="Direct link to WLM attributes">​</a></h2><p>Queues:</p><ul><li>Assigned a percentage of cluster memory</li><li>SQL queries execute in queue based on<ul><li>Use group: which groups the user belongs to</li><li>Query group session level variable
Short query acceleration (SQA):</li></ul></li><li>Automatically detech short running queries and run them within the short query queue if queuing occurs</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="queue-attributes">Queue attributes<a href="#queue-attributes" class="hash-link" aria-label="Direct link to Queue attributes" title="Direct link to Queue attributes">​</a></h2><ul><li>Query slots (or Concurrency)<ul><li>Devision of memory within a WLM queue, correlated with the number of simultaneous running queries</li><li>WLM_QUERY_SLOT_COUNT is a session level variable<ul><li>Useful to increase for memory intensive operations (example: large COPY, VACUUM, larege INSERT INTO SELECT)</li></ul></li></ul></li><li>Concurrency Scaling<ul><li>When queues are full, queries are routed to transient Amazon Redshift clusters</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="workload-management-example">Workload management: Example<a href="#workload-management-example" class="hash-link" aria-label="Direct link to Workload management: Example" title="Direct link to Workload management: Example">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-case">Use Case<a href="#use-case" class="hash-link" aria-label="Direct link to Use Case" title="Direct link to Use Case">​</a></h2><ul><li>Light ingestion/ELT on a continuous cadence of 10 minutes</li><li>Peak reporting workload during business hours (7 a.m. - 7 p.m.)</li><li>Heavy ingestion / ELT nightly (11 p.m. - 2 a.m.)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-types">User types<a href="#user-types" class="hash-link" aria-label="Direct link to User types" title="Direct link to User types">​</a></h2><ul><li>Business reporting and dashboards</li><li>Analysts and data science teams</li><li>Database administrators</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-queue-for-each-workload-type">Create a queue for each workload type<a href="#create-a-queue-for-each-workload-type" class="hash-link" aria-label="Direct link to Create a queue for each workload type" title="Direct link to Create a queue for each workload type">​</a></h2><p><img loading="lazy" alt="image" src="/assets/images/AWS-Redshift_Deep-dive-Best-practices-image4-28a40a0d9f7e6481b3076ddc52d75717.jpg" width="844" height="224" class="img_ev3q">- Unallocated memory goes into a general pool that can be used by any queue</p><ul><li>Enable: Short Query Acceleration</li><li>Hidden superuser queue can be used by admins manually switched into:</li></ul><p>SET query_group TO &#x27;superuser&#x27;</p><ul><li>The superuser queue has a single slot, the equivalent of 5-7% memory allocation, and no timeout</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-monitoring-rules-qmr">Query monitoring rules (QMR)<a href="#query-monitoring-rules-qmr" class="hash-link" aria-label="Direct link to Query monitoring rules (QMR)" title="Direct link to Query monitoring rules (QMR)">​</a></h2><ul><li>Extension of workload management (WLM)</li><li>Allow the automatic handling of runaway (poorly written) queries</li><li>Rules applied to a WLM queue allow queries to be<ul><li>LOGGED</li><li>ABORTED</li><li>HOPPED</li></ul></li><li>Goals<ul><li>Protect against wasteful use of the cluster</li><li>Log resource-intensive queries</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="wlm-and-qmr">WLM and QMR<a href="#wlm-and-qmr" class="hash-link" aria-label="Direct link to WLM and QMR" title="Direct link to WLM and QMR">​</a></h2><ul><li>Keep the number of WLM queues to a minimum, typically just three queues to avoid having unused queues</li><li>Use WLM to limit ingestion/ELT concurrency to two to three</li><li>To maximize query throughput, use WLM to throttle the number of concurrent queries to 15 or less</li><li>Use QMR rather than WLM to set query timeouts</li><li>Use QMR to log long running queries</li><li>Save the superuser queue for administration tasks and cenceling queries
<a href="https://github.com/awslabs/amazon-redshift-utils" target="_blank" rel="noopener noreferrer">https://github.com/awslabs/amazon-redshift-utils</a></li></ul><p><a href="https://www.youtube.com/watch?v=TJDtQom7SAA" target="_blank" rel="noopener noreferrer">AWS re:Invent 2018: [REPEAT 1] Deep Dive and Best Practices for Amazon Redshift (ANT401-R1)</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="etl-in-redshift">ETL in Redshift<a href="#etl-in-redshift" class="hash-link" aria-label="Direct link to ETL in Redshift" title="Direct link to ETL in Redshift">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="aws-data-pipeline">AWS Data pipeline<a href="#aws-data-pipeline" class="hash-link" aria-label="Direct link to AWS Data pipeline" title="Direct link to AWS Data pipeline">​</a></h2><p>AWS data pipeline can integrate with all the available AWS services and provides templates with Redshift or S3 as a target. If you are imagining an ELT system, it would be worthwhile to use the Redshift target template directly so that the data is loaded directly to Redshift. That said, internally even this will use S3 as intermediate storage, but the end-user does not have to worry about that. One issue with AWS data pipeline is that it normally works in the batch mode as periodically scheduled jobs and this does not do a good job in case the data extraction needs to be in real-time or near-real-time.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="aws-rds-sync-with-redshift">AWS RDS Sync with Redshift<a href="#aws-rds-sync-with-redshift" class="hash-link" aria-label="Direct link to AWS RDS Sync with Redshift" title="Direct link to AWS RDS Sync with Redshift">​</a></h2><p>If your source data is in RDS and wants to sync the RDS directly to Redshift in real-time, AWS offers partner solutions like Attunity and Flydata which works based on bin log streaming.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="copy-command">COPY Command<a href="#copy-command" class="hash-link" aria-label="Direct link to COPY Command" title="Direct link to COPY Command">​</a></h2><p>The COPY command loads data into Amazon Redshift tables from either data files or Amazon DynamoDB tables.The copied files may reside in an S3 bucket, an EMR cluster or on a remote host accessed via SSH.Data is loadable from fixed-width, character-delimited text files, including CSV, AVRO and JSON format. Default format is character-delimited UTF-8 text files, delimited by the pipe (|) char.Rows to be copied may not be larger than 4 MB from any single source.Root users and IAM users must have INSERT privileges to modify Redshift (RS) tables.- Use a single COPY command to load from multiple files</p><ul><li>Split your load data<ul><li>When you load compressed data, with the COPY command from multiple files, the data loads in parallel. This divides the workload among the nodes in your cluster. When you load all the data from a single large, compressed file, Amazon Redshift is forced to perform a serialized load, which is much slower.</li><li>In contrast, when you load delimited data from a large, uncompressed file, Amazon Redshift makes use of multiple slices. These slices work in parallel, automatically. This provides fast load performance. Specifically, when Amazon Redshift loads uncompressed, delimited data, data is split into ranges and handled by slices in each node.</li><li>If you intend to load data from a large, compressed file, we recommend that you split your data into smaller files that are about equal size, from 1 MB to 1 GB after compression. For optimum parallelism, the ideal file size is 1--125 MB after compression. Make the number of files a multiple of the number of slices in your cluster.
<a href="https://docs.aws.amazon.com/redshift/latest/dg/c_loading-data-best-practices.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/redshift/latest/dg/c_loading-data-best-practices.html</a></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="copy-job">Copy Job<a href="#copy-job" class="hash-link" aria-label="Direct link to Copy Job" title="Direct link to Copy Job">​</a></h2><p>Automatically loads the new files detected in the specified Amazon S3 path</p><p><a href="https://aws.amazon.com/about-aws/whats-new/2022/11/amazon-redshift-supports-auto-copy-amazon-s3" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/about-aws/whats-new/2022/11/amazon-redshift-supports-auto-copy-amazon-s3</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="aws-glue">AWS Glue<a href="#aws-glue" class="hash-link" aria-label="Direct link to AWS Glue" title="Direct link to AWS Glue">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="redshift-etl-best-practices">Redshift ETL Best Practices<a href="#redshift-etl-best-practices" class="hash-link" aria-label="Direct link to Redshift ETL Best Practices" title="Direct link to Redshift ETL Best Practices">​</a></h2><ol><li><p>While using the COPY command of Redshift, it is always better to use it on multiple source files rather than one big file. This helps in parallelly loading them and can save a lot of time. Using a manifest file is recommended in case of loading from multiple files.</p></li><li><p>In cases where data needs to be deleted after a specific time, it is better to use the time series tables. This involves creating different tables for different time windows and dropping them when that data is not needed. Dropping a table is way faster than deleting rows from one master table.</p></li><li><p>Execute &#x27;VACUUM&#x27; command at regular intervals and after the large update or delete operations. Also, use &#x27;ANALYZE&#x27; command frequently to ensure that database statistics are updated.</p></li><li><p>AWS workload management queues enable the user to prioritize different kinds of Redshift loads by creating separate queues for each type of job. It is recommended to create a separate queue for all the ETL jobs and a separate one for reporting jobs.</p></li><li><p>For transformations that span across multiple SQL statements, it is recommended to execute &#x27;commit&#x27; command after the complete group is executed rather than committing after each statement. For example, let&#x27;s say there are two INSERT statements in one of your ETL steps. It is better to use the COMMIT statement after both the statements than using a COMMIT after each statement.</p></li><li><p>While using intermediate tables and transferring data between an intermediate table and master table, it is better to use &#x27;ALTER table APPEND&#x27; command to insert data from the temporary table to the target table. This command is generally faster than using &quot;CREATE TABLE AS&quot; or &quot;INSERT INTO&quot; statements. It is to be noted that &#x27;ALTER table APPEND&#x27; command empties the source table.</p></li><li><p>If there is a need to extract a large amount of data from Redshift and save to S3 or other storage, it is better to use &#x27;UNLOAD&#x27; command rather than &#x27;SELECT&#x27; command since the former command will be executed parallelly by all the nodes saving a lot of time.</p></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/databases/sql-databases/aws-redshift/deep-dive-best-practices.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-03-04T18:39:47.000Z">Mar 4, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/databases/sql-databases/aws-redshift/architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Architecture</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/databases/sql-databases/aws-redshift/documentation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Documentation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#insert-performance" class="table-of-contents__link toc-highlight">Insert performance</a></li><li><a href="#optimizations--best-practices" class="table-of-contents__link toc-highlight">Optimizations / Best practices</a></li><li><a href="#data-storage-ingestion-and-elt" class="table-of-contents__link toc-highlight">Data storage, ingestion and ELT</a></li><li><a href="#best-practices-elt" class="table-of-contents__link toc-highlight">Best practices: ELT</a></li><li><a href="#workload-management-wlm-and-query-monitoring-rules" class="table-of-contents__link toc-highlight">Workload management (WLM) and query monitoring rules</a></li><li><a href="#terminology-and-concepts" class="table-of-contents__link toc-highlight">Terminology and Concepts</a></li><li><a href="#wlm-attributes" class="table-of-contents__link toc-highlight">WLM attributes</a></li><li><a href="#queue-attributes" class="table-of-contents__link toc-highlight">Queue attributes</a></li><li><a href="#workload-management-example" class="table-of-contents__link toc-highlight">Workload management: Example</a></li><li><a href="#use-case" class="table-of-contents__link toc-highlight">Use Case</a></li><li><a href="#user-types" class="table-of-contents__link toc-highlight">User types</a></li><li><a href="#create-a-queue-for-each-workload-type" class="table-of-contents__link toc-highlight">Create a queue for each workload type</a></li><li><a href="#query-monitoring-rules-qmr" class="table-of-contents__link toc-highlight">Query monitoring rules (QMR)</a></li><li><a href="#wlm-and-qmr" class="table-of-contents__link toc-highlight">WLM and QMR</a></li><li><a href="#etl-in-redshift" class="table-of-contents__link toc-highlight">ETL in Redshift</a></li><li><a href="#aws-data-pipeline" class="table-of-contents__link toc-highlight">AWS Data pipeline</a></li><li><a href="#aws-rds-sync-with-redshift" class="table-of-contents__link toc-highlight">AWS RDS Sync with Redshift</a></li><li><a href="#copy-command" class="table-of-contents__link toc-highlight">COPY Command</a></li><li><a href="#copy-job" class="table-of-contents__link toc-highlight">Copy Job</a></li><li><a href="#aws-glue" class="table-of-contents__link toc-highlight">AWS Glue</a></li><li><a href="#redshift-etl-best-practices" class="table-of-contents__link toc-highlight">Redshift ETL Best Practices</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Deep Notes, Built with ❤️</div></div></div></footer></div>
<script src="/assets/js/runtime~main.15c3fef8.js"></script>
<script src="/assets/js/main.b5c3f313.js"></script>
</body>
</html>