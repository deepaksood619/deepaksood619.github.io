<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-databases/sql-databases/postgres/readme">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Postgres | Deep Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" name="twitter:image" content="https://deepaksood619.github.io/img/timeline_blurred.webp"><meta data-rh="true" property="og:url" content="https://deepaksood619.github.io/databases/sql-databases/postgres/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Postgres | Deep Notes"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepaksood619.github.io/databases/sql-databases/postgres/"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/sql-databases/postgres/" hreflang="en"><link data-rh="true" rel="alternate" href="https://deepaksood619.github.io/databases/sql-databases/postgres/" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZSZMJXWSH3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZSZMJXWSH3",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TN3KBF4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="icon" href="/img/logo.webp">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(47, 133, 85)"><link rel="stylesheet" href="/assets/css/styles.f5da662c.css">
<link rel="preload" href="/assets/js/runtime~main.15c3fef8.js" as="script">
<link rel="preload" href="/assets/js/main.b5c3f313.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN3KBF4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Deep Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepaksood619/deepaksood619.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/about-me/">About Me</a><button aria-label="Toggle the collapsible sidebar category &#x27;About Me&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ai/">AI</a><button aria-label="Toggle the collapsible sidebar category &#x27;AI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/algorithms/">Algorithms</a><button aria-label="Toggle the collapsible sidebar category &#x27;Algorithms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/book-summaries/">Book Summaries</a><button aria-label="Toggle the collapsible sidebar category &#x27;Book Summaries&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cloud/aws/">cloud</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/computer-science/">Computer Science</a><button aria-label="Toggle the collapsible sidebar category &#x27;Computer Science&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/data-structures/">Data Structures</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Structures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/databases/">Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/concepts/">Databases Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Databases Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/data-warehousing/">Data Warehousing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Warehousing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/indexing/">Indexing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Indexing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/modeling/">Modeling</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/nosql-databases/">NoSQL Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;NoSQL Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/others/">Others</a><button aria-label="Toggle the collapsible sidebar category &#x27;Others&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/databases/sql-databases/">SQL Databases</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/aws-aurora/">AWS Aurora</a><button aria-label="Toggle the collapsible sidebar category &#x27;AWS Aurora&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/aws-redshift/">Redshift</a><button aria-label="Toggle the collapsible sidebar category &#x27;Redshift&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/memsql/">MemSQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;MemSQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/databases/sql-databases/mysql/">MySQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;MySQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/normalization">Normalization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/partitioning-sharding">Partitioning / Sharding</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/databases/sql-databases/postgres/">Postgres</a><button aria-label="Toggle the collapsible sidebar category &#x27;Postgres&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/postgres/documentation">Documentation</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/databases/sql-databases/rdbms">RDBMS</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/decentralized-applications/">Decentralized Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Decentralized Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/devops/">DevOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/economics/">Economics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Economics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/frontend/">Frontend</a><button aria-label="Toggle the collapsible sidebar category &#x27;Frontend&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/knowledge/">Knowledge</a><button aria-label="Toggle the collapsible sidebar category &#x27;Knowledge&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/languages/">Languages</a><button aria-label="Toggle the collapsible sidebar category &#x27;Languages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/management/">Management</a><button aria-label="Toggle the collapsible sidebar category &#x27;Management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/mathematics/">Mathematics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mathematics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/networking/">Networking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Networking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/psychology/">Psychology</a><button aria-label="Toggle the collapsible sidebar category &#x27;Psychology&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/python/">Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Deep Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/technologies/">Technologies</a><button aria-label="Toggle the collapsible sidebar category &#x27;Technologies&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/"><span itemprop="name">Databases</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/databases/sql-databases/"><span itemprop="name">SQL Databases</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Postgres</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Postgres</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>Is a relational database management system with an object-oriented approach, meaning that information can be represented as objects or classes in PostgreSQL schemas.
PostgreSQL is an open-source SQL database that is not controlled by any corporation. It is typically used for web application development.
PostgreSQL shares many of the same advantages of MySQL. It is easy to use, inexpensive, reliable and has a large community of developers. It also provides some additional features such as foreign key support without requiring complex configuration.- SQL Query Planner</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- Lexing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Parsing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Rewriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Optimizer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Two types of SQL Commands<ul><li>Full blown query (SELECT, INSERT, UPDATE, DELETE)</li><li>Utility queries (GRANT, DROP table, REVOKE)</li></ul></li><li>JOIN<ul><li>Bring data back together from different tables</li><li>Merge join</li><li>Hash join</li></ul></li><li>SQL is a declarative language, you tell the system what do you want, and system figures it out how to give it to you</li><li>Query Plan<ul><li>Optimal set of instructions to get your data from the database</li><li>Output of optimizer</li><li>Cost out different options using prunning process</li></ul></li><li>Scan<ul><li>Sequential scan</li><li>Index scan</li></ul></li><li>Up to 12 tables, postgres tries all possible join operations and prunning for optimization query</li><li>Generic query optimizer</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="functions-in-postgres">Functions in Postgres<a href="#functions-in-postgres" class="hash-link" aria-label="Direct link to Functions in Postgres" title="Direct link to Functions in Postgres">​</a></h2><p>Postgres provides a powerful server-side function environment in multiple programming languages.
Try to pre-process as much data as you can on the Postgres server with server-side functions. That way, you can cut down on the latency that comes from passing too much data back and forth between your application servers and your database. This approach is particularly useful for large aggregations and joins.
What&#x27;s even better is your development team can use its existing skill set for writing Postgres code. Other than the default PL/pgSQL (Postgres&#x27; native procedural language), Postgres functions and triggers can be written in PL/Python, PL/Perl, PL/V8 (JavaScript extension for Postgres) and PL/R.
Here is an example of creating a PL/Python function for checking string lengths:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FUNCTION</span><span class="token plain"> longer_string_length </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">string1 string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string2 string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">RETURNS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">integer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> $$</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">string1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b</span><span class="token operator" style="color:#393A34">-</span><span class="token function" style="color:#d73a49">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">string2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> b:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$$ </span><span class="token keyword" style="color:#00009f">LANGUAGE</span><span class="token plain"> plpythonu</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-features">Advanced Features<a href="#advanced-features" class="hash-link" aria-label="Direct link to Advanced Features" title="Direct link to Advanced Features">​</a></h2><ul><li>in-memory caching</li><li>full text search</li></ul><p><a href="https://rob.conery.io/2019/10/29/fine-tuning-full-text-search-with-postgresql-12" target="_blank" rel="noopener noreferrer">https://rob.conery.io/2019/10/29/fine-tuning-full-text-search-with-postgresql-12</a></p><ul><li>specialized indexing</li><li>key-value storage</li><li>Partial indexes</li></ul><p>A partial index can save space by specifying which values get indexed
Apartial indexis an index built over a subset of a table; the subset is defined by a conditional expression (called thepredicateof the partial index). The index contains entries only for those table rows that satisfy the predicate. Partial indexes are a specialized feature, but there are several situations in which they are useful.
One major reason for using a partial index is to avoid indexing common values. Since a query searching for a common value (one that accounts for more than a few percent of all the table rows) will not use the index anyway, there is no point in keeping those rows in the index at all. This reduces the size of the index, which will speed up those queries that do use the index. It will also speed up many table update operations because the index does not need to be updated in all cases.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> orders_completed_user_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> orders </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> completed </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">TRUE</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://www.postgresql.org/docs/12/indexes-partial.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/12/indexes-partial.html</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="json-types">JSON Types<a href="#json-types" class="hash-link" aria-label="Direct link to JSON Types" title="Direct link to JSON Types">​</a></h2><p>PostgreSQLoffers two types for storing JSON data:jsonandjsonb.
Thejsonandjsonbdata types accept <em>almost</em>identical sets of values as input. The major practical difference is one of efficiency. Thejsondata type stores an exact copy of the input text, which processing functions must reparse on each execution; whilejsonbdata is stored in a decomposed binary format that makes it slightly slower to input due to added conversion overhead, but significantly faster to process, since no reparsing is needed.jsonbalso supports indexing, which can be a significant advantage.
<a href="https://www.postgresql.org/docs/current/datatype-json.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/current/datatype-json.html</a></p><p><a href="https://severalnines.com/database-blog/overview-json-capabilities-within-postgresql" target="_blank" rel="noopener noreferrer">https://severalnines.com/database-blog/overview-json-capabilities-within-postgresql</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="containment">Containment<a href="#containment" class="hash-link" aria-label="Direct link to Containment" title="Direct link to Containment">​</a></h2><p>Containment tests whether one document (a set or an array) is contained within another.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="postgres-extensions">Postgres Extensions<a href="#postgres-extensions" class="hash-link" aria-label="Direct link to Postgres Extensions" title="Direct link to Postgres Extensions">​</a></h2><ol><li>PostGIS</li></ol><p>used for geospatial data manipulation and running location queries in SQL
<a href="https://medium.com/@tjukanov/why-should-you-care-about-postgis-a-gentle-introduction-to-spatial-databases-9eccd26bc42b" target="_blank" rel="noopener noreferrer">https://medium.com/@tjukanov/why-should-you-care-about-postgis-a-gentle-introduction-to-spatial-databases-9eccd26bc42b</a>
2. <strong>Key-Value data type (hstore)</strong></p><ol start="3"><li><p><strong>Semi-structured data types</strong></p></li><li><p><strong>pg_timetable - Advanced postgres job scheduling</strong></p></li></ol><p><a href="https://www.cybertec-postgresql.com/en/pg_timetable-advanced-postgresql-job-scheduling" target="_blank" rel="noopener noreferrer">https://www.cybertec-postgresql.com/en/pg_timetable-advanced-postgresql-job-scheduling</a>
SELECT * FROM pg_available_extensions;
| tablefunc          | functions that manipulate whole tables, including crosstab           |
|-------------------|-----------------------------------------------------|
| adminpack          | administrative functions for PostgreSQL                              |
| amcheck            | functions for verifying relation integrity                           |
| tsm_system_rows    | TABLESAMPLE method which accepts number of rows as a limit           |
| isn                | data types for international product numbering standards             |
| pageinspect        | inspect the contents of database pages at a low level                |
| btree_gist         | support for indexing common datatypes in GiST                        |
| moddatetime        | functions for tracking last modification time                        |
| insert_username    | functions for tracking who changed a table                           |
| intagg             | integer aggregator and enumerator (obsolete)                         |
| pg_buffercache     | examine the shared buffer cache                                      |
| fuzzystrmatch      | determine similarities and distance between strings                  |
| cube               | data type for multidimensional cubes                                 |
| uuid-ossp          | generate universally unique identifiers (UUIDs)                      |
| dict_int           | text search dictionary template for integers                         |
| seg                | data type for representing line segments or floating-point intervals |
| dict_xsyn          | text search dictionary template for extended synonym processing      |
| earthdistance      | calculate great-circle distances on the surface of the Earth         |
| pgcrypto           | cryptographic functions                                              |
| sslinfo            | information about SSL certificates                                   |
| pg_prewarm         | prewarm relation data                                                |
| tcn                | Triggered change notifications                                       |
| lo                 | Large Object maintenance                                             |
| pgrowlocks         | show row-level locking information                                   |
| tsm_system_time    | TABLESAMPLE method which accepts time in milliseconds as a limit     |
| dblink             | connect to other PostgreSQL databases from within a database         |
| pg_trgm            | text similarity measurement and index searching based on trigrams    |
| citext             | data type for case-insensitive character strings                     |
| xml2               | XPath querying and XSLT                                              |
| plpgsql            | PL/pgSQL procedural language                                         |
| autoinc            | functions for autoincrementing fields                                |
| refint             | functions for implementing referential integrity (obsolete)          |
| unaccent           | text search dictionary that removes accents                          |
| timetravel         | functions for implementing time travel                               |
| pgstattuple        | show tuple-level statistics                                          |
| postgres_fdw       | foreign-data wrapper for remote PostgreSQL servers                   |
| file_fdw           | foreign-data wrapper for flat file access                            |
| pg_freespacemap    | examine the free space map (FSM)                                     |
| hstore             | data type for storing sets of (key, value) pairs                     |
| btree_gin          | support for indexing common datatypes in GIN                         |
| pg_stat_statements | track execution statistics of all SQL statements executed            |
| intarray           | functions, operators, and index support for 1-D arrays of integers   |
| bloom              | bloom access method - signature file based index                     |
| ltree              | data type for hierarchical tree-like structures                      |
| pg_visibility      | examine the visibility map (VM) and page-level visibility info       |</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="indexes-in-postgres">Indexes in Postgres<a href="#indexes-in-postgres" class="hash-link" aria-label="Direct link to Indexes in Postgres" title="Direct link to Indexes in Postgres">​</a></h2><ul><li><a href="https://www.postgresql.org/docs/current/btree-intro.html" target="_blank" rel="noopener noreferrer">B-tree indexes</a></li></ul><p>B-tree indexes are binary trees that are used to sort data efficiently. They&#x27;re the default if you use theINDEXcommand. Most of the time, a B-tree index suffices. As you scale, inconsistencies can be a larger problem, so use the <a href="https://www.postgresql.org/docs/11/amcheck.html" target="_blank" rel="noopener noreferrer">amcheck</a> extension periodically.</p><ul><li><a href="https://www.postgresql.org/docs/11/brin-intro.html" target="_blank" rel="noopener noreferrer">BRIN indexes</a></li></ul><p>A Block Range INdex (BRIN) can be used when your table is naturally already sorted by a column, and you need to sort by that column. For example, for a log table that was written sequentially, setting a BRIN index on the timestamp column lets the server know that the data is already sorted.</p><ul><li><a href="https://www.postgresql.org/docs/11/bloom.html" target="_blank" rel="noopener noreferrer">Bloom filter index</a></li></ul><p>A bloom index is perfect for multi-column queries on big tables where you only need to test for equality. It uses a special mathematical structure called a bloom filter that&#x27;s based on probability and uses significantly less space.</p><ul><li><a href="https://www.postgresql.org/docs/11/textsearch-indexes.html" target="_blank" rel="noopener noreferrer">GIN and GiST indexes</a></li></ul><p>Use a GIN or GiST index for efficient indexes based on composite values like text, arrays, and JSON.
<a href="https://habr.com/en/company/postgrespro/blog/448746" target="_blank" rel="noopener noreferrer">https://habr.com/en/company/postgrespro/blog/448746</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pgagroal">pgagroal<a href="#pgagroal" class="hash-link" aria-label="Direct link to pgagroal" title="Direct link to pgagroal">​</a></h2><p>pgagroalis a high-performance protocol-native connection pool for <a href="https://www.postgresql.org/" target="_blank" rel="noopener noreferrer">PostgreSQL</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2><ul><li>High performance</li><li>Connection pool</li><li>Limit connections for users and databases</li><li>Prefill support</li><li>Remove idle connections</li><li>Perform connection validation</li><li>Graceful / fast shutdown</li><li>Daemon mode</li><li>User vault
<a href="https://github.com/agroal/pgagroal" target="_blank" rel="noopener noreferrer">https://github.com/agroal/pgagroal</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pgbouncer">PgBouncer<a href="#pgbouncer" class="hash-link" aria-label="Direct link to PgBouncer" title="Direct link to PgBouncer">​</a></h2><p>PgBouncer is a lightweight connection pooler for PostgreSQL</p><p><a href="https://github.com/pgbouncer/pgbouncer/blob/master/etc/pgbouncer.ini" target="_blank" rel="noopener noreferrer">https://github.com/pgbouncer/pgbouncer/blob/master/etc/pgbouncer.ini</a></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DATABASES_HOST</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zpg-postgresql-headless.example&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATABASES_PORT</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;5432&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATABASES_USER</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;postgres&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATABASES_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;xitanez123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATABASES_DBNAME</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;example_db_new&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PGBOUNCER_LISTEN_PORT</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;5432&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PGBOUNCER_MAX_CLIENT_CONN</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;10000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PGBOUNCER_DEFAULT_POOL_SIZE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;100&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PGBOUNCER_MAX_DB_CONNECTIONS</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;100&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PGBOUNCER_MAX_USER_CONNECTIONS</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;100&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PGBOUNCER_MIN_POOL_SIZE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;10&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PGBOUNCER_SERVER_IDLE_TIMEOUT</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;600&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PGBOUNCER_CLIENT_IDLE_TIMEOUT</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;600&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="odyssey">Odyssey<a href="#odyssey" class="hash-link" aria-label="Direct link to Odyssey" title="Direct link to Odyssey">​</a></h2><p>Advanced multi-threaded PostgreSQL connection pooler and request router.
<a href="https://github.com/yandex/odyssey" target="_blank" rel="noopener noreferrer">https://github.com/yandex/odyssey</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="postgres-on-kubernetes">Postgres on Kubernetes<a href="#postgres-on-kubernetes" class="hash-link" aria-label="Direct link to Postgres on Kubernetes" title="Direct link to Postgres on Kubernetes">​</a></h2><p><a href="https://github.com/zalando/patroni" target="_blank" rel="noopener noreferrer">https://github.com/zalando/patroni</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="streaming-replication-asynchronous-and-synchronous">Streaming replication asynchronous and synchronous<a href="#streaming-replication-asynchronous-and-synchronous" class="hash-link" aria-label="Direct link to Streaming replication asynchronous and synchronous" title="Direct link to Streaming replication asynchronous and synchronous">​</a></h2><p><a href="https://severalnines.com/database-blog/converting-asynchronous-synchronous-replication-postgresql" target="_blank" rel="noopener noreferrer">https://severalnines.com/database-blog/converting-asynchronous-synchronous-replication-postgresql</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pg_trgm">pg_trgm<a href="#pg_trgm" class="hash-link" aria-label="Direct link to pg_trgm" title="Direct link to pg_trgm">​</a></h2><p>Trigram (Trigraph) concepts</p><p>A trigram is a group of three consecutive characters taken from a string. We can measure the similarity of two strings by counting the number of trigrams they share. This simple idea turns out to be very effective for measuring the similarity of words in many natural languages.</p><p>Note: pg_trgm ignores non-word characters (non-alphanumerics) when extracting trigrams from a string. Each word is considered to have two spaces prefixed and one space suffixed when determining the set of trigrams contained in the string. For example, the set of trigrams in the string &quot;cat&quot; is &quot;c&quot;, &quot;ca&quot; , &quot;cat&quot;, and &quot;at&quot;. The set of trigrams in the string &quot;foo|bar&quot; is &quot;f&quot;, &quot;fo&quot;, &quot;foo&quot;, &quot;oo&quot;, &quot;b&quot;, &quot;ba&quot;, &quot;bar&quot;, and &quot;ar&quot;</p><p><a href="https://www.postgresql.org/docs/9.6/pgtrgm.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/9.6/pgtrgm.html</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="postgres-database-tunable-parameters-to-optimize-performance-configurations">Postgres database tunable parameters to optimize performance (configurations)<a href="#postgres-database-tunable-parameters-to-optimize-performance-configurations" class="hash-link" aria-label="Direct link to Postgres database tunable parameters to optimize performance (configurations)" title="Direct link to Postgres database tunable parameters to optimize performance (configurations)">​</a></h2><ol><li>shared_buffer</li></ol><p>PostgreSQL uses its own buffer and also uses kernel buffered IO. That means data is stored in memory twice, first in PostgreSQL buffer and then kernel buffer. Unlike other databases, PostgreSQL does not provide direct IO. This is called double buffering. The PostgreSQL buffer is called <strong>shared_buffer</strong> which is the most effective tunable parameter for most operating systems. This parameter sets how much dedicated memory will be used by PostgreSQL for cache.</p><ol start="2"><li>wal_buffers</li></ol><p>PostgreSQL writes its WAL (write ahead log) record into the buffers and then these buffers are flushed to disk. The default size of the buffer, defined bywal_buffers, is 16MB, but if you have a lot of concurrent connections then a higher value can give better performance.</p><ol start="3"><li>effective_cache_size</li></ol><p>Theeffective_cache_sizeprovides an estimate of the memory available for disk caching. It is just a guideline, not the exact allocated memory or cache size. It does not allocate actual memory but tells the optimizer the amount of cache available in the kernel. If the value of this is set too low the query planner can decide not to use some indexes, even if they&#x27;d be helpful. Therefore, setting a large value is always beneficial.</p><ol start="4"><li>work_mem</li></ol><p>This configuration is used for complex sorting. If you have to do complex sorting then increase the value ofwork_memfor good results. In-memory sorts are much faster than sorts spilling to disk. Setting a very high value can cause a memory bottleneck for your deployment environment because this parameter is per user sort operation. Therefore, if you have many users trying to execute sort operations, then the system will allocatework_mem*totalsortoperationsfor all users. Setting this parameter globally can cause very high memory usage. So it is highly recommended to modify this at the session level.</p><ol start="5"><li>maintenance_work_mem</li></ol><p>maintenance_work_memis a memory setting used for maintenance tasks. The default value is 64MB. Setting a large value helps in tasks like <a href="https://www.percona.com/blog/2018/08/06/basic-understanding-bloat-vacuum-postgresql-mvcc/" target="_blank" rel="noopener noreferrer">VACUUM</a>, RESTORE, CREATE INDEX, ADD FOREIGN KEY and ALTER TABLE.</p><ol start="6"><li>synchronous_commit</li></ol><p>This is used to enforce that commit will wait for WAL to be written on disk before returning a success status to the client. This is a trade-off between performance and reliability. If your application is designed such that performance is more important than the reliability, then turn offsynchronous_commit. This means that there will be a time gap between the success status and a guaranteed write to disk. In the case of a server crash, data might be lost even though the client received a success message on commit. In this case, a transaction commits very quickly because it will not wait for a WAL file to be flushed, but reliability is compromised.</p><ol start="7"><li>checkpoint_timeout, checkpoint_completion_target</li></ol><p>PostgreSQL writes changes into WAL. The checkpoint process flushes the data into the data files. This activity is done when CHECKPOINT occurs. This is an expensive operation and can cause a huge amount of IO. This whole process involves expensive disk read/write operations. Users can always issue CHECKPOINT whenever it seems necessary or automate the system by PostgreSQL&#x27;s parameterscheckpoint_timeoutandcheckpoint_completion_target.
The checkpoint_timeout parameter is used to set time between WAL checkpoints. Setting this too low decreases crash recovery time, as more data is written to disk, but it hurts performance too since every checkpoint ends up consuming valuable system resources. The checkpoint_completion_target is the fraction of time between checkpoints for checkpoint completion. A high frequency of checkpoints can impact performance. For smooth checkpointing, checkpoint_timeoutmust be a low value. Otherwise the OS will accumulate all the dirty pages until the ratio is met and then go for a big flush.</p><p><a href="https://www.percona.com/blog/2018/08/31/tuning-postgresql-database-parameters-to-optimize-performance" target="_blank" rel="noopener noreferrer">https://www.percona.com/blog/2018/08/31/tuning-postgresql-database-parameters-to-optimize-performance</a></p><p><a href="https://postgresqlco.nf/en/doc/param" target="_blank" rel="noopener noreferrer">https://postgresqlco.nf/en/doc/param</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="caching">Caching<a href="#caching" class="hash-link" aria-label="Direct link to Caching" title="Direct link to Caching">​</a></h2><p><a href="https://madusudanan.com/blog/understanding-postgres-caching-in-depth" target="_blank" rel="noopener noreferrer">https://madusudanan.com/blog/understanding-postgres-caching-in-depth</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-physical-storage">Database Physical Storage<a href="#database-physical-storage" class="hash-link" aria-label="Direct link to Database Physical Storage" title="Direct link to Database Physical Storage">​</a></h2><p><a href="https://www.postgresql.org/docs/current/storage.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/current/storage.html</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="others">Others<a href="#others" class="hash-link" aria-label="Direct link to Others" title="Direct link to Others">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pgbackrest">pgbackrest<a href="#pgbackrest" class="hash-link" aria-label="Direct link to pgbackrest" title="Direct link to pgbackrest">​</a></h2><p>pgBackRest is a reliable and simple to configure backup and restore solution for PostgreSQL, which provides a powerful solution for any PostgreSQL database; be it a small project, or scaled up to enterprise-level use cases.
Many powerful features are included in pgBackRest, including parallel backup and restore, local or remote operation, full, incremental, and differential backup types, backup rotation, archive expiration, backup integrity, page checksums, backup resume, streaming compression and checksums, delta restore, and much more.</p><p><a href="https://info.crunchydata.com/blog/how-to-get-started-with-pgbackrest-and-postgresql-12" target="_blank" rel="noopener noreferrer">https://info.crunchydata.com/blog/how-to-get-started-with-pgbackrest-and-postgresql-12</a></p><p><a href="https://www.kubegres.io/" target="_blank" rel="noopener noreferrer">https://www.kubegres.io/</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced">Advanced<a href="#advanced" class="hash-link" aria-label="Direct link to Advanced" title="Direct link to Advanced">​</a></h2><p>Low level working - <a href="https://erthalion.info/2019/12/06/postgresql-stay-curious" target="_blank" rel="noopener noreferrer">https://erthalion.info/2019/12/06/postgresql-stay-curious</a></p><p>Locking Tuples internals - <a href="https://github.com/postgres/postgres/blob/master/src/backend/access/heap/README.tuplock" target="_blank" rel="noopener noreferrer">https://github.com/postgres/postgres/blob/master/src/backend/access/heap/README.tuplock</a></p><p>Youtube - <a href="https://www.youtube.com/watch?v=XUkTUMZRBE8" target="_blank" rel="noopener noreferrer">Breaking PostgreSQL at Scale - Christophe Pettus</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h2><p><a href="https://tightlycoupled.io/my-goto-postgres-configuration-for-web-services" target="_blank" rel="noopener noreferrer">https://tightlycoupled.io/my-goto-postgres-configuration-for-web-services</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tools">Tools<a href="#tools" class="hash-link" aria-label="Direct link to Tools" title="Direct link to Tools">​</a></h2><ul><li>pgadmin</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2><p><a href="http://www.postgresqltutorial.com" target="_blank" rel="noopener noreferrer">http://www.postgresqltutorial.com</a></p><p><a href="https://dev.to/digitalocean/-an-introduction-to-queries-in-postgresql-44la" target="_blank" rel="noopener noreferrer">https://dev.to/digitalocean/-an-introduction-to-queries-in-postgresql-44la</a></p><p><a href="https://postgrescheatsheet.com/#/databases" target="_blank" rel="noopener noreferrer">https://postgrescheatsheet.com/#/databases</a></p><p>SE Radio - 328: Postgres Query Planner (Robert Blumen with Bruce Momjian)</p><p><a href="https://dev.to/heroku/postgres-is-underrated-it-handles-more-than-you-think-4ff3" target="_blank" rel="noopener noreferrer">https://dev.to/heroku/postgres-is-underrated-it-handles-more-than-you-think-4ff3</a></p><p><a href="https://sql-performance-explained.com" target="_blank" rel="noopener noreferrer">https://sql-performance-explained.com</a></p><p><a href="https://wiki.postgresql.org/wiki/Don%27t_Do_This" target="_blank" rel="noopener noreferrer">https://wiki.postgresql.org/wiki/Don%27t_Do_This</a></p><p><a href="https://www.youtube.com/playlist?list=PLdTaEgcmPg9Kl539gyIFtWL0-cqk3m7v9" target="_blank" rel="noopener noreferrer">Scaling Postgres Episodes</a></p><p><a href="https://www.youtube.com/playlist?list=PLdTaEgcmPg9KiTCPWh-K961tiZrvhgfFu" target="_blank" rel="noopener noreferrer">PostgreSQL Tutorials</a></p><p><a href="https://zerodha.tech/blog/working-with-postgresql" target="_blank" rel="noopener noreferrer">https://zerodha.tech/blog/working-with-postgresql</a></p><p><a href="https://www.youtube.com/watch?v=Q56kljmIN14" target="_blank" rel="noopener noreferrer">Postgres Architecture Explained - YouTube</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/databases/sql-databases/postgres/readme.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-03-04T18:39:47.000Z">Mar 4, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/databases/sql-databases/partitioning-sharding"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Partitioning / Sharding</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/databases/sql-databases/postgres/documentation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Documentation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#functions-in-postgres" class="table-of-contents__link toc-highlight">Functions in Postgres</a></li><li><a href="#advanced-features" class="table-of-contents__link toc-highlight">Advanced Features</a></li><li><a href="#json-types" class="table-of-contents__link toc-highlight">JSON Types</a></li><li><a href="#containment" class="table-of-contents__link toc-highlight">Containment</a></li><li><a href="#postgres-extensions" class="table-of-contents__link toc-highlight">Postgres Extensions</a></li><li><a href="#indexes-in-postgres" class="table-of-contents__link toc-highlight">Indexes in Postgres</a></li><li><a href="#pgagroal" class="table-of-contents__link toc-highlight">pgagroal</a></li><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#pgbouncer" class="table-of-contents__link toc-highlight">PgBouncer</a></li><li><a href="#odyssey" class="table-of-contents__link toc-highlight">Odyssey</a></li><li><a href="#postgres-on-kubernetes" class="table-of-contents__link toc-highlight">Postgres on Kubernetes</a></li><li><a href="#streaming-replication-asynchronous-and-synchronous" class="table-of-contents__link toc-highlight">Streaming replication asynchronous and synchronous</a></li><li><a href="#pg_trgm" class="table-of-contents__link toc-highlight">pg_trgm</a></li><li><a href="#postgres-database-tunable-parameters-to-optimize-performance-configurations" class="table-of-contents__link toc-highlight">Postgres database tunable parameters to optimize performance (configurations)</a></li><li><a href="#caching" class="table-of-contents__link toc-highlight">Caching</a></li><li><a href="#database-physical-storage" class="table-of-contents__link toc-highlight">Database Physical Storage</a></li><li><a href="#others" class="table-of-contents__link toc-highlight">Others</a></li><li><a href="#pgbackrest" class="table-of-contents__link toc-highlight">pgbackrest</a></li><li><a href="#advanced" class="table-of-contents__link toc-highlight">Advanced</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li><li><a href="#tools" class="table-of-contents__link toc-highlight">Tools</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Deep Notes, Built with ❤️</div></div></div></footer></div>
<script src="/assets/js/runtime~main.15c3fef8.js"></script>
<script src="/assets/js/main.b5c3f313.js"></script>
</body>
</html>