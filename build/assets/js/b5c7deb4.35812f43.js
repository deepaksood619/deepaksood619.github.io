"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[39672],{603905:(a,e,t)=>{t.d(e,{Zo:()=>c,kt:()=>h});var r=t(667294);function n(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function o(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,r)}return t}function s(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){n(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function i(a,e){if(null==a)return{};var t,r,n=function(a,e){if(null==a)return{};var t,r,n={},o=Object.keys(a);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(n[t]=a[t]);return n}(a,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(a,t)&&(n[t]=a[t])}return n}var u=r.createContext({}),l=function(a){var e=r.useContext(u),t=e;return a&&(t="function"==typeof a?a(e):s(s({},e),a)),t},c=function(a){var e=l(a.components);return r.createElement(u.Provider,{value:e},a.children)},m="mdxType",d={inlineCode:"code",wrapper:function(a){var e=a.children;return r.createElement(r.Fragment,{},e)}},p=r.forwardRef((function(a,e){var t=a.components,n=a.mdxType,o=a.originalType,u=a.parentName,c=i(a,["components","mdxType","originalType","parentName"]),m=l(t),p=n,h=m["".concat(u,".").concat(p)]||m[p]||d[p]||o;return t?r.createElement(h,s(s({ref:e},c),{},{components:t})):r.createElement(h,s({ref:e},c))}));function h(a,e){var t=arguments,n=e&&e.mdxType;if("string"==typeof a||n){var o=t.length,s=new Array(o);s[0]=p;var i={};for(var u in e)hasOwnProperty.call(e,u)&&(i[u]=e[u]);i.originalType=a,i[m]="string"==typeof a?a:n,s[1]=i;for(var l=2;l<o;l++)s[l]=t[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},66895:(a,e,t)=>{t.r(e),t.d(e,{assets:()=>u,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var r=t(487462),n=(t(667294),t(603905));const o={},s="Aurora Documentation",i={unversionedId:"databases/sql-databases/aws-aurora/aurora-documentation",id:"databases/sql-databases/aws-aurora/aurora-documentation",title:"Aurora Documentation",description:"Integration Aurora MySQL with AWS Services > Saving data into text files in Amazon S3",source:"@site/docs/databases/sql-databases/aws-aurora/aurora-documentation.md",sourceDirName:"databases/sql-databases/aws-aurora",slug:"/databases/sql-databases/aws-aurora/aurora-documentation",permalink:"/databases/sql-databases/aws-aurora/aurora-documentation",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/databases/sql-databases/aws-aurora/aurora-documentation.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"AWS Aurora",permalink:"/databases/sql-databases/aws-aurora/"},next:{title:"Configurations / Optimizations / Best Practices",permalink:"/databases/sql-databases/aws-aurora/configurations-optimizations-best-practices"}},u={},l=[{value:"Parallel query for Aurora MySQL",id:"parallel-query-for-aurora-mysql",level:2},{value:"Cloning Database",id:"cloning-database",level:2},{value:"Backtracking an Amazon Aurora DB",id:"backtracking-an-amazon-aurora-db",level:2},{value:"References",id:"references",level:2}],c={toc:l},m="wrapper";function d(a){let{components:e,...t}=a;return(0,n.kt)(m,(0,r.Z)({},c,t,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"aurora-documentation"},"Aurora Documentation"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/CHAP_AuroraOverview.html"},"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/CHAP_AuroraOverview.html")),(0,n.kt)("p",null,"Integration Aurora MySQL with AWS Services > Saving data into text files in Amazon S3"),(0,n.kt)("p",null,"You can use the ",(0,n.kt)("strong",{parentName:"p"},"SELECT INTO OUTFILE S3")," statement to query data from an Amazon Aurora MySQL DB cluster and save it directly into text files stored in an Amazon S3 bucket. You can use this functionality to skip bringing the data down to the client first, and then copying it from the client to Amazon S3. The ",(0,n.kt)("strong",{parentName:"p"},"LOAD DATA FROM S3")," statement can use the files created by this statement to load data into an Aurora DB cluster."),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Integrating.SaveIntoS3.html"},"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Integrating.SaveIntoS3.html")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Integrating.LoadFromS3.html"},"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Integrating.LoadFromS3.html")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"-- move data to s3\nSELECT * FROM equifax_raw_response WHERE inserted_on BETWEEN '2016-01-01' AND '2019-08-31'\nINTO OUTFILE S3 's3-ap-south-1://stashfin-migration-data/rds/equifax_raw_response/equifax_raw_response_2016-01-01_to_2019-08-31'\nFIELDS TERMINATED BY ','\nLINES TERMINATED BY '\\n'\nMANIFEST ON;\n\nSELECT * FROM equifax_raw_response WHERE inserted_on LIMIT 100\n    INTO OUTFILE S3 's3-ap-south-1://stashfin-migration-data/rds/equifax_raw_response/equifax_raw_response_escaped'\n    CHARACTER SET utf8mb4\n    FIELDS TERMINATED BY ','\n    OPTIONALLY ENCLOSED BY '\"'\n    ESCAPED BY '\\\\'\n    LINES TERMINATED BY '\\n'\n    MANIFEST ON\n    OVERWRITE ON;\n\n-- Load Back data from s3\nLOAD DATA FROM S3 MANIFEST 's3-ap-south-1://stashfin-migration-data/rds/equifax_raw_response/equifax_raw_response_2016-01-01_to_2019-08-31.manifest'\nINTO TABLE equifax_raw_response\nFIELDS TERMINATED BY ','\nLINES TERMINATED BY '\\n'\n(xml_insert_id, customer_id, load_id, request_data, xml_string, inserted_on, inserted_by, s3_key_request, s3_key_response, is_success);\n\nSELECT\n    [ALL | DISTINCT | DISTINCTROW ]\n        [HIGH_PRIORITY]\n        [STRAIGHT_JOIN]\n        [SQL_SMALL_RESULT] [SQL_BIG_RESULT] [SQL_BUFFER_RESULT]\n        [SQL_CACHE | SQL_NO_CACHE] [SQL_CALC_FOUND_ROWS]\n    select_expr [, select_expr ...]\n    [FROM table_references\n        [PARTITION partition_list]\n    [WHERE where_condition]\n    [GROUP BY {col_name | expr | position}\n        [ASC | DESC], ... [WITH ROLLUP]]\n    [HAVING where_condition]\n    [ORDER BY {col_name | expr | position}\n            [ASC | DESC], ...]\n    [LIMIT {[offset,] row_count | row_count OFFSET offset}]\n    [PROCEDURE procedure_name(argument_list)]\nINTO OUTFILE S3 's3_uri'\n[CHARACTER SET charset_name]\n    [export_options]\n    [MANIFEST {ON | OFF}]\n    [OVERWRITE {ON | OFF}]\n\nexport_options:\n    [{FIELDS | COLUMNS}\n        [TERMINATED BY 'string']\n        [[OPTIONALLY] ENCLOSED BY 'char']\n        [ESCAPED BY 'char']\n    ]\n    [LINES\n        [STARTING BY 'string']\n        [TERMINATED BY 'string']\n    ]\n\nLOAD DATA FROM S3 [FILE | PREFIX | MANIFEST] 'S3-URI'\n    [REPLACE | IGNORE]\n    INTO TABLE tbl_name\n    [PARTITION (partition_name,...)]\n    [CHARACTER SET charset_name]\n    [{FIELDS | COLUMNS}\n        [TERMINATED BY 'string']\n        [[OPTIONALLY] ENCLOSED BY 'char']\n        [ESCAPED BY 'char']\n    ]\n    [LINES\n        [STARTING BY 'string']\n        [TERMINATED BY 'string']\n    ]\n    [IGNORE number {LINES | ROWS}]\n    [(col_name_or_user_var,...)]\n    [SET col_name = expr,...]\n\n39385044 row(s) affected 246.881 sec/4 minutes\n")),(0,n.kt)("h2",{id:"parallel-query-for-aurora-mysql"},"Parallel query for Aurora MySQL"),(0,n.kt)("p",null,"Aurora MySQL parallel query is an optimization that parallelizes some of the I/O and computation involved in processing data-intensive queries. The work that is parallelized includes retrieving rows from storage, extracting column values, and determining which rows match the conditions in the WHERE clause and join clauses. This data-intensive work is delegated (in database optimization terms, pushed down) to multiple nodes in the Aurora distributed storage layer. Without parallel query, each query brings all the scanned data to a single node within the Aurora MySQL cluster (the head node) and performs all the query processing there.\n",(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/aurora-mysql-parallel-query.html"},"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/aurora-mysql-parallel-query.html")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://aws.amazon.com/blogs/aws/new-parallel-query-for-amazon-aurora"},"https://aws.amazon.com/blogs/aws/new-parallel-query-for-amazon-aurora")),(0,n.kt)("h2",{id:"cloning-database"},"Cloning Database"),(0,n.kt)("p",null,"Using database cloning, you can quickly and cost-effectively create clones of all of the databases within an Aurora DB cluster. The clone databases require only minimal additional space when first created.\nDatabase cloning uses acopy-on-write protocol, in which data is copied at the time that data changes, either on the source databases or the clone databases. You can make multiple clones from the same DB cluster. You can also create additional clones from other clones. For more information on how the copy-on-write protocol works in the context of Aurora storage, see ",(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/Aurora.Managing.Clone.html#Aurora.Managing.Clone.Protocol"},"Copy-on-Write Protocol for Database Cloning"),".\n",(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/Aurora.Managing.Clone.html"},"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/Aurora.Managing.Clone.html")),(0,n.kt)("h2",{id:"backtracking-an-amazon-aurora-db"},"Backtracking an Amazon Aurora DB"),(0,n.kt)("p",null,"Backtracking lets you rewind the Aurora DB cluster to the time you specify. With backtracking enabled, Aurora keeps a record of changes to your database and allows you to switch to a previous consistent state. With this feature you can easily undo mistakes. For example, if by accident you perform a destructive action, such as a DELETE without a WHERE clause, you can quickly backtrack to a state before the accident. Unlike restoring from a snapshot or automated backup - a slower operation, backtracking lets you move back and forth in time in a matter of minutes.\nBacktracking is not a replacement for backing up your DB cluster so that you can restore it to a point in time.\n",(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Managing.Backtrack.html"},"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Managing.Backtrack.html")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://aws.amazon.com/getting-started/tutorials/aurora-cloning-backtracking"},"https://aws.amazon.com/getting-started/tutorials/aurora-cloning-backtracking")),(0,n.kt)("h2",{id:"references"},"References"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/USER_WorkingWithParamGroups.html"},"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/USER_WorkingWithParamGroups.html")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Reference.html#AuroraMySQL.Reference.ParameterGroups"},"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Reference.html#AuroraMySQL.Reference.ParameterGroups")))}d.isMDXComponent=!0}}]);