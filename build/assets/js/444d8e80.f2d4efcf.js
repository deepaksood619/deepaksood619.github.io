"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[97862],{603905:(e,a,t)=>{t.d(a,{Zo:()=>u,kt:()=>f});var i=t(667294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?n(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,i,r=function(e,a){if(null==e)return{};var t,i,r={},n=Object.keys(e);for(i=0;i<n.length;i++)t=n[i],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)t=n[i],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=i.createContext({}),d=function(e){var a=i.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},u=function(e){var a=d(e.components);return i.createElement(s.Provider,{value:a},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return i.createElement(i.Fragment,{},a)}},p=i.forwardRef((function(e,a){var t=e.components,r=e.mdxType,n=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=d(t),p=r,f=m["".concat(s,".").concat(p)]||m[p]||c[p]||n;return t?i.createElement(f,l(l({ref:a},u),{},{components:t})):i.createElement(f,l({ref:a},u))}));function f(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var n=t.length,l=new Array(n);l[0]=p;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o[m]="string"==typeof e?e:r,l[1]=o;for(var d=2;d<n;d++)l[d]=t[d];return i.createElement.apply(null,l)}return i.createElement.apply(null,t)}p.displayName="MDXCreateElement"},733799:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>n,metadata:()=>o,toc:()=>d});var i=t(487462),r=(t(667294),t(603905));const n={},l="Design of HBase",o={unversionedId:"ai/data-science/big-data/design-of-hbase",id:"ai/data-science/big-data/design-of-hbase",title:"Design of HBase",description:"1. What is HBase",source:"@site/docs/ai/data-science/big-data/design-of-hbase.md",sourceDirName:"ai/data-science/big-data",slug:"/ai/data-science/big-data/design-of-hbase",permalink:"/ai/data-science/big-data/design-of-hbase",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/ai/data-science/big-data/design-of-hbase.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Big Data",permalink:"/ai/data-science/big-data/"},next:{title:"Design of Key-Value Stores",permalink:"/ai/data-science/big-data/design-of-key-value-stores"}},s={},d=[{value:"HBase is",id:"hbase-is",level:2},{value:"HBase Architecture",id:"hbase-architecture",level:2},{value:"HBase components",id:"hbase-components",level:2},{value:"Data Model",id:"data-model",level:2},{value:"HBase Data Model",id:"hbase-data-model",level:2},{value:"HBase Data Model",id:"hbase-data-model-1",level:2},{value:"Zab - Zookeeper Atomic Broadcast",id:"zab---zookeeper-atomic-broadcast",level:2},{value:"HBase Architecture",id:"hbase-architecture-1",level:2},{value:"Auto Sharding and Distribution",id:"auto-sharding-and-distribution",level:2},{value:"Bloom Filter",id:"bloom-filter",level:2}],u={toc:d},m="wrapper";function c(e){let{components:a,...n}=e;return(0,r.kt)(m,(0,i.Z)({},u,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"design-of-hbase"},"Design of HBase"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"What is HBase")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"HBase Architecture")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"HBase Components")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Data model")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"HBase Storage Hierarchy")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Cross-Datacenter Replication")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Auto Sharding and Distribution")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Bloom Filter and Fold, Store, and Shift"))),(0,r.kt)("h2",{id:"hbase-is"},"HBase is"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"An opensource NoSQL database"),(0,r.kt)("li",{parentName:"ul"},"A distributed column-oriented data store that can scale horizontally to 1000s of commodity servers and petabytes of indexed storage"),(0,r.kt)("li",{parentName:"ul"},"Designed to operate on top of the Hadoop distributed file system. (HDFS) for scalability, fault tolerance, and high availability"),(0,r.kt)("li",{parentName:"ul"},"HBase is actually an implementation of the BigTable storage architecture, which is a distributed storage system developed by Google"),(0,r.kt)("li",{parentName:"ul"},"Works with structured, unstructured and semi-structured data"),(0,r.kt)("li",{parentName:"ul"},"Unlike Cassandra, HBase prefers consistency (over availability)")),(0,r.kt)("h2",{id:"hbase-architecture"},"HBase Architecture"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Table split into regions and served by region servers"),(0,r.kt)("li",{parentName:"ul"},'Regions vertically divided by column families into "stores"'),(0,r.kt)("li",{parentName:"ul"},"Stores saved as files on HDFS"),(0,r.kt)("li",{parentName:"ul"},"Hbase utilizes zookeeper for distributed coordination")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:t(483425).Z,width:"840",height:"838"})),(0,r.kt)("h2",{id:"hbase-components"},"HBase components"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Client: Finds RegionServers that are serving particular row range of interest"),(0,r.kt)("li",{parentName:"ul"},"HMaster: Monitoring all RegionServer instances in the cluster"),(0,r.kt)("li",{parentName:"ul"},"Regions: Basic element of availability and distribution for tables"),(0,r.kt)("li",{parentName:"ul"},"RegionServer",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Serving and managing regions"),(0,r.kt)("li",{parentName:"ul"},"In a distributed cluster, a RegionServer runs on a DataNode"))),(0,r.kt)("li",{parentName:"ul"},"Tables are divided into sequences of rows, by key range, called regions"),(0,r.kt)("li",{parentName:"ul"},'These regions are then assigned to the data nodes in the cluster called "RegionServers"')),(0,r.kt)("h2",{id:"data-model"},"Data Model"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'Data stored in Hbase is located by its "rowkey"'),(0,r.kt)("li",{parentName:"ul"},"RowKey is like a primary key from a relational database"),(0,r.kt)("li",{parentName:"ul"},"Records in Hbase are stored in sorted order, according to rowkey"),(0,r.kt)("li",{parentName:"ul"},"Data in a row are grouped together as Column Families. Each Column Family has one or more Columns"),(0,r.kt)("li",{parentName:"ul"},"These Columns in a family are stored together in a low level storage file known as HFile")),(0,r.kt)("h2",{id:"hbase-data-model"},"HBase Data Model"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Table")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Row")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Column Family")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Column Qualifier")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Cell")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Timestamp"))),(0,r.kt)("h2",{id:"hbase-data-model-1"},"HBase Data Model"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Table:")," HBase organizes data into tables. Table names are Strings and composed of characters that are safe for use in a file system path"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Row:")," Within a table, data is stored according to its row. Rows are identified uniquely by their row key. Row keys do not have a data type and are always treated as a byte [] (byte array)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Column Family:")," Data within a row is grouped by column family. Every row in a table has the same column families, although a row need not store data in all its families. Column families are Strings and composed of characters that are safe for use in a file system path"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Column Qualifier:")," Data within a column family is addressed via its column qualifier, or simply, column, Column qualifiers need not be specified in advance. Column qualifiers need not be consistent between rows. Like row keys, column qualifiers do not have a data type and are always treated as a byte ","[ ]","."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Cell:")," A combination of row key, column family, and column qualifier uniquely identifies a cell. The data stored in a cell is referred to as that cell's value"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Timestamp:")," Values within a cell are versioned. Versions are idenfied by their version number, which by default is the timestamp is used."),(0,r.kt)("li",{parentName:"ul"},"If the timestamp is not specified for a read, the latest one is returned. The number of cell value versions retained by Hbase is configured for each column family. The default number of cell versions is three.")),(0,r.kt)("h2",{id:"zab---zookeeper-atomic-broadcast"},"Zab - Zookeeper Atomic Broadcast"),(0,r.kt)("h2",{id:"hbase-architecture-1"},"HBase Architecture"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:t(662422).Z,width:"1424",height:"862"})),(0,r.kt)("h2",{id:"auto-sharding-and-distribution"},"Auto Sharding and Distribution"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Unit of scalability in HBase is the Region"),(0,r.kt)("li",{parentName:"ul"},"Sorted, contiguous range of rows"),(0,r.kt)("li",{parentName:"ul"},'Spread "randomly" across RegionServer'),(0,r.kt)("li",{parentName:"ul"},"Moved around for load balancing and failover"),(0,r.kt)("li",{parentName:"ul"},"Split automatically or manually to scale with growing data"),(0,r.kt)("li",{parentName:"ul"},"Capacity is solely a factor of cluster nodes vs Regions per node")),(0,r.kt)("h2",{id:"bloom-filter"},"Bloom Filter"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Bloom filters are generated when HFile is pesisted")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:t(25795).Z,width:"1440",height:"1080"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:t(29565).Z,width:"1440",height:"1080"})))}c.isMDXComponent=!0},483425:(e,a,t)=>{t.d(a,{Z:()=>i});const i=t.p+"assets/images/Big-Data_Design-of-HBase-image1-994e117d8886d7badb55ad220301fb02.jpg"},662422:(e,a,t)=>{t.d(a,{Z:()=>i});const i=t.p+"assets/images/Big-Data_Design-of-HBase-image2-a48108ffb986361c10c09559ed20c317.jpg"},25795:(e,a,t)=>{t.d(a,{Z:()=>i});const i=t.p+"assets/images/Big-Data_Design-of-HBase-image3-63a9b5fef30e247b7333da00c8a8146c.jpg"},29565:(e,a,t)=>{t.d(a,{Z:()=>i});const i=t.p+"assets/images/Big-Data_Design-of-HBase-image4-29b33b860c54ef8f2bffd357cf578134.jpg"}}]);