"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[66966],{603905:(e,t,a)=>{a.d(t,{Zo:()=>h,kt:()=>m});var s=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function n(e,t){if(null==e)return{};var a,s,r=function(e,t){if(null==e)return{};var a,s,r={},i=Object.keys(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=s.createContext({}),c=function(e){var t=s.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},h=function(e){var t=c(e.components);return s.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},p=s.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,h=n(e,["components","mdxType","originalType","parentName"]),u=c(a),p=r,m=u["".concat(l,".").concat(p)]||u[p]||d[p]||i;return a?s.createElement(m,o(o({ref:t},h),{},{components:a})):s.createElement(m,o({ref:t},h))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=p;var n={};for(var l in t)hasOwnProperty.call(t,l)&&(n[l]=t[l]);n.originalType=e,n[u]="string"==typeof e?e:r,o[1]=n;for(var c=2;c<i;c++)o[c]=a[c];return s.createElement.apply(null,o)}return s.createElement.apply(null,a)}p.displayName="MDXCreateElement"},941304:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>n,toc:()=>c});var s=a(487462),r=(a(667294),a(603905));const i={},o="Full Text Searches",n={unversionedId:"technologies/elasticsearch/full-text-searches",id:"technologies/elasticsearch/full-text-searches",title:"Full Text Searches",description:"- Ignoring \"stop words\" such as \"a\", 'the', 'and'",source:"@site/docs/technologies/elasticsearch/full-text-searches.md",sourceDirName:"technologies/elasticsearch",slug:"/technologies/elasticsearch/full-text-searches",permalink:"/technologies/elasticsearch/full-text-searches",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/technologies/elasticsearch/full-text-searches.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ELK/EFK Stack /Elastic Stack / ElasticSearch",permalink:"/technologies/elasticsearch/elk-efk-stack-elastic-stack-elasticsearch"},next:{title:"Getting Started",permalink:"/technologies/elasticsearch/getting-started"}},l={},c=[{value:"Entity vs. attribute",id:"entity-vs-attribute",level:2},{value:"Document-based search solutions",id:"document-based-search-solutions",level:2},{value:"Faceted Search",id:"faceted-search",level:2},{value:"Omni Search",id:"omni-search",level:2},{value:"Searchable entities",id:"searchable-entities",level:3},{value:"Searchable attributes",id:"searchable-attributes",level:3},{value:"Search behavior",id:"search-behavior",level:3},{value:"Substring location",id:"substring-location",level:3},{value:"Strict vs. fuzzy search",id:"strict-vs-fuzzy-search",level:2},{value:"Start of search",id:"start-of-search",level:2},{value:"Debounce",id:"debounce",level:2},{value:"capitalization",id:"capitalization",level:2},{value:"Scores and weights",id:"scores-and-weights",level:2},{value:"Zero Click Search",id:"zero-click-search",level:2},{value:"Transformers",id:"transformers",level:2},{value:"Tools",id:"tools",level:2}],h={toc:c},u="wrapper";function d(e){let{components:t,...i}=e;return(0,r.kt)(u,(0,s.Z)({},h,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"full-text-searches"},"Full Text Searches"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Ignoring \"stop words\" such as \"a\", 'the', 'and'"),(0,r.kt)("li",{parentName:"ul"},"Stemming words, so that 'pony' and 'ponies' are considered similar"),(0,r.kt)("li",{parentName:"ul"},"Weighting words absed on different criteria such as how frequently they appear in the text, or the importance of the fields, such as the title or keywords, that they appear in.")),(0,r.kt)("h2",{id:"entity-vs-attribute"},"Entity vs. attribute"),(0,r.kt)("p",null,"In search, an entity iswhat you search for, and an attribute iswhat you search it by. This can get confusing, as a search term can be both simultaneously. Sticking with the previous example, you can look for the Song entity by the attributes 'name' and 'artist'. But you can also look for the Artist entity by the attributes 'artist name' and 'songs'."),(0,r.kt)("p",null,"Typically, an entity will correspond to a table in your database, and the attributes will correspond with the fields of that table."),(0,r.kt)("h2",{id:"document-based-search-solutions"},"Document-based search solutions"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Elastic"),(0,r.kt)("li",{parentName:"ol"},"Solr"),(0,r.kt)("li",{parentName:"ol"},"vespa")),(0,r.kt)("h2",{id:"faceted-search"},"Faceted Search"),(0,r.kt)("p",null,"Faceted searchis a technique that involves augmenting traditional search techniques with a faceted navigation system, allowing users to narrow down search results by applying multiple filters based on ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Faceted_classification"},"faceted classification")," of the items.A faceted classification system classifies each information element along multiple explicit dimensions, called facets, enabling the classifications to be accessed and ordered in multiple ways rather than in a single, pre-determined, ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Taxonomy_(general)"},"taxonomic")," order."),(0,r.kt)("p",null,"Facets correspond to properties of the information elements. They are often derived by analysis of the text of an item using ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Entity_extraction"},"entity extraction")," techniques or from pre-existing fields in a database such as author, descriptor, language, and format. Thus, existing web-pages, product descriptions or online collections of articles can be augmented with navigational facets."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:a(1956).Z,width:"830",height:"934"})),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Faceted_search"},"https://en.wikipedia.org/wiki/Faceted_search")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.enterprisedb.com/postgres-tutorials/how-implement-faceted-search-django-and-postgresql"},"https://www.enterprisedb.com/postgres-tutorials/how-implement-faceted-search-django-and-postgresql")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://django-haystack.readthedocs.io/en/v2.4.1/faceting.html"},"https://django-haystack.readthedocs.io/en/v2.4.1/faceting.html")),(0,r.kt)("h2",{id:"omni-search"},"Omni Search"),(0,r.kt)("h3",{id:"searchable-entities"},"Searchable entities"),(0,r.kt)("p",null,"The first thing you need in order to build your omni-search, is to map the entities users might be searching for. Remember: it's not what they search it by - just what they'd like to find."),(0,r.kt)("p",null,"You might not be sure what's considered 'an entity'. For example, on Google Drive, you can search for PDFs, Sheets, or Docs. Are these different entities? While there's a technical discussion I won't get into, as a rule of thumb, if all candidates share the same attributes (e.g. doc name, creator, date...) --- then it can be considered the same entity with a 'type' attribute."),(0,r.kt)("h3",{id:"searchable-attributes"},"Searchable attributes"),(0,r.kt)("p",null,"Once you've selected the entities to be searched, let's select the attributes that the users can search by. Don't be tempted to use all available attributes - this will slow performance and produce bad results. Instead, only use the attributes your users are likely to use. If you're not sure, guess, and then go back after the release and see what your users have tried searching by."),(0,r.kt)("p",null,"Example: on Spotify, each artist has an 'about' attribute, which you can see after you've clicked on the artist (all the way on the bottom). However, if you tried copy-pasting that 'about' text to the omni-search, you won't find the artist, because Spotify doesn't search artists by the 'about' attribute, which makes sense: it's unlikely anyone will try searching by it, in any reasonable use-case."),(0,r.kt)("h3",{id:"search-behavior"},"Search behavior"),(0,r.kt)("p",null,"There are a few other parameters you need to define in your search:"),(0,r.kt)("h3",{id:"substring-location"},"Substring location"),(0,r.kt)("p",null,"Let's take The Chainsmokers. Which of these search terms do you think should find them: 'the chain', 'chain', or 'smokers'?"),(0,r.kt)("p",null,"If you guessed all three, then you're right. But that's not always the case. Let's try to look for the Medium publicationNoteworthy.You'll find it if you search for 'notew', but not if you look for 'worthy'."),(0,r.kt)("p",null,"This has a lot to do with how the data is being indexed, and there are three main options to choose from:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"start of string (e.g. 'the chain')"),(0,r.kt)("li",{parentName:"ol"},"start of each word (e.g. 'chains')"),(0,r.kt)("li",{parentName:"ol"},"all substrings (e.g. 'smokers', or 'ainsmoke')")),(0,r.kt)("p",null,"Again, more is not always better. Pick the one most suited to what your users are likely to search."),(0,r.kt)("h2",{id:"strict-vs-fuzzy-search"},"Strict vs. fuzzy search"),(0,r.kt)("p",null,"Users make mistakes. They might type in \"the chansmokers\", leaving out the 'i', either due to a typo or miss-spelling. A fuzzy search will catch that. Too fuzzy of a search will also catch a lot of garbage results."),(0,r.kt)("h2",{id:"start-of-search"},"Start of search"),(0,r.kt)("p",null,"Most searches don't show results until you type in at least 2--3 letters."),(0,r.kt)("h2",{id:"debounce"},"Debounce"),(0,r.kt)("p",null,"We type quickly. You don't want each keystroke to start a new search, because that would seem jumpy to the user. You commonly wait 0.1s or so after the keystroke (don't hold me to that number), to make sure the user stopped typing."),(0,r.kt)("h2",{id:"capitalization"},"capitalization"),(0,r.kt)("p",null,"Not much to say about this. 99% of searches should be caseinsensitive."),(0,r.kt)("h2",{id:"scores-and-weights"},"Scores and weights"),(0,r.kt)("p",null,"This part is a bit complicated, and can fill an entire post on its own, but I'll try to explain the gist of it:"),(0,r.kt)("p",null,"In very simple searches, the search term is either found, or not found. 1 or 0. With more modern search tools (Elasticsearch being the most popular), each result gets a score, based on the location of the substring, accuracy, and a few other parameters."),(0,r.kt)("p",null,"To add to that, it's possible to put weights on those scores. Say you search for a song by both track name and artist. The term 'young' can find Young Folks by Peter, Bjorn and John, and it can also find Heart of Gold by Neil Young. However, when looking for songs, it makes sense to give more weight to the name of the song than to the artist (and of course, vice-versa when you're looking for artists)."),(0,r.kt)("p",null,"Showing results"),(0,r.kt)("p",null,"Here's when the fun starts! Results can be shown in 3 basic formats:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"quick preview - a popup showing around 10 top results"),(0,r.kt)("li",{parentName:"ul"},"result summary - a full page showing the main results for each entity"),(0,r.kt)("li",{parentName:"ul"},"all results - all of the results of a specific entity")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://uxdesign.cc/designing-an-omni-search-29c6cb6ec3f7"},"https://uxdesign.cc/designing-an-omni-search-29c6cb6ec3f7")),(0,r.kt)("h2",{id:"zero-click-search"},"Zero Click Search"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Direct answers in the search results, and users doesn't have to click further links")),(0,r.kt)("h2",{id:"transformers"},"Transformers"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:a(719537).Z,width:"1100",height:"442"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:a(288368).Z,width:"1100",height:"606"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:a(774189).Z,width:"1099",height:"641"})),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/deepset-ai/haystack"},"https://github.com/deepset-ai/haystack")),(0,r.kt)("h2",{id:"tools"},"Tools"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.algolia.com"},"https://www.algolia.com")))}d.isMDXComponent=!0},1956:(e,t,a)=>{a.d(t,{Z:()=>s});const s=a.p+"assets/images/Technologies-Elasticsearch-Full-Text-Searches-image1-ec62ac189f2caf965f4b96183fd77888.jpg"},719537:(e,t,a)=>{a.d(t,{Z:()=>s});const s=a.p+"assets/images/Technologies-Elasticsearch-Full-Text-Searches-image2-d8638bcd1b62e0f92bc9eb8a6716edfc.jpg"},288368:(e,t,a)=>{a.d(t,{Z:()=>s});const s=a.p+"assets/images/Technologies-Elasticsearch-Full-Text-Searches-image3-6a61f73f1f5b0e701b9eeb2f2cb60a33.jpg"},774189:(e,t,a)=>{a.d(t,{Z:()=>s});const s=a.p+"assets/images/Technologies-Elasticsearch-Full-Text-Searches-image4-71e9428ce91116414ed4ce121d6c23ea.jpg"}}]);