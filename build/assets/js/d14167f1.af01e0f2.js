"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[22880],{603905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>d});var n=a(667294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},k="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),k=p(a),m=o,d=k["".concat(s,".").concat(m)]||k[m]||u[m]||r;return a?n.createElement(d,i(i({ref:t},c),{},{components:a})):n.createElement(d,i({ref:t},c))}));function d(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[k]="string"==typeof e?e:o,i[1]=l;for(var p=2;p<r;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},669423:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var n=a(487462),o=(a(667294),a(603905));const r={},i="KeyCloak",l={unversionedId:"devops/others/keycloak",id:"devops/others/keycloak",title:"KeyCloak",description:"Add authentication to applications and secure services with minimum fuss.",source:"@site/docs/devops/others/keycloak.md",sourceDirName:"devops/others",slug:"/devops/others/keycloak",permalink:"/devops/others/keycloak",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/devops/others/keycloak.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Jenkins",permalink:"/devops/others/jenkins"},next:{title:"Kong",permalink:"/devops/others/kong"}},s={},p=[{value:"Features",id:"features",level:2},{value:"Single sign-on",id:"single-sign-on",level:2},{value:"Keycloak Tokens",id:"keycloak-tokens",level:2},{value:"Keycloak Integration Options",id:"keycloak-integration-options",level:2},{value:"Python - https://github.com/marcospereirampj/python-keycloak",id:"python---httpsgithubcommarcospereirampjpython-keycloak",level:2},{value:"Django integration - https://medium.com/@sairamkrish/keycloak-integration-part-3-integration-with-python-django-backend-5dac3b4a8e4e",id:"django-integration---httpsmediumcomsairamkrishkeycloak-integration-part-3-integration-with-python-django-backend-5dac3b4a8e4e",level:2}],c={toc:p},k="wrapper";function u(e){let{components:t,...r}=e;return(0,o.kt)(k,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"keycloak"},"KeyCloak"),(0,o.kt)("p",null,"Add authentication to applications and secure services with minimum fuss."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"User Federation"),(0,o.kt)("li",{parentName:"ul"},"Identity Brokering"),(0,o.kt)("li",{parentName:"ul"},"Social Login")),(0,o.kt)("p",null,"A realm in Keycloak is the equivalent of a tenant. It allows creating isolated groups of applications and users. By default there is a a single realm in Keycloak called ",(0,o.kt)("strong",{parentName:"p"},"master"),". This is dedicated to manage Keycloak and should not be used for your own applications."),(0,o.kt)("h2",{id:"features"},"Features"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Single sign-on and single sign-out"),(0,o.kt)("li",{parentName:"ul"},"Standard protocols - OAuth 2.0, OIDC 1.0, SAML 2.0"),(0,o.kt)("li",{parentName:"ul"},"Flexible Authentication and Authorization"),(0,o.kt)("li",{parentName:"ul"},"Multi-Factor Authentication - One-time Passwords"),(0,o.kt)("li",{parentName:"ul"},"Social Login - Google, Facebook, Twitter,..."),(0,o.kt)("li",{parentName:"ul"},"Provides centralized User Management"),(0,o.kt)("li",{parentName:"ul"},"Supports Directory Services"),(0,o.kt)("li",{parentName:"ul"},"Customizable and Extensible"),(0,o.kt)("li",{parentName:"ul"},"Easy setup and integration")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"image",src:a(180030).Z,width:"1102",height:"729"})),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"image",src:a(996491).Z,width:"1328",height:"738"})),(0,o.kt)("h2",{id:"single-sign-on"},"Single sign-on"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"SSO - Login once to access all applications"),(0,o.kt)("li",{parentName:"ul"},"Standardized Protocols",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"OpenID Connect 1.0 (OIDC)"),(0,o.kt)("li",{parentName:"ul"},"Security Assertion Markup Language 2.0 (SAML)"))),(0,o.kt)("li",{parentName:"ul"},"Browser based Web SSO",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Web, Mobile and Desktop Apps"))),(0,o.kt)("li",{parentName:"ul"},"Support for single logout",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Logouts can be propagated to applications"),(0,o.kt)("li",{parentName:"ul"},"Applications can opt-in")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"image",src:a(646040).Z,width:"1486",height:"739"})),(0,o.kt)("h2",{id:"keycloak-tokens"},"Keycloak Tokens"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"OAuth / OpenID Connect"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Signed self-contained ",(0,o.kt)("strong",{parentName:"li"},"JSON Web Token")),(0,o.kt)("li",{parentName:"ul"},"Claims: KV-Pairs with user information + Metadata"),(0,o.kt)("li",{parentName:"ul"},"Issued by Keycloak, ",(0,o.kt)("strong",{parentName:"li"},"signed")," with Realm ",(0,o.kt)("strong",{parentName:"li"},"Private Key")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Verified")," with Realm ",(0,o.kt)("strong",{parentName:"li"},"Public Key")),(0,o.kt)("li",{parentName:"ul"},"Limited lifespan, can be revoked"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Essential Token Types"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Access-Token")," short-lived (Minutes+) -> used for ",(0,o.kt)("strong",{parentName:"li"},"accessing Resources")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Refresh-Token")," longer-lived (Hours+) -> used for ",(0,o.kt)("strong",{parentName:"li"},"requesting new Tokens")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"IDToken")," -> contains ",(0,o.kt)("strong",{parentName:"li"},"User information (OIDC)")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Offline-Token"),' long-lived (Days++) "Refresh-Token" that "never" expires')))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"image",src:a(661154).Z,width:"1099",height:"575"})),(0,o.kt)("h2",{id:"keycloak-integration-options"},"Keycloak Integration Options"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"OpenID Connect Keycloak Adapters"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Spring security, Spring boot, ServletFilter, Tomcat, Jetty, Undertow, Wildfly, JBoss, EAP,..."),(0,o.kt)("li",{parentName:"ul"},"NodeJS, JavaScript, Angular, AngularJS, Aurelia, CLI & Desktop Apps..."))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"SAML Keycloak Adapters"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"ServletFilter, Tomcat, Jetty, Wildfly..."))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Reverse Proxies"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Keycloak Gatekeeper, dedicated Proxy, written in Go, injects auth info into HTTP headers"),(0,o.kt)("li",{parentName:"ul"},"Apache mod_auth_oidc for OpenID connect"),(0,o.kt)("li",{parentName:"ul"},"Apache mod_auth_mellon for SAML")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"image",src:a(260048).Z,width:"1290",height:"715"})),(0,o.kt)("h2",{id:"python---httpsgithubcommarcospereirampjpython-keycloak"},"Python - ",(0,o.kt)("a",{parentName:"h2",href:"https://github.com/marcospereirampj/python-keycloak"},"https://github.com/marcospereirampj/python-keycloak")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/chunky-monkeys/keycloak-client"},"https://github.com/chunky-monkeys/keycloak-client")),(0,o.kt)("h2",{id:"django-integration---httpsmediumcomsairamkrishkeycloak-integration-part-3-integration-with-python-django-backend-5dac3b4a8e4e"},"Django integration - ",(0,o.kt)("a",{parentName:"h2",href:"https://medium.com/@sairamkrish/keycloak-integration-part-3-integration-with-python-django-backend-5dac3b4a8e4e"},"https://medium.com/@sairamkrish/keycloak-integration-part-3-integration-with-python-django-backend-5dac3b4a8e4e")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/keycloak/keycloak"},"https://github.com/keycloak/keycloak")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/keycloak/keycloak-quickstarts"},"https://github.com/keycloak/keycloak-quickstarts")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/thomasdarimont/keycloak-extension-playground"},"https://github.com/thomasdarimont/keycloak-extension-playground")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.keycloak.org/docs/latest/getting_started"},"https://www.keycloak.org/docs/latest/getting_started")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.keycloak.org/docs/latest/authorization_services"},"https://www.keycloak.org/docs/latest/authorization_services")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.openshift.com/blog/adding-authentication-to-your-kubernetes-web-applications-with-keycloak"},"https://www.openshift.com/blog/adding-authentication-to-your-kubernetes-web-applications-with-keycloak")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/42186537/resources-scopes-permissions-and-policies-in-keycloak"},"https://stackoverflow.com/questions/42186537/resources-scopes-permissions-and-policies-in-keycloak")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=FyVHNJNriUQ"},"How to secure your Microservices with Keycloak - Thomas Darimont")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=RupQWmYhrLA"},"Bilding an effective identity and access management architecture with Keycloak")))}u.isMDXComponent=!0},180030:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DevOps-Others-KeyCloak-image1-48ea9976a3c4cefed66dec585937ebe4.jpg"},996491:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DevOps-Others-KeyCloak-image2-4ee1fecc2cd1f1c773255d3932625fff.jpg"},646040:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DevOps-Others-KeyCloak-image3-8c529cd710fc64a60eb99fe33b311148.jpg"},661154:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DevOps-Others-KeyCloak-image4-8efbed1ead843f2a1ae3c83f91c032af.jpg"},260048:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DevOps-Others-KeyCloak-image5-4a42cdb0bf40cccc6fa6eea35a18f9e8.jpg"}}]);