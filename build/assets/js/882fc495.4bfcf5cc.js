"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[95393],{603905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var a=n(667294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),g=c(n),u=r,d=g["".concat(l,".").concat(u)]||g[u]||m[u]||o;return n?a.createElement(d,s(s({ref:t},p),{},{components:n})):a.createElement(d,s({ref:t},p))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[g]="string"==typeof e?e:r,s[1]=i;for(var c=2;c<o;c++)s[c]=n[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},575762:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var a=n(487462),r=(n(667294),n(603905));const o={},s="Kong",i={unversionedId:"devops/others/kong",id:"devops/others/kong",title:"Kong",description:"Kong is a cloud-native, fast, scalable, and distributed Microservice Abstraction Layer (also known as an API Gateway, API Middleware or in some cases Service Mesh). Made available as an open-source project in 2015, its core values are high performance and extensibility.",source:"@site/docs/devops/others/kong.md",sourceDirName:"devops/others",slug:"/devops/others/kong",permalink:"/devops/others/kong",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/devops/others/kong.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"KeyCloak",permalink:"/devops/others/keycloak"},next:{title:"Other - CICD",permalink:"/devops/others/other-cicd"}},l={},c=[{value:"Features",id:"features",level:2},{value:"Kong DB Less Declarative Config",id:"kong-db-less-declarative-config",level:2},{value:"Kong Helm Charts",id:"kong-helm-charts",level:2},{value:"Commands",id:"commands",level:2},{value:"Konga",id:"konga",level:2},{value:"References",id:"references",level:2}],p={toc:c},g="wrapper";function m(e){let{components:t,...o}=e;return(0,r.kt)(g,(0,a.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"kong"},"Kong"),(0,r.kt)("p",null,"Kong is a cloud-native, fast, scalable, and distributed Microservice Abstraction Layer ",(0,r.kt)("em",{parentName:"p"},"(also known as an API Gateway, API Middleware or in some cases Service Mesh)"),". Made available as an open-source project in 2015, its core values are high performance and extensibility."),(0,r.kt)("p",null,"If you are building for web, mobile or IoT (Internet of Things) you will likely end up needing common functionality to run your actual software. Kong can help by acting as a gateway (or a sidecar) for microservices requests while providing load balancing, logging, authentication, rate-limiting, transformations, and more through plugins."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(717933).Z,width:"2294",height:"1518"})),(0,r.kt)("h2",{id:"features"},"Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Cloud-Native:")," Platform agnostic, Kong can run from bare metal to Kubernetes."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Dynamic Load Balancing:")," Load balance traffic across multiple upstream services."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Hash-based Load Balancing:")," Load balance with consistent hashing/sticky sessions."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Circuit-Breaker:")," Intelligent tracking of unhealthy upstream services."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Health Checks:"),"Active and passive monitoring of your upstream services."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Service Discovery:")," Resolve SRV records in third-party DNS resolvers like Consul."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Serverless:")," Invoke and secure AWS Lambda or OpenWhisk functions directly from Kong."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"WebSockets:")," Communicate to your upstream services via WebSockets."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"OAuth2.0:")," Easily add OAuth2.0 authentication to your APIs."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Logging:")," Log requests and responses to your system over HTTP, TCP, UDP, or to disk."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Security:")," ACL, Bot detection, whitelist/blacklist IPs, etc..."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Syslog:")," Logging to System log."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"SSL:")," Setup a Specific SSL Certificate for an underlying service or API."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Monitoring:")," Live monitoring provides key load and performance server metrics."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Forward Proxy:")," Make Kong connect to intermediary transparent HTTP proxies."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Authentications:")," HMAC, JWT, Basic, and more."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Rate-limiting:")," Block and throttle requests based on many variables."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Transformations:")," Add, remove, or manipulate HTTP requests and responses."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Caching:")," Cache and serve responses at the proxy layer."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"CLI:")," Control your Kong cluster from the command line."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"REST API:")," Kong can be operated with its RESTful API for maximum flexibility."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Geo-Replicated:")," Configs are always up-to-date across different regions."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Failure Detection & Recovery:")," Kong is unaffected if one of your Cassandra nodes goes down."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Clustering:")," All Kong nodes auto-join the cluster keeping their config updated across nodes."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Scalability:")," Distributed by nature, Kong scales horizontally by simply adding nodes."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Performance:")," Kong handles load with ease by scaling and using NGINX at the core."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Plugins:")," Extendable architecture for adding functionality to Kong and APIs.")),(0,r.kt)("h2",{id:"kong-db-less-declarative-config"},"Kong DB Less Declarative Config"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.konghq.com/1.3.x/db-less-and-declarative-config"},"https://docs.konghq.com/1.3.x/db-less-and-declarative-config")),(0,r.kt)("h2",{id:"kong-helm-charts"},"Kong Helm Charts"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'helm install --name kg \\\n--set=admin.type=ClusterIP,proxy.type=LoadBalancer,proxy.loadBalancerIP=104.211.225.153 \\\n--namespace kong \\\nstable/kong\n\nhelm upgrade --set=admin.useTLS=true --namespace kong kg stable/kong\n\nhelm delete --purge kg\n\nhelm status kg\n\nexport POD_NAME=$(kubectl get pods --namespace kong -l "release=kg, app=kong" -o jsonpath="{.items[0].metadata.name}")\nkubectl port-forward --namespace kong $POD_NAME 8444:8444\n\n# Notes\n    1. Kong Admin can be accessed inside the cluster using:\n            DNS=kg-kong-admin.kong.svc.cluster.local\n            PORT=8444\n\n    To connect from outside the K8s cluster:\n            HOST=127.0.0.1\n\n            # Execute the following commands to route the connection to Admin SSL port:\n            export POD_NAME=$(kubectl get pods --namespace kong -l "release=kg, app=kong" -o jsonpath="{.items[0].metadata.name}")\n            kubectl port-forward --namespace kong $POD_NAME 8444:8444\n\n    2. Kong Proxy can be accessed inside the cluster using:\n            DNS=kg-kong-proxy.kong.svc.cluster.localPORT=443To connect from outside the K8s cluster:\n            HOST=$(kubectl get svc --namespace kong kg-kong-proxy -o jsonpath=\'{.status.loadBalancer.ingress.ip}\')\n            PORT=$(kubectl get svc --namespace kong kg-kong-proxy -o jsonpath=\'{.spec.ports[0].nodePort}\')\n')),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/helm/charts/tree/master/stable/kong"},"https://github.com/helm/charts/tree/master/stable/kong")),(0,r.kt)("h2",{id:"commands"},"Commands"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'docker network create kong-net\n\ndocker run --name kong-database \\\n--network=kong-net \\\n-p 5432:5432 \\\n-e POSTGRES_USER=kong \\\n-e POSTGRES_DB=kong \\\npostgres:11.2\n\ndocker run --rm \\\n--network=kong-net \\\n-e KONG_DATABASE=postgres \\\n-e KONG_PG_HOST=kong-database \\\nkong:latest kong migrations bootstrap\n\ndocker run --name kong \\\n--network=kong-net \\\n-e KONG_DATABASE=postgres \\\n-e KONG_PG_HOST=kong-database \\\n-e KONG_PROXY_ACCESS_LOG=/dev/stdout \\\n-e KONG_ADMIN_ACCESS_LOG=/dev/stdout \\\n-e KONG_PROXY_ERROR_LOG=/dev/stderr \\\n-e KONG_ADMIN_ERROR_LOG=/dev/stderr \\\n-e "KONG_ADMIN_LISTEN=0.0.0.0:8001, 0.0.0.0:8444 ssl" \\\n-p 8000:8000 \\\n-p 8443:8443 \\\n-p 8001:8001 \\\n-p 8444:8444 \\\nkong:latest\n\ndocker run -p 1337:1337 \\\n--network=kong-net \\\n--name konga \\\n-v /Users/kongadata:/app/kongadata \\\n-e NODE_ENV=production \\\npantsel/konga\n\ncurl -X POST \\\n-H "Content-Type: application/json" \\\n-d \'{"name":"JohnDoe","username":"jdoe"}\' \\\nhttp://localhost:8000/fake-api/users\n')),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://localhost:8000/fake-api/users"},"http://localhost:8000/fake-api/users")),(0,r.kt)("h2",{id:"konga"},"Konga"),(0,r.kt)("p",null,"More than just another GUI to Kong Admin API"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/pantsel/konga"},"https://github.com/pantsel/konga")),(0,r.kt)("h2",{id:"references"},"References"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Kong/kong"},"https://github.com/Kong/kong")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://medium.com/@tselentispanagis/managing-microservices-and-apis-with-kong-and-konga-7d14568bb59d"},"https://medium.com/@tselentispanagis/managing-microservices-and-apis-with-kong-and-konga-7d14568bb59d")))}m.isMDXComponent=!0},717933:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/DevOps-Others-Kong-image1-41933d5a3f42dba20e566dff171e3701.jpg"}}]);