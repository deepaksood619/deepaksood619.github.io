"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[90426],{603905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>d});var s=a(667294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a,s,n={},o=Object.keys(e);for(s=0;s<o.length;s++)a=o[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=s.createContext({}),c=function(e){var t=s.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p=function(e){var t=c(e.components);return s.createElement(l.Provider,{value:t},e.children)},h="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},m=s.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),h=c(a),m=n,d=h["".concat(l,".").concat(m)]||h[m]||u[m]||o;return a?s.createElement(d,r(r({ref:t},p),{},{components:a})):s.createElement(d,r({ref:t},p))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,r=new Array(o);r[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[h]="string"==typeof e?e:n,r[1]=i;for(var c=2;c<o;c++)r[c]=a[c];return s.createElement.apply(null,r)}return s.createElement.apply(null,a)}m.displayName="MDXCreateElement"},406661:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var s=a(487462),n=(a(667294),a(603905));const o={},r="Others",i={unversionedId:"devops/terminal-bash/others",id:"devops/terminal-bash/others",title:"Others",description:"systemd / initd",source:"@site/docs/devops/terminal-bash/others.md",sourceDirName:"devops/terminal-bash",slug:"/devops/terminal-bash/others",permalink:"/devops/terminal-bash/others",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/devops/terminal-bash/others.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Networking tools",permalink:"/devops/terminal-bash/networking-tools"},next:{title:"Shell/bash Script",permalink:"/devops/terminal-bash/shell-bash-script"}},l={},c=[{value:"systemd / initd",id:"systemd--initd",level:2},{value:"systemctl",id:"systemctl",level:2},{value:"Journald",id:"journald",level:2},{value:"Commands",id:"commands",level:2},{value:"bashplotlib",id:"bashplotlib",level:2},{value:"jq",id:"jq",level:2},{value:"Networking - socat",id:"networking---socat",level:2},{value:"Networking - tshark",id:"networking---tshark",level:2},{value:"Logrotate",id:"logrotate",level:2},{value:"Example",id:"example",level:2},{value:"Manually trigger logrotate",id:"manually-trigger-logrotate",level:3},{value:"File watchers (uses this to know how to see changes to a file)",id:"file-watchers-uses-this-to-know-how-to-see-changes-to-a-file",level:2},{value:"htop",id:"htop",level:2},{value:"glances",id:"glances",level:2},{value:"Interactive Filter",id:"interactive-filter",level:2},{value:"Others",id:"others-1",level:2}],p={toc:c},h="wrapper";function u(e){let{components:t,...o}=e;return(0,n.kt)(h,(0,s.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"others"},"Others"),(0,n.kt)("h2",{id:"systemd--initd"},"systemd / initd"),(0,n.kt)("p",null,"systemdis a collection of tools for a range of different tasks.Its primary purpose is initializing, managing and tracking system services and daemons in Fedora, both during startupand while the system is running."),(0,n.kt)("p",null,"The ",(0,n.kt)("strong",{parentName:"p"},"init system")," is the first process started on Fedora after the kernel starts. In fact, the init system always gets the Process ID (PID) of 1 on a system. This process is always executed by the Linux kernel after the early stages of bootup arecompleted by the BIOS and bootloader (GRUB)."),(0,n.kt)("p",null,"The init system thenmuststart all the necessary daemons, background processes and services required to make the operating system work. Examples of such processes include starting up a bootscreen, various parts of the networking stack, andhardware in your machine."),(0,n.kt)("p",null,"Often these processes continue to run in the background after they start, and are calleddaemons.These daemonsmanage many parts of your system, such as logging information, watching for devices you insert or remove, and managing user login."),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://fedoramagazine.org/what-is-an-init-system"},"https://fedoramagazine.org/what-is-an-init-system")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units"},"https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units")),(0,n.kt)("h2",{id:"systemctl"},"systemctl"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"systemctl list-units | grep .service\nsystemctl status ssh.service\nsystemctl --failed\nsystemctl is-enabled ssh\nsystemctl reboot\nsystemctl poweroff\nsystemctl suspend\nsudo systemctl start ssh.service\nsudo systemctl stop ssh.service\nsudo systemctl restart ssh.service\nsudo systemctl disable ssh.service #will not run automatically on next startup\nsudo systemctl enable ssh.service\n")),(0,n.kt)("h2",{id:"journald"},"Journald"),(0,n.kt)("p",null,"Journald replaces the plain text files of syslog with a binary format that:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Allows for log messages with multiple fields and multi-line text"),(0,n.kt)("li",{parentName:"ul"},"Stores these messages in a space-efficient way that does not require renaming files for maintenance"),(0,n.kt)("li",{parentName:"ul"},"Gives fast access to messages given specific criteria, much like a database would")),(0,n.kt)("h2",{id:"commands"},"Commands"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},'- journalctl #view blob messages\n- journalctl -a #view decoded messages\n- journalctl -k #view kernel messages\n- journalctl -f #follow messages\n- journalctl -b #messages from this boot\n- journalctl --since "2015-06-26 23:15:00" --until "2015-06-26 23:20:00"\n- journalctl --since "2 days ago"\n- journalctl --since "1 hour ago"\n- journalctl -u nginx.service #only show nginx.service unit logs\n')),(0,n.kt)("h2",{id:"bashplotlib"},"bashplotlib"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"pip install bashplotlib #graphs in the console")),(0,n.kt)("h2",{id:"jq"},"jq"),(0,n.kt)("p",null,"jq is like sed for JSON data - you can use it to slice and filter and map and transform structured data with the same ease that sed, awk, grep and friends let you play with text."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"brew install jq")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://stedolan.github.io/jq"},"https://stedolan.github.io/jq")),(0,n.kt)("h2",{id:"networking---socat"},"Networking - socat"),(0,n.kt)("p",null,"socat is a command line based utility that establishes two bidirectional byte streams and transfers data between them. Because the streams can be constructed from a large set of different types of data sinks and sources (see ",(0,n.kt)("a",{parentName:"p",href:"http://www.dest-unreach.org/socat/doc/socat.html#ADDRESS_TYPES"},"address types"),"), and because lots of ",(0,n.kt)("a",{parentName:"p",href:"http://www.dest-unreach.org/socat/doc/socat.html#ADDRESS_OPTIONS"},"address options")," may be applied to the streams, socat can be used for many different purposes"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"http://www.dest-unreach.org/socat/doc/socat.html"},"http://www.dest-unreach.org/socat/doc/socat.html")),(0,n.kt)("h2",{id:"networking---tshark"},"Networking - tshark"),(0,n.kt)("p",null,"Dump and analyze network traffic"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.wireshark.org/docs/man-pages/tshark.html"},"https://www.wireshark.org/docs/man-pages/tshark.html")),(0,n.kt)("h2",{id:"logrotate"},"Logrotate"),(0,n.kt)("p",null,"logrotate is designed to ease administration of systems that generate large numbers of log files. It allows automatic rotation, compression, removal, and mailing of log files. Each log file may be handled daily, weekly, monthly, or when it grows too large."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Config file - /etc/logrotate.conf")),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Options - man logrotate.conf")),(0,n.kt)("h2",{id:"example"},"Example"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},"/tmp/email.log {\ncompress\n\ndelaycompress\n\ndaily\n\ncreate 666 ubuntu syslog\n\nmissingok\nrotate 14\n}\n\n/var/log/access.log {\ncompress\n\ndelaycompress\n\ndaily\n\ncreate 666 root root\n\nmissingok\nrotate 14\n}\n")),(0,n.kt)("h3",{id:"manually-trigger-logrotate"},"Manually trigger logrotate"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"sudo logrotate -f /etc/logrotate.conf")),(0,n.kt)("h2",{id:"file-watchers-uses-this-to-know-how-to-see-changes-to-a-file"},"File watchers (uses this to know how to see changes to a file)"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"inotify"),(0,n.kt)("li",{parentName:"ol"},"poll")),(0,n.kt)("p",null,"The biggest difference is that epoll can be used for ANY fd. This means it's good for watching all types of ways to communicate data. Sockets, IPC, files, printers.. anything. inotify is for filesystems only."),(0,n.kt)("p",null,"However, because inotify is specific to filesystems, you can receive notifications on a wide array of filesystem-specific attributes, such as file attributes and the file being read. These things are not possible via epoll."),(0,n.kt)("p",null,"In fact, inotify returns a file descriptor - which means you can use epoll to determine which inotify FD's you should call read on. So the two go hand in hand to some extent."),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"http://en.wikipedia.org/wiki/Inotify"},"http://en.wikipedia.org/wiki/Inotify")),(0,n.kt)("h2",{id:"htop"},"htop"),(0,n.kt)("p",null,"htop - an interactive process viewer for Unix."),(0,n.kt)("p",null,"It shows a frequently updated list of the processes running on a computer, normally ordered by the amount of CPU usage. Unlike top, htop provides a full list of processes running, instead of the top resource-consuming processes. htop uses color and gives visual information about ",(0,n.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Central_processing_unit"},"processor"),", ",(0,n.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Swap_space"},"swap")," and ",(0,n.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Random_access_memory"},"memory")," status."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image",src:a(572271).Z,width:"1737",height:"412"})),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image",src:a(714794).Z,width:"1723",height:"596"})),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://peteris.rocks/blog/htop"},"https://peteris.rocks/blog/htop")),(0,n.kt)("h2",{id:"glances"},"glances"),(0,n.kt)("p",null,"Glancesis a cross-platform monitoring tool which aims to present a large amount of monitoring information through a curses or Web based interface. The information dynamically adapts depending on the size of the user interface."),(0,n.kt)("p",null,"pip install glances"),(0,n.kt)("p",null,"pip install 'glances ","[action, browser, cloud, cpuinfo, docker, export, folders, gpu, graph, ip, raid, snmp, web, wifi]","'"),(0,n.kt)("p",null,"glances -w"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/nicolargo/glances"},"https://github.com/nicolargo/glances")),(0,n.kt)("h2",{id:"interactive-filter"},"Interactive Filter"),(0,n.kt)("p",null,"Searching the command history can be tedious. While both bash and zsh feature Ctrl+R keybinding, it only shows one substitution at a time. What is more, you need to enter the exact text that you used before. Since this is quite a common operation, once you start using the command line, it looks like a fine place for improvement."),(0,n.kt)("p",null,"Interactive filters, like ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/jhawthorn/fzy"},"fzy"),", ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/mooz/percol"},"percol"),", ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/peco/peco"},"peco")," or ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/junegunn/fzf"},"fzf")," help you with filtering long lines of text. This can either be the aforementioned command history, all the lines of code in a project directory, or a list of filenames generated byfind .. The general idea here is to present you first with all the lines available and then rely on fuzzy finding algorithms to filter out everything that doesn't match."),(0,n.kt)("p",null,"For example, binding Ctrl+R to fzf shows you a list of the most recent commands, which you can navigate up and down using arrows, or you can typegitto only show commands that feature Git somewhere inside."),(0,n.kt)("p",null,"Plus, you can make your interactive filter available inside your programmable text editor. This way, you will have unified searching capabilities between your shell and your editor."),(0,n.kt)("h2",{id:"others-1"},"Others"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/google/zx"},"https://github.com/google/zx")))}u.isMDXComponent=!0},572271:(e,t,a)=>{a.d(t,{Z:()=>s});const s=a.p+"assets/images/DevOps-Terminal-Bash-Others-image1-e322f603ea401b5e68992bc1e7fac7c6.jpg"},714794:(e,t,a)=>{a.d(t,{Z:()=>s});const s=a.p+"assets/images/DevOps-Terminal-Bash-Others-image2-ffe6bf8b87ba1d300cccab2e3cc98166.jpg"}}]);