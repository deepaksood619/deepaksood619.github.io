"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[72992],{603905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>h});var n=r(667294);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var l=n.createContext({}),p=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,s=e.mdxType,a=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=p(r),m=s,h=u["".concat(l,".").concat(m)]||u[m]||c[m]||a;return r?n.createElement(h,i(i({ref:t},d),{},{components:r})):n.createElement(h,i({ref:t},d))}));function h(e,t){var r=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var a=r.length,i=new Array(a);i[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[u]="string"==typeof e?e:s,i[1]=o;for(var p=2;p<a;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},285899:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>o,toc:()=>p});var n=r(487462),s=(r(667294),r(603905));const a={},i="(8) Linux System Administration",o={unversionedId:"devops/terminal-bash/8-linux-system-administration",id:"devops/terminal-bash/8-linux-system-administration",title:"(8) Linux System Administration",description:"sudo",source:"@site/docs/devops/terminal-bash/8-linux-system-administration.md",sourceDirName:"devops/terminal-bash",slug:"/devops/terminal-bash/8-linux-system-administration",permalink:"/devops/terminal-bash/8-linux-system-administration",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/devops/terminal-bash/8-linux-system-administration.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"(3) Library Functions",permalink:"/devops/terminal-bash/3-library-functions"},next:{title:"Bash Metacharacters",permalink:"/devops/terminal-bash/bash-metacharacters"}},l={},p=[{value:"sudo",id:"sudo",level:2},{value:"brctl - ethernet bridge administration",id:"brctl---ethernet-bridge-administration",level:2},{value:"service - run a System V init script",id:"service---run-a-system-v-init-script",level:2},{value:"Commands",id:"commands",level:2},{value:"supervisord",id:"supervisord",level:2},{value:"Running",id:"running",level:3},{value:"fsck",id:"fsck",level:2},{value:"swapon / swapoff",id:"swapon--swapoff",level:2}],d={toc:p},u="wrapper";function c(e){let{components:t,...r}=e;return(0,s.kt)(u,(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"8-linux-system-administration"},"(8) Linux System Administration"),(0,s.kt)("h2",{id:"sudo"},"sudo"),(0,s.kt)("p",null,"sudo, sudoedit - execute a command as another user"),(0,s.kt)("p",null,"sudo is a ",(0,s.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Computer_program"},"program")," for ",(0,s.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Unix-like"},"Unix-like")," computer ",(0,s.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Operating_system"},"operating systems")," that allows users to run programs with the security privileges of another user, by default the ",(0,s.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Superuser"},"superuser"),'.It originally stood for "superuser do"as the older versions ofsudowere designed to run commands only as the superuser. However, the later versions added support for running commands not only as the superuser but also as other (restricted) users, and thus it is also commonly expanded as "substitute user do".Although the latter case reflects its current functionality more accurately, sudois still often called "superuser do" since it is so often used for administrative tasks.'),(0,s.kt)("h2",{id:"brctl---ethernet-bridge-administration"},"brctl - ethernet bridge administration"),(0,s.kt)("p",null,"brctlis used to set up, maintain, and inspect the ethernet bridge configuration in the linux kernel."),(0,s.kt)("p",null,"An ethernet bridge is a device commonly used to connect different networks of ethernets together, so that these ethernets will appear as one ethernet to the participants."),(0,s.kt)("p",null,"Each of the ethernets being connected corresponds to one physical interface in the bridge. These individual ethernets are bundled into one bigger ('logical') ethernet, this bigger ethernet corresponds to the bridge network interface."),(0,s.kt)("h2",{id:"service---run-a-system-v-init-script"},"service - run a System V init script"),(0,s.kt)("p",null,"Description"),(0,s.kt)("p",null,"service runs a System V init script or upstart job in as predictable an environment as possible, removing most environment variables and with the current working directory set to /."),(0,s.kt)("p",null,"The SCRIPT parameter specifies a System V init script, located in /etc/init.d/SCRIPT, or the name of an upstart job in /etc/init. The existence of an upstart job of the same name as a script in /etc/init.d will cause the upstart job to take precedence over the init.d script. The supported values of COMMAND depend on the invoked script. service passes COMMAND and OPTIONS to the init script unmodified. For upstart jobs, start, stop, status, and reload are passed through to their upstart equivalents. Restart will call the upstart 'stop' for the job, followed immediately by the 'start', and will exit with the return code of the start command."),(0,s.kt)("p",null,"All scripts should support at least the start and stop commands. As a special case, if COMMAND is --full-restart, the script is run twice, first with the stop command, then with the start command. This option has no effect on upstart jobs."),(0,s.kt)("h2",{id:"commands"},"Commands"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"sudo service telegraf status\nsudo service --status-all\n")),(0,s.kt)("p",null,"runs all init scripts, in alphabetical order, with the status command. The status is ","[ + ]"," for running services, ","[ - ]"," for stopped services and ","[ ? ]"," for services without a 'status' command. This option only calls status for sysvinit jobs; upstart jobs can be queried in a similar manner with initctl list."),(0,s.kt)("h2",{id:"supervisord"},"supervisord"),(0,s.kt)("p",null,"Supervisor is a client/server system that allows its users to monitor and control a number of processes on UNIX-like operating systems."),(0,s.kt)("p",null,"It shares some of the same goals of programs like ",(0,s.kt)("a",{parentName:"p",href:"http://supervisord.org/glossary.html#term-launchd"},"launchd"),", ",(0,s.kt)("a",{parentName:"p",href:"http://supervisord.org/glossary.html#term-daemontools"},"daemontools"),", and ",(0,s.kt)("a",{parentName:"p",href:"http://supervisord.org/glossary.html#term-runit"},"runit"),'. Unlike some of these programs, it is not meant to be run as a substitute forinitas "process id 1". Instead it is meant to be used to control processes related to a project or a customer, and is meant to start like any other program at boot time.'),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"sudo service supervisor status\n\nUSER root\nRUN apt-get install -y supervisor\nCOPY docker/supervisord.conf /etc/supervisor/conf.d/supervisord.conf\n")),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"supervisord.conf")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-toml"},"[supervisord]\nnodaemon=true\n\n[program:rasa_actions]\ndirectory=/app/\ncommand=rasa run actions\nautostart=true\nautorestart=true\npriority=10\nstdout_logfile=/dev/fd/1\nstdout_logfile_maxbytes=0\nstderr_logfile=/dev/fd/2\nstderr_logfile_maxbytes=0\n\n[program:rasa_run]\ndirectory=/app/\ncommand=rasa run\nautostart=true\nautorestart=true\npriority=5\nstdout_logfile=/dev/fd/1\nstdout_logfile_maxbytes=0\nstderr_logfile=/dev/fd/2\nstderr_logfile_maxbytes=0\n")),(0,s.kt)("h3",{id:"running"},"Running"),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"/bin/bash -c /usr/bin/supervisord")),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"http://supervisord.org"},"http://supervisord.org")),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/community/tutorials/how-to-install-and-manage-supervisor-on-ubuntu-and-debian-vps"},"https://www.digitalocean.com/community/tutorials/how-to-install-and-manage-supervisor-on-ubuntu-and-debian-vps")),(0,s.kt)("h2",{id:"fsck"},"fsck"),(0,s.kt)("p",null,"filesystem consistency check and interactive repair"),(0,s.kt)("p",null,"The first form of fsck preens a standard set of filesystems or the specified filesystems. It is normally used in the script /etc/rc during automatic reboot. Here fsck reads the filesystem descriptor table (using getfsent(3)) to determine which filesystems to check. Only partitions that have ",(0,s.kt)("inlineCode",{parentName:"p"},"rw,''"),"rq'' or ``ro'' as options, and that have non-zero pass number are checked. Filesystems with pass number 1 (normally just the root filesystem) are checked one at a time. When pass 1 completes, all remaining filesystems are checked, running one process per disk drive. The disk drive containing each filesystem is inferred from the shortest prefix of the device name that ends in one or more digits; the remaining characters are assumed to be the partition designator. In preening mode, filesystems that are marked clean are skipped. Filesystems are marked clean when they are unmounted, when they have been mounted read-only, or when fsck runs on them successfully."),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Fsck"},"https://en.wikipedia.org/wiki/Fsck")),(0,s.kt)("h2",{id:"swapon--swapoff"},"swapon / swapoff"),(0,s.kt)("p",null,"enable/disable devices and files for paging and swapping"),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://linux.die.net/man/8/swapoff"},"https://linux.die.net/man/8/swapoff")),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://linux.die.net/man/2/swapoff"},"https://linux.die.net/man/2/swapoff")))}c.isMDXComponent=!0}}]);