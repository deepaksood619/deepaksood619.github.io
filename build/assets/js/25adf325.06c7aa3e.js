"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[38477],{603905:(e,t,n)=>{n.d(t,{Zo:()=>h,kt:()=>m});var i=n(667294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=i.createContext({}),p=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},h=function(e){var t=p(e.components);return i.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},l=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,h=s(e,["components","mdxType","originalType","parentName"]),u=p(n),l=r,m=u["".concat(c,".").concat(l)]||u[l]||d[l]||o;return n?i.createElement(m,a(a({ref:t},h),{},{components:n})):i.createElement(m,a({ref:t},h))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=l;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[u]="string"==typeof e?e:r,a[1]=s;for(var p=2;p<o;p++)a[p]=n[p];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}l.displayName="MDXCreateElement"},611147:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var i=n(487462),r=(n(667294),n(603905));const o={},a="OpenID",s={unversionedId:"computer-science/security/authentication/openid",id:"computer-science/security/authentication/openid",title:"OpenID",description:"OpenIdis HTTP based protocol that uses identity provider to validate a user. The user password is secured with one identity provider, this allows other service providers a way to achieve Single SignOn(SSO) without requiring password from user. There are many OpenId enabled account on the internet and organizations such as Google, Facebook, Wordpress, Yahoo, PayPal etc., uses OpenId to authenticate users. The latest version of OpenId is OpenId Connect (OIDC), which provides OpenId(authentication) on top of OAuth 2.0 (authorization) for complete security solution.",source:"@site/docs/computer-science/security/authentication/openid.md",sourceDirName:"computer-science/security/authentication",slug:"/computer-science/security/authentication/openid",permalink:"/computer-science/security/authentication/openid",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/computer-science/security/authentication/openid.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"OAuth",permalink:"/computer-science/security/authentication/oauth"},next:{title:"2FA  / 2-Factor Authentication",permalink:"/computer-science/security/authentication/two-2fa"}},c={},p=[{value:"OIDC",id:"oidc",level:2},{value:"Limitations",id:"limitations",level:2}],h={toc:p},u="wrapper";function d(e){let{components:t,...o}=e;return(0,r.kt)(u,(0,i.Z)({},h,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"openid"},"OpenID"),(0,r.kt)("p",null,"OpenIdis HTTP based protocol that uses identity provider to validate a user. The user password is secured with one identity provider, this allows other service providers a way to achieve Single SignOn(SSO) without requiring password from user. There are many OpenId enabled account on the internet and organizations such as Google, Facebook, Wordpress, Yahoo, PayPal etc., uses OpenId to authenticate users. The latest version of OpenId is OpenId Connect (OIDC), which provides OpenId(authentication) on top of OAuth 2.0 (authorization) for complete security solution."),(0,r.kt)("h2",{id:"oidc"},"OIDC"),(0,r.kt)("p",null,"It is an OAuth extension which adds and strictly defines an ID Token for returning user information. Now when we log in with our Identity Provider, it can return specific fields that our applications can expect and handle. The important thing to remember is that OIDC is just a special, simplified case of OAuth, not a replacement. It uses the same terminology and concepts.\n",(0,r.kt)("a",{parentName:"p",href:"https://openid.net/connect/"},"OpenID Connect")," is a flavor of OAuth2 supported by some OAuth2 providers, notably Azure Active Directory, Salesforce, and Google. The protocol's main extension of OAuth2 is an additional field returned with the access token called an ",(0,r.kt)("a",{parentName:"p",href:"https://openid.net/specs/openid-connect-core-1_0.html#IDToken"},"ID Token"),". This token is a JSON Web Token (JWT) with well known fields, such as a user's email, signed by the server.\nTo identify the user, the authenticator uses theid_token(not theaccess_token) from the OAuth2 ",(0,r.kt)("a",{parentName:"p",href:"https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse"},"token response")," as a bearer token. See ",(0,r.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/reference/access-authn-authz/authentication/#putting-a-bearer-token-in-a-request"},"above")," for how the token is included in a request.\n",(0,r.kt)("img",{alt:"image",src:n(536573).Z,width:"1492",height:"691"})),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://openid.net/specs/openid-connect-core-1_0.html"},"https://openid.net/specs/openid-connect-core-1_0.html"),"\n",(0,r.kt)("img",{alt:"image",src:n(794647).Z,width:"1110",height:"600"}),"\nThe normal process of generating these tokens is much the same as it is in ",(0,r.kt)("a",{parentName:"p",href:"https://oauth.net/2/"},"OAuth 2.0"),":"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"User hits the sign in button on the website,")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"The website redirects them to the Identity Provider,")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Browser loads the Identity Provider login screen,")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"User logs in using their username and password,")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Identity Provider redirects them back to the website with an authentication code in the query string,")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Browser loads website with the authentication code in query string,")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Website server exchanges the code for the ID token.\nOnce the server has this token, it can either use it to authenticate the user itself or it can provide it back to the user such that they can provide it to other services that trust the identity provider.\nKubernetes itself does not provide any sort of login website for OIDC authentication. It only consumes the tokens once you have retrieved them from some other means. This may leave you wondering where the trust relationship is formed between Kubernetes and the Identity Provider.\nAs mentioned earlier, the third part of the token is a signature, every ID token generated by an OIDC provider comes signed with a cryptographic key (usually RS256, generated and rotated periodically by the provider). By providing Kubernetes with the URL of the OIDC provider, Kubernetes can retrieve the public half of this key and verify that the token was indeed signed by the OIDC provider. At this point, Kubernetes will accept the token and trust the token's claim as to who the user is."))),(0,r.kt)("h2",{id:"limitations"},"Limitations"),(0,r.kt)("p",null,"The id-token once generated cannot be revoked. Much like issuing certificates for auth, the id-token has an expiry time and it will authenticate the user until that time comes. This means the tokens are often only issued for 1 hour, but some providers do support requests for refresh tokens. Refresh tokens can be used (often indefinitely) to grant a new id-token and continue usage of the service.\n",(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=t18YB3xDfXI"},"An Illustrated Guide to OAuth and OpenID Connect"),"\n",(0,r.kt)("img",{alt:"image",src:n(596690).Z,width:"612",height:"344"})))}d.isMDXComponent=!0},536573:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/Authentication_OpenID-image1-64bc1e75bdfddfa8908bcf991f1062be.jpg"},794647:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/Authentication_OpenID-image2-63ffdd97425c9e71cc1a66a422b66686.jpg"},596690:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/Authentication_OpenID-image3-ab728dd6c64b2baedb374d05794d09a3.jpg"}}]);