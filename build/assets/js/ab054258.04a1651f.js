"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[19431],{603905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>c});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),u=s(a),h=r,c=u["".concat(p,".").concat(h)]||u[h]||d[h]||l;return a?n.createElement(c,i(i({ref:t},m),{},{components:a})):n.createElement(c,i({ref:t},m))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=h;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[u]="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},343361:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var n=a(487462),r=(a(667294),a(603905));const l={},i="FastAPI",o={unversionedId:"python/others/fastapi/readme",id:"python/others/fastapi/readme",title:"FastAPI",description:"FastAPI is a modern, fast (high-performance), web framework for building APIs with Python 3.6+ based on standard Python type hints.",source:"@site/docs/python/others/fastapi/readme.md",sourceDirName:"python/others/fastapi",slug:"/python/others/fastapi/",permalink:"/python/others/fastapi/",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/python/others/fastapi/readme.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Slides",permalink:"/python/others/boto-and-boto3/slides"},next:{title:"Internal working",permalink:"/python/others/fastapi/internal-working"}},p={},s=[{value:"The key features are",id:"the-key-features-are",level:2},{value:"OpenAPI",id:"openapi",level:2},{value:"&quot;Schema&quot;",id:"schema",level:2},{value:"API &quot;schema&quot;",id:"api-schema",level:2},{value:"Data &quot;schema&quot;",id:"data-schema",level:2},{value:"OpenAPI and JSON Schema",id:"openapi-and-json-schema",level:2},{value:"What is OpenAPI for",id:"what-is-openapi-for",level:2},{value:"Path Parameters",id:"path-parameters",level:2},{value:"Query Parameters",id:"query-parameters",level:2},{value:"Request Body",id:"request-body",level:2},{value:"Data Types",id:"data-types",level:2},{value:"Commands",id:"commands",level:2},{value:"Others",id:"others",level:2},{value:"Starlette",id:"starlette",level:3}],m={toc:s},u="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"fastapi"},"FastAPI"),(0,r.kt)("p",null,"FastAPI is a modern, fast (high-performance), web framework for building APIs with Python 3.6+ based on standard Python type hints."),(0,r.kt)("h2",{id:"the-key-features-are"},"The key features are"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Fast: Very high performance, on par withNodeJSandGo(thanks to Starlette and Pydantic).",(0,r.kt)("a",{parentName:"li",href:"https://fastapi.tiangolo.com/#performance"},"One of the fastest Python frameworks available"),"."),(0,r.kt)("li",{parentName:"ul"},"Fast to code: Increase the speed to develop features by about 200% to 300%"),(0,r.kt)("li",{parentName:"ul"},"Fewer bugs: Reduce about 40% of human (developer) induced errors"),(0,r.kt)("li",{parentName:"ul"},"Intuitive: Great editor support.Completioneverywhere. Less time debugging."),(0,r.kt)("li",{parentName:"ul"},"Easy: Designed to be easy to use and learn. Less time reading docs."),(0,r.kt)("li",{parentName:"ul"},"Short: Minimize code duplication. Multiple features from each parameter declaration. Fewer bugs."),(0,r.kt)("li",{parentName:"ul"},"Robust: Get production-ready code. With automatic interactive documentation."),(0,r.kt)("li",{parentName:"ul"},"Standards-based: Based on (and fully compatible with) the open standards for APIs:",(0,r.kt)("a",{parentName:"li",href:"https://github.com/OAI/OpenAPI-Specification"},"OpenAPI"),"(previously known as Swagger) and ",(0,r.kt)("a",{parentName:"li",href:"https://json-schema.org/"},"JSON Schema"),".")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://towardsdatascience.com/why-we-switched-from-flask-to-fastapi-for-production-machine-learning-765aab9b3679"},"https://towardsdatascience.com/why-we-switched-from-flask-to-fastapi-for-production-machine-learning-765aab9b3679")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://towardsdatascience.com/fastapi-cloud-database-loading-with-python-1f531f1d438a"},"https://towardsdatascience.com/fastapi-cloud-database-loading-with-python-1f531f1d438a")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://fastapi.tiangolo.com/alternatives/"},(0,r.kt)("strong",{parentName:"a"},"https://fastapi.tiangolo.com/alternatives/"))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/tiangolo/fastapi"},"https://github.com/tiangolo/fastapi")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/long2ice/fastapi-admin"},"https://github.com/long2ice/fastapi-admin")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.freecodecamp.org/news/fastapi-helps-you-develop-apis-quickly"},"https://www.freecodecamp.org/news/fastapi-helps-you-develop-apis-quickly")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.freecodecamp.org/news/how-to-create-microservices-with-fastapi/"},(0,r.kt)("strong",{parentName:"a"},"https://www.freecodecamp.org/news/how-to-create-microservices-with-fastapi/"))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.toptal.com/python/build-high-performing-apps-with-the-python-fastapi-framework"},(0,r.kt)("strong",{parentName:"a"},"https://www.toptal.com/python/build-high-performing-apps-with-the-python-fastapi-framework"))),(0,r.kt)("h2",{id:"openapi"},"OpenAPI"),(0,r.kt)("p",null,'FastAPIgenerates a "schema" with all your API using theOpenAPIstandard for defining APIs.'),(0,r.kt)("h2",{id:"schema"},'"Schema"'),(0,r.kt)("p",null,'A "schema" is a definition or description of something. Not the code that implements it, but just an abstract description.'),(0,r.kt)("h2",{id:"api-schema"},'API "schema"'),(0,r.kt)("p",null,"In this case, ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/OAI/OpenAPI-Specification"},"OpenAPI")," is a specification that dictates how to define a schema of your API."),(0,r.kt)("p",null,"This schema definition includes your API paths, the possible parameters they take, etc."),(0,r.kt)("h2",{id:"data-schema"},'Data "schema"'),(0,r.kt)("p",null,'The term "schema" might also refer to the shape of some data, like a JSON content.'),(0,r.kt)("p",null,"In that case, it would mean the JSON attributes, and data types they have, etc."),(0,r.kt)("h2",{id:"openapi-and-json-schema"},"OpenAPI and JSON Schema"),(0,r.kt)("p",null,'OpenAPI defines an API schema for your API. And that schema includes definitions (or "schemas") of the data sent and received by your API usingJSON Schema, the standard for JSON data schemas.'),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://127.0.0.1:8000/openapi.json"},"http://127.0.0.1:8000/openapi.json")),(0,r.kt)("h2",{id:"what-is-openapi-for"},"What is OpenAPI for"),(0,r.kt)("p",null,"The OpenAPI schema is what powers the two interactive documentation systems included."),(0,r.kt)("p",null,"You could also use it to generate code automatically, for clients that communicate with your API. For example, frontend, mobile or IoT applications."),(0,r.kt)("h2",{id:"path-parameters"},"Path Parameters"),(0,r.kt)("p",null,'You can declare path "parameters" or "variables" with the same syntax used by Python format strings'),(0,r.kt)("p",null,'@app.get("/items/{item_id}")'),(0,r.kt)("p",null,"async def read_item(item_id: int):"),(0,r.kt)("p",null,'return {"item_id": item_id}'),(0,r.kt)("h2",{id:"query-parameters"},"Query Parameters"),(0,r.kt)("p",null,'When you declare other function parameters that are not part of the path parameters, they are automatically interpreted as "query" parameters.'),(0,r.kt)("p",null,"The query is the set of key-value pairs that go after the?in a URL, separated by&characters."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://127.0.0.1:8000/items/?skip=0&limit=10"},"http://127.0.0.1:8000/items/?skip=0&limit=10")),(0,r.kt)("h2",{id:"request-body"},"Request Body"),(0,r.kt)("p",null,"class ClientAuth(Base):"),(0,r.kt)("p",null,'"""'),(0,r.kt)("p",null,"stores clients data that can access the apis"),(0,r.kt)("p",null,'"""'),(0,r.kt)("p",null,"client_secret = db.Column(db.String(72))"),(0,r.kt)("p",null,"client_name = db.Column(db.String(50), nullable=False)"),(0,r.kt)("p",null,"registered_by = db.Column(db.String(36), nullable=False)"),(0,r.kt)("h2",{id:"data-types"},"Data Types"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"int"),(0,r.kt)("li",{parentName:"ul"},"float"),(0,r.kt)("li",{parentName:"ul"},"str"),(0,r.kt)("li",{parentName:"ul"},"bool"),(0,r.kt)("li",{parentName:"ul"},"UUID"),(0,r.kt)("li",{parentName:"ul"},"datetime.datetime"),(0,r.kt)("li",{parentName:"ul"},"datetime.date"),(0,r.kt)("li",{parentName:"ul"},"datetime.time"),(0,r.kt)("li",{parentName:"ul"},"datetime.timedelta"),(0,r.kt)("li",{parentName:"ul"},"frozenset"),(0,r.kt)("li",{parentName:"ul"},"bytes"),(0,r.kt)("li",{parentName:"ul"},"Decimal")),(0,r.kt)("h2",{id:"commands"},"Commands"),(0,r.kt)("p",null,"from fastapi import FastAPI"),(0,r.kt)("p",null,"from enum import Enum"),(0,r.kt)("p",null,"app = FastAPI()"),(0,r.kt)("p",null,'@app.get("/")'),(0,r.kt)("p",null,"async def root():"),(0,r.kt)("p",null,'return {"message": "Hello World"}'),(0,r.kt)("p",null,'@app.get("/items/{item_id}")'),(0,r.kt)("p",null,"async def read_item(item_id: int):"),(0,r.kt)("p",null,'return {"item_id": item_id}'),(0,r.kt)("p",null,"class ModelName(str, Enum):"),(0,r.kt)("p",null,'alexnet = "alexnet123"'),(0,r.kt)("p",null,'resnet123 = "resnet"'),(0,r.kt)("p",null,'lenet = "lenet123"'),(0,r.kt)("p",null,'@app.get("/models/{model_name}")'),(0,r.kt)("p",null,"async def get_model(model_name: ModelName):"),(0,r.kt)("p",null,"if model_name == ModelName.alexnet:"),(0,r.kt)("p",null,'return {"model_name": model_name, "message": "Deep Learning"}'),(0,r.kt)("p",null,'if model_name.value == "lenet123":'),(0,r.kt)("p",null,'return {"model_name": model_name, "message": "LeCNN"}'),(0,r.kt)("p",null,'return {"model_name": model_name, "message": "Have some residuals"}'),(0,r.kt)("p",null,"uvicorn main:app --host 0.0.0.0 --reload"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://127.0.0.1:8000/"},"http://127.0.0.1:8000")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://127.0.0.1:8000/docs"},"http://127.0.0.1:8000/docs")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://127.0.0.1:8000/redoc"},"http://127.0.0.1:8000/redoc")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://127.0.0.1:8000/openapi.json"},"http://127.0.0.1:8000/openapi.json")),(0,r.kt)("h2",{id:"others"},"Others"),(0,r.kt)("h3",{id:"starlette"},"Starlette"),(0,r.kt)("p",null,"Starlette is a lightweight ",(0,r.kt)("a",{parentName:"p",href:"https://asgi.readthedocs.io/en/latest/"},"ASGI")," framework/toolkit, which is ideal for building high performance asyncio services."),(0,r.kt)("p",null,"It is production-ready, and gives you the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Seriously impressive performance."),(0,r.kt)("li",{parentName:"ul"},"WebSocket support."),(0,r.kt)("li",{parentName:"ul"},"GraphQL support."),(0,r.kt)("li",{parentName:"ul"},"In-process background tasks."),(0,r.kt)("li",{parentName:"ul"},"Startup and shutdown events."),(0,r.kt)("li",{parentName:"ul"},"Test client built onrequests."),(0,r.kt)("li",{parentName:"ul"},"CORS, GZip, Static Files, Streaming responses."),(0,r.kt)("li",{parentName:"ul"},"Session and Cookie support."),(0,r.kt)("li",{parentName:"ul"},"100% test coverage."),(0,r.kt)("li",{parentName:"ul"},"100% type annotated codebase."),(0,r.kt)("li",{parentName:"ul"},"Zero hard dependencies.")))}d.isMDXComponent=!0}}]);