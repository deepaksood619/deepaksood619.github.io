"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[55103],{603905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>k});var i=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,i,r=function(e,t){if(null==e)return{};var a,i,r={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=i.createContext({}),p=function(e){var t=i.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},h="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var a=e.components,r=e.mdxType,n=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),h=p(a),m=r,k=h["".concat(l,".").concat(m)]||h[m]||u[m]||n;return a?i.createElement(k,o(o({ref:t},c),{},{components:a})):i.createElement(k,o({ref:t},c))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var n=a.length,o=new Array(n);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[h]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<n;p++)o[p]=a[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,a)}m.displayName="MDXCreateElement"},329326:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>n,metadata:()=>s,toc:()=>p});var i=a(487462),r=(a(667294),a(603905));const n={},o="Protocols",s={unversionedId:"networking/protocols/intro",id:"networking/protocols/intro",title:"Protocols",description:"1. Application Layer",source:"@site/docs/networking/protocols/intro.md",sourceDirName:"networking/protocols",slug:"/networking/protocols/intro",permalink:"/networking/protocols/intro",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/networking/protocols/intro.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Http Status Code",permalink:"/networking/protocols/http-status-code"},next:{title:"Messaging",permalink:"/networking/protocols/messaging"}},l={},p=[{value:"Networking Protocols",id:"networking-protocols",level:2},{value:"STOMP (Simple/Streaming Text Oriented Message Protocol)",id:"stomp-simplestreaming-text-oriented-message-protocol",level:2},{value:"TLS/SSL",id:"tlsssl",level:2},{value:"TLSv1.3",id:"tlsv13",level:2},{value:"TLS Handshake",id:"tls-handshake",level:2},{value:"Mutual Authentication",id:"mutual-authentication",level:2},{value:"Two types of APIs",id:"two-types-of-apis",level:2}],c={toc:p},h="wrapper";function u(e){let{components:t,...a}=e;return(0,r.kt)(h,(0,i.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"protocols"},"Protocols"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Application Layer"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"BGP"),(0,r.kt)("li",{parentName:"ul"},"DHCP"),(0,r.kt)("li",{parentName:"ul"},"DNS"),(0,r.kt)("li",{parentName:"ul"},"FTP"),(0,r.kt)("li",{parentName:"ul"},"HTTP / HTTPS"),(0,r.kt)("li",{parentName:"ul"},"IMAP"),(0,r.kt)("li",{parentName:"ul"},"LDAP"),(0,r.kt)("li",{parentName:"ul"},"MGCP"),(0,r.kt)("li",{parentName:"ul"},"MQTT"),(0,r.kt)("li",{parentName:"ul"},"NNTP"),(0,r.kt)("li",{parentName:"ul"},"NTP"),(0,r.kt)("li",{parentName:"ul"},"POP"),(0,r.kt)("li",{parentName:"ul"},"ONC/RPC"),(0,r.kt)("li",{parentName:"ul"},"RTP"),(0,r.kt)("li",{parentName:"ul"},"RTSP"),(0,r.kt)("li",{parentName:"ul"},"RIP"),(0,r.kt)("li",{parentName:"ul"},"SIP"),(0,r.kt)("li",{parentName:"ul"},"SMTP"),(0,r.kt)("li",{parentName:"ul"},"SNMP"),(0,r.kt)("li",{parentName:"ul"},"SSH"),(0,r.kt)("li",{parentName:"ul"},"Telnet"),(0,r.kt)("li",{parentName:"ul"},"TLS/SSL"),(0,r.kt)("li",{parentName:"ul"},"XMPP"),(0,r.kt)("li",{parentName:"ul"},"LWM2M"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Transport Layer"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"TCP"),(0,r.kt)("li",{parentName:"ul"},"UDP"),(0,r.kt)("li",{parentName:"ul"},"DCCP"),(0,r.kt)("li",{parentName:"ul"},"SCTP"),(0,r.kt)("li",{parentName:"ul"},"RSVP"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Internet Layer"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"IP (IPv4 / IPv6)"),(0,r.kt)("li",{parentName:"ul"},"ICMP / ICMPv6"),(0,r.kt)("li",{parentName:"ul"},"ECN"),(0,r.kt)("li",{parentName:"ul"},"IGMP"),(0,r.kt)("li",{parentName:"ul"},"IPsec"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Link Layer"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"- ARP\n- NDP\n- OSPF\n- Tunnels (L2TP)\n- PPP\n- MAC (Ethernet / DSL / ISDN / FDDI)\n    - Carrier-sense multiple access with collision detection(CSMA/CD)\n    - Carrier-sense multiple access with collision avoidance(CSMA/CA)\n")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Internet_protocol_suite"},"https://en.wikipedia.org/wiki/Internet_protocol_suite")))),(0,r.kt)("h2",{id:"networking-protocols"},"Networking Protocols"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"http2 -")," multiple requests in one connection- ",(0,r.kt)("strong",{parentName:"li"},"BOSH - Bidirectional stream Over Synchronous HTTP,")," it works over HTTP (User will request a connection to the server and than server will hold onto that request until some time, and return to him if any data needs to be transfered, than user will again initiate the request)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Long Polling over HTTP -")," Client will request information to the server, and then server will respond with that information or tell the client that there is no new information. After that client will wait some time before again sending request.")),(0,r.kt)("h2",{id:"stomp-simplestreaming-text-oriented-message-protocol"},"STOMP (Simple/Streaming Text Oriented Message Protocol)"),(0,r.kt)("p",null,"Is the only one to be text-based, making it more analogous to HTTP."),(0,r.kt)("p",null,"Like AMQP, STOMP provides a message (or frame) header with properties, and a frame body."),(0,r.kt)("p",null,'Do not have queues and topics - it uses a SEND semantic with a "destination" string.\nIt uses a set of commands like CONNECT, SEND, or SUBSCRIBE to manage the conversation. STOMP clients, written in any language, can talk with any message broker supporting the protocol.'),(0,r.kt)("h2",{id:"tlsssl"},"TLS/SSL"),(0,r.kt)("p",null,"Transport Layer Security(TLS), and its now-deprecated predecessor, Secure Sockets Layer(SSL), are ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Cryptographic_protocol"},"cryptographic protocols")," designed to provide ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Communications_security"},"communications security")," over a ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Computer_network"},"computer network"),".Several versions of the protocols find widespread use in applications such as ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Web_navigation"},"web browsing"),", ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Email"},"email"),", ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Instant_messaging"},"instant messaging"),", and ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Voice_over_IP"},"voice over IP"),"(VoIP).",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Website"},"Websites")," can use TLS to secure all communications between their ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Server_(computing)"},"servers")," and ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Web_browser"},"web browsers"),".\nThe TLS protocol aims primarily to provide ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Privacy"},"privacy")," and ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Data_integrity"},"data integrity")," between two or more communicating computer applications.When secured by TLS, connections between a client (e.g., a web browser) and a server (e.g., wikipedia.org) should have one or more of the following properties:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The connection isprivate(orsecure) because ",(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Symmetric-key_algorithm"},"symmetric cryptography")," is used to ",(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Encryption"},"encrypt")," the data transmitted. The ",(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Key_(cryptography)"},"keys")," for this symmetric encryption are generated uniquely for each connection and are based on a ",(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Shared_secret"},"shared secret")," that was negotiated at the start of the ",(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Session_(computer_science)"},"session"),". The server and client negotiate the details of which encryption algorithm and cryptographic keys to use before the first ",(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Byte"},"byte")," of data is transmitted. The negotiation of a shared secret is both secure (the negotiated secret is unavailable to ",(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Eavesdropping"},"eavesdroppers")," and cannot be obtained, even by an attacker who places themselves in the middle of the connection) and reliable (no attacker can modify the communications during the negotiation without being detected)."),(0,r.kt)("li",{parentName:"ul"},"The identity of the communicating parties can beauthenticatedusing ",(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Public-key_cryptography"},"public-key cryptography"),". This authentication can be made optional, but is generally required for at least one of the parties (typically the server)."),(0,r.kt)("li",{parentName:"ul"},"The connection isreliablebecause each message transmitted includes a message integrity check using a ",(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Message_authentication_code"},"message authentication code")," to prevent undetected loss or alteration of the data during ",(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Data_transmission"},"transmission"),".")),(0,r.kt)("p",null,"The TLS protocol comprises two layers: the ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Transport_Layer_Security#TLS_record"},"TLS record")," and the ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Transport_Layer_Security#TLS_handshake"},"TLS handshake")," protocols.\nTLS can be used on top of a transport-layer security protocol like ",(0,r.kt)("a",{parentName:"p",href:"https://www.cloudflare.com/learning/ddos/glossary/tcp-ip/"},"TCP"),". There are three main components to TLS: Encryption, Authentication, and Integrity."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Encryption"),":hides the data being transferred from third parties."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Authentication"),":ensures that the parties exchanging information are who they claim to be."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Integrity"),":verifies that the data has not been forged or tampered with.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.cloudflare.com/learning/ssl/what-is-https/"},"HTTPS")," is an implementation of TLS encryption on top of the ",(0,r.kt)("a",{parentName:"p",href:"https://www.cloudflare.com/learning/ddos/glossary/hypertext-transfer-protocol-http/"},"HTTP")," protocol, which is used by all websites as well as some other web services.\nTLS_ECDHE_RSA_with_AES_128_GCM_SHA256"),(0,r.kt)("h2",{id:"tlsv13"},"TLSv1.3"),(0,r.kt)("p",null,'The updated protocol added a function called "0-RTT resumption" that enables the client and server to remember if they have communicated before. If prior communications exist, the previous keys can be used, security checks skipped and the client and server can begin communicating immediately. It is believed that some of the bigger tech companies pushed for 0-RTT because they benefit from the faster connections, but there is some concern from security professionals.'),(0,r.kt)("h2",{id:"tls-handshake"},"TLS Handshake"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The client computer sends aClientHellomessage to the server with its Transport Layer Security (TLS) version, list of cipher algorithms and compression methods available."),(0,r.kt)("li",{parentName:"ul"},"The server replies with aServerHellomessage to the client with the TLS version, selected cipher, selected compression methods and the server's public certificate signed by a CA (Certificate Authority). The certificate contains a public key that will be used by the client to encrypt the rest of the handshake until a symmetric key can be agreed upon."),(0,r.kt)("li",{parentName:"ul"},"The client verifies the server digital certificate against its list of trusted CAs. If trust can be established based on the CA, the client generates a string of pseudo-random bytes and encrypts this with the server's public key. These random bytes can be used to determine the symmetric key."),(0,r.kt)("li",{parentName:"ul"},"The server decrypts the random bytes using its private key and uses these bytes to generate its own copy of the symmetric master key."),(0,r.kt)("li",{parentName:"ul"},"The client sends aFinishedmessage to the server, encrypting a hash of the transmission up to this point with the symmetric key."),(0,r.kt)("li",{parentName:"ul"},"The server generates its own hash, and then decrypts the client-sent hash to verify that it matches. If it does, it sends its ownFinishedmessage to the client, also encrypted with the symmetric key."),(0,r.kt)("li",{parentName:"ul"},"From now on the TLS session transmits the application (HTTP) data encrypted with the agreed symmetric key")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Transport_Layer_Security"},"https://en.wikipedia.org/wiki/Transport_Layer_Security")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.cloudflare.com/learning/ssl/transport-layer-security-tls"},"https://www.cloudflare.com/learning/ssl/transport-layer-security-tls")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://security.stackexchange.com/questions/93333/what-layer-is-tls"},"https://security.stackexchange.com/questions/93333/what-layer-is-tls")),(0,r.kt)("h2",{id:"mutual-authentication"},"Mutual Authentication"),(0,r.kt)("p",null,"Mutual authenticationortwo-way authenticationrefers to two parties ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Authenticating"},"authenticating")," each other at the same time, being a default mode of ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Authentication_protocol"},"authentication")," in some protocols (",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Internet_Key_Exchange"},"IKE"),", ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Secure_Shell"},"SSH"),") and optional in others (",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Transport_Layer_Security"},"TLS"),")."),(0,r.kt)("p",null,"By default the TLS protocol only proves the identity of the server to the client using ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/X.509_certificate"},"X.509 certificate")," and the authentication of the client to the server is left to the application layer. TLS also offers client-to-server authentication using client-side X.509 authentication.As it requires provisioning of the certificates to the clients and involves less user-friendly experience, it's rarely used in end-user applications."),(0,r.kt)("p",null,"Mutual TLS authentication (mTLS) is much more widespread in ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Business-to-business"},"business-to-business"),"(B2B) applications, where a limited number of programmatic and homogeneous clients are connecting to specific web services, the operational burden is limited, and security requirements are usually much higher as compared to consumer environments."),(0,r.kt)("p",null,"Most Mutual authentication is machine-to-machine, leaving it up to chance whether or not users will notice (or care) when the remote authentication fails (e.g. a red address bar browser padlock, or a wrong domain name). Non-technical mutual-authentication also exists to mitigate this problem, requiring users to complete a challenge, effectively forcing them to notice, and blocking them from authenticating with false endpoints.\nMutual authentication is of two types:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Certificate based")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"User name-password based\n",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Mutual_authentication"},"https://en.wikipedia.org/wiki/Mutual_authentication"),"- We use TLS/SSL for two main reasons"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"1. Encryption\n2. Authentication\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"After you've established a TLS connection, what algorithm is used to encrypt the data?"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Symmetric cipher like AES"),(0,r.kt)("li",{parentName:"ul"},"RSA and ECDSA are slow, So instead the client and server pick a secret (and faster to use) symmetric key and use that to encrypt everything"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Does every TLS server certificate have a hostname on it?"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'Yes, the point of a certificate is to prove that a server is the "real" server for a hostname, so every certificate has a hostname on it'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"How does a browser check that your certificate is signed by someone it trusts?"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"it has a hardcoded list"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Are TLS certificates secret?"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"A TLS certificate contains",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"A public key"),(0,r.kt)("li",{parentName:"ul"},"The hostname(s) it's valid for"),(0,r.kt)("li",{parentName:"ul"},"An expiration date"),(0,r.kt)("li",{parentName:"ul"},"Signature(s) for a CA"))),(0,r.kt)("li",{parentName:"ul"},"The private key for the cert is Super Secret though")))),(0,r.kt)("h2",{id:"two-types-of-apis"},"Two types of APIs"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Pull based API: HTTP, gRPC"),(0,r.kt)("li",{parentName:"ol"},"Push based API: AMQP, MQTT, Kafka")))}u.isMDXComponent=!0}}]);