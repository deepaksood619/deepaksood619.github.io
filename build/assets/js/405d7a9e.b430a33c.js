"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[75642],{603905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(667294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=c(n),u=o,f=m["".concat(l,".").concat(u)]||m[u]||d[u]||a;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},163501:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var r=n(487462),o=(n(667294),n(603905));const a={},i="rsync / rclone",s={unversionedId:"devops/terminal-bash/tools/rsync-rclone",id:"devops/terminal-bash/tools/rsync-rclone",title:"rsync / rclone",description:"Rsync Algorithm",source:"@site/docs/devops/terminal-bash/tools/rsync-rclone.md",sourceDirName:"devops/terminal-bash/tools",slug:"/devops/terminal-bash/tools/rsync-rclone",permalink:"/devops/terminal-bash/tools/rsync-rclone",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/devops/terminal-bash/tools/rsync-rclone.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Mosh",permalink:"/devops/terminal-bash/tools/mosh"},next:{title:"Economics",permalink:"/economics/"}},l={},c=[{value:"Rsync Algorithm",id:"rsync-algorithm",level:2},{value:"Commands",id:"commands",level:2},{value:"rclone",id:"rclone",level:2},{value:"Commands",id:"commands-1",level:2},{value:"BackBlaze",id:"backblaze",level:2}],p={toc:c},m="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(m,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"rsync--rclone"},"rsync / rclone"),(0,o.kt)("h2",{id:"rsync-algorithm"},"Rsync Algorithm"),(0,o.kt)("p",null,"Used for reducing the cost of a file transfer by avoiding the transfer of blocks that are already at the destination."),(0,o.kt)("p",null,"Use Case - Streaming file Sync"),(0,o.kt)("p",null,"rsync is a utility for efficiently transferring and synchronizing files across computer systems, by checking the timestamp and size of files. It is commonly found on ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Unix-like"},"Unix-like")," systems and functions as both a ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/File_synchronization"},"file synchronization")," and ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/File_transfer"},"file transfer")," program. The rsync algorithm is a type of ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Delta_encoding"},"delta encoding"),", and is used for minimizing network usage.",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Zlib"},"Zlib")," may be used for additional compression,  and ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Secure_Shell"},"SSH")," or ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Stunnel"},"stunnel")," can be used for data security"),(0,o.kt)("p",null,"Rsync is typically used for synchronizing files and directories between two different systems. For example, if the commandrsync local-file user@remote-host:remote-fileis run, rsync will use SSH to connect asusertoremote-host.Once connected, it will invoke the remote host's rsync and then the two programs will determine what parts of the file need to be transferred over the connection."),(0,o.kt)("p",null,"Rsync can also operate in a ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Daemon_(computer_software)"},"daemon"),' mode, serving and receiving files in the native rsync protocol (using the "rsync://" syntax).'),(0,o.kt)("h2",{id:"commands"},"Commands"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"alias cp='rsync -aP'\n-P for a progress bar\n\nrsync [OPTION]... SRC [SRC]... DEST\nrsync -zvr source.jpg ~/Desktop/dest.jpg\n\n-z for compression\n-v for verbose\n-r for recursive\n")),(0,o.kt)("h2",{id:"rclone"},"rclone"),(0,o.kt)("p",null,"Rclone",(0,o.kt)("em",{parentName:"p"},'("rsync for cloud storage")'),"is a command line program to sync files and directories to and from different cloud storage providers."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"azure blob storage")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"amazon s3"))),(0,o.kt)("h2",{id:"commands-1"},"Commands"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"rclone config\nrclone lsd remote:\nrclone mkdir remote:container\nrclone ls remote:container\nrclone sync /home/local/directory remote:container\n\n# copy from local to remote\nrclone --config s3.conf copy --no-traverse remote:zenatix-postgres-backup/`date +%Y-%m-%d`/$dump_file.tar.gz .\n\n# copy from remote to local\nrclone copy --no-traverse . remote:ubuntu@52.220.109.7:/home/ubuntu/sources/zenalytix/media/images/deployment_photos\n")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://rclone.org"},"https://rclone.org")),(0,o.kt)("h2",{id:"backblaze"},"BackBlaze"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"b2 authorize-account\nb2 list-buckets\nb2 upload-file TimeMachineBackupDeepak Documents.zip Documents.zip\n")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.backblaze.com/b2/docs/quick_command_line.html"},"https://www.backblaze.com/b2/docs/quick_command_line.html")))}d.isMDXComponent=!0}}]);