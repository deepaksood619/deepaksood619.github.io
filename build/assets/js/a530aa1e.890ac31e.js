"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[89666],{603905:(t,e,n)=>{n.d(e,{Zo:()=>c,kt:()=>y});var o=n(667294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},a=Object.keys(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var p=o.createContext({}),l=function(t){var e=o.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},c=function(t){var e=l(t.components);return o.createElement(p.Provider,{value:e},t.children)},h="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},u=o.forwardRef((function(t,e){var n=t.components,r=t.mdxType,a=t.originalType,p=t.parentName,c=i(t,["components","mdxType","originalType","parentName"]),h=l(n),u=r,y=h["".concat(p,".").concat(u)]||h[u]||m[u]||a;return n?o.createElement(y,s(s({ref:e},c),{},{components:n})):o.createElement(y,s({ref:e},c))}));function y(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var a=n.length,s=new Array(a);s[0]=u;var i={};for(var p in e)hasOwnProperty.call(e,p)&&(i[p]=e[p]);i.originalType=t,i[h]="string"==typeof t?t:r,s[1]=i;for(var l=2;l<a;l++)s[l]=n[l];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},572529:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var o=n(487462),r=(n(667294),n(603905));const a={},s="18. Interprocess Communication and Networking",i={unversionedId:"python/documentation/18-interprocess-communication-and-networking",id:"python/documentation/18-interprocess-communication-and-networking",title:"18. Interprocess Communication and Networking",description:"- 18.1.socket - Low-level networking interface",source:"@site/docs/python/documentation/18-interprocess-communication-and-networking.md",sourceDirName:"python/documentation",slug:"/python/documentation/18-interprocess-communication-and-networking",permalink:"/python/documentation/18-interprocess-communication-and-networking",draft:!1,editUrl:"https://github.com/deepaksood619/deepaksood619.github.io/tree/main/docs/python/documentation/18-interprocess-communication-and-networking.md",tags:[],version:"current",lastUpdatedAt:1677955187,formattedLastUpdatedAt:"Mar 4, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"17. Concurrent Execution",permalink:"/python/documentation/17-concurrent-execution"},next:{title:"19. Internet Data Handling",permalink:"/python/documentation/19-internet-data-handling"}},p={},l=[{value:"Useasynciowhen you can, threadingwhen you must",id:"useasynciowhen-you-can-threadingwhen-you-must",level:2},{value:"Async",id:"async",level:2},{value:"18.5 asyncio - Asynchronous I/O, event loop, coroutines and tasks",id:"185-asyncio---asynchronous-io-event-loop-coroutines-and-tasks",level:2},{value:"References",id:"references",level:2},{value:"AIOHTTP",id:"aiohttp",level:2},{value:"Questions",id:"questions",level:2}],c={toc:l},h="wrapper";function m(t){let{components:e,...n}=t;return(0,r.kt)(h,(0,o.Z)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"18-interprocess-communication-and-networking"},"18. Interprocess Communication and Networking"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/socket.html"},"18.1.socket - Low-level networking interface")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/ssl.html"},"18.2.ssl - TLS/SSL wrapper for socket objects")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/select.html"},"18.3.select - Waiting for I/O completion")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/selectors.html"},"18.4.selectors - High-level I/O multiplexing")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/asyncio.html"},"18.5.asyncio - Asynchronous I/O, event loop, coroutines and tasks")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/asyncore.html"},"18.6.asyncore - Asynchronous socket handler")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/asynchat.html"},"18.7.asynchat - Asynchronous socket command/response handler")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/signal.html"},"18.8.signal - Set handlers for asynchronous events")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/mmap.html"},"18.9.mmap - Memory-mapped file support"))),(0,r.kt)("h2",{id:"useasynciowhen-you-can-threadingwhen-you-must"},"Useasynciowhen you can, threadingwhen you must"),(0,r.kt)("h2",{id:"async"},"Async"),(0,r.kt)("p",null,"Task switching is very light using Async, even more light than calling python functions. This is because it uses generators under the hood, generators stores all of their state and to turn a generator back on we just need to call that generator and say keep going and it takes less time to do that than a function because the function has to built up the state build a new stack frame on every call whereas a generator already has a stack frame and picks up where it left off."),(0,r.kt)("h2",{id:"185-asyncio---asynchronous-io-event-loop-coroutines-and-tasks"},"18.5 asyncio - Asynchronous I/O, event loop, coroutines and tasks"),(0,r.kt)("p",null,"This module provides infrastructure for writing single-threaded concurrent code using coroutines, multiplexing I/O access over sockets and other resources, running network clients and servers, and other related primitives. Here is a more detailed list of the package contents:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"a pluggable ",(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio-event-loop"},"event loop")," with various system-specific implementations;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/asyncio-protocol.html#asyncio-transport"},"transport")," and ",(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/asyncio-protocol.html#asyncio-protocol"},"protocol")," abstractions (similar to those in ",(0,r.kt)("a",{parentName:"li",href:"https://twistedmatrix.com/trac/"},"Twisted"),");"),(0,r.kt)("li",{parentName:"ul"},"concrete support for TCP, UDP, SSL, subprocess pipes, delayed calls, and others (some may be system-dependent);"),(0,r.kt)("li",{parentName:"ul"},"a ",(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/asyncio-task.html#asyncio.Future"},"Future")," class that mimics the one in the ",(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/concurrent.futures.html#module-concurrent.futures"},"concurrent.futures")," module, but adapted for use with the event loop;"),(0,r.kt)("li",{parentName:"ul"},"coroutines and tasks based onyieldfrom(",(0,r.kt)("a",{parentName:"li",href:"https://www.python.org/dev/peps/pep-0380"},"PEP 380"),"), to help write concurrent code in a sequential fashion;"),(0,r.kt)("li",{parentName:"ul"},"cancellation support for ",(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/asyncio-task.html#asyncio.Future"},"Future")," s and coroutines;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/asyncio-sync.html#asyncio-sync"},"synchronization primitives")," for use between coroutines in a single thread, mimicking those in the ",(0,r.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/threading.html#module-threading"},"threading")," module;"),(0,r.kt)("li",{parentName:"ul"},"an interface for passing work off to a threadpool, for times when you absolutely, positively have to use a library that makes blocking I/O calls.")),(0,r.kt)("h2",{id:"references"},"References"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://geekflare.com/python-asynchronous-web-frameworks"},"https://geekflare.com/python-asynchronous-web-frameworks")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://blog.miguelgrinberg.com/post/sync-vs-async-python-what-is-the-difference"},"https://blog.miguelgrinberg.com/post/sync-vs-async-python-what-is-the-difference")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/timofurrer/awesome-asyncio"},(0,r.kt)("strong",{parentName:"a"},"https://github.com/timofurrer/awesome-asyncio"))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://yeray.dev/python/asyncio/asyncio-for-the-working-python-developer"},"https://yeray.dev/python/asyncio/asyncio-for-the-working-python-developer")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.asyncapi.com"},"https://www.asyncapi.com")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.python.org/3/library/asyncio.html"},"https://docs.python.org/3/library/asyncio.html")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.python.org/3/library/asyncio-task.html"},"https://docs.python.org/3/library/asyncio-task.html")),(0,r.kt)("p",null,"Getting started with examples - ",(0,r.kt)("a",{parentName:"p",href:"https://hackernoon.com/asyncio-for-the-working-python-developer-5c468e6e2e8e"},"https://hackernoon.com/asyncio-for-the-working-python-developer-5c468e6e2e8e")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://medium.freecodecamp.org/a-guide-to-asynchronous-programming-in-python-with-asyncio-232e2afa44f6"},"https://medium.freecodecamp.org/a-guide-to-asynchronous-programming-in-python-with-asyncio-232e2afa44f6")),(0,r.kt)("p",null,"All terms explained - ",(0,r.kt)("a",{parentName:"p",href:"http://lucumr.pocoo.org/2016/10/30/i-dont-understand-asyncio"},"http://lucumr.pocoo.org/2016/10/30/i-dont-understand-asyncio")),(0,r.kt)("p",null,"Python Socket Programming - ",(0,r.kt)("a",{parentName:"p",href:"http://krondo.com/slow-poetry-and-the-apocalypse"},"http://krondo.com/slow-poetry-and-the-apocalypse")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://redislabs.com/blog/async-await-programming-basics-python-examples"},"https://redislabs.com/blog/async-await-programming-basics-python-examples")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=2IW-ZEui4h4"},"How To Easily Do Asynchronous Programming With Asyncio In Python")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/hzlmn/diy-async-web-framework"},"https://github.com/hzlmn/diy-async-web-framework")),(0,r.kt)("p",null,"Learn how modern async web frameworks work, by writing simple clone from scratch"),(0,r.kt)("h2",{id:"aiohttp"},"AIOHTTP"),(0,r.kt)("p",null,"Asynchronous HTTP Client/Server for asyncioand Python."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'pip install aiohttp [speedups]\n\nimport asyncio\n\nimport time\n\nimport aiohttp\n\nasync def download_site(session, url):\n\nasync with session.get(url) as response:\n\nprint("Read {0} from {1}".format(response.content_length, url))\n\nres_text = await response.text()\n\nprint(f"{i} {url} {response.status} {res_text}n")\n\nasync def download_all_sites(sites):\n\n# 6 hours of timeout for the whole process\n\ntimeout = aiohttp.ClientTimeout(total=21600)\n\nasync with aiohttp.ClientSession(\n\nconnector=aiohttp.TCPConnector(limit=15), timeout=timeout\n\n) as session:\n\ntasks = []\n\nfor url in sites:\n\ntask = asyncio.ensure_future(download_site(session, url))\n\ntasks.append(task)\n\nawait asyncio.gather(*tasks, return_exceptions=True)\n\nif **name** == "**main**":\n\nsites = [\n\n"<https://www.jython.org>",\n\n"<http://olympus.realpython.org/dice>",\n\n] * 80\n\nstart_time = time.time()\n\nasyncio.get_event_loop().run_until_complete(download_all_sites(sites))\n\nduration = time.time() - start_time\n\nprint(f"Downloaded {len(sites)} sites in {duration} seconds")\n\n## # default number of sessions = 100\n\nCan be changed - async with aiohttp.ClientSession(connector=aiohttp.TCPConnector(limit=10)) as session:\n')),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://realpython.com/python-concurrency"},"https://realpython.com/python-concurrency"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://realpython.com/async-io-python"},"https://realpython.com/async-io-python"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://docs.aiohttp.org/en/stable"},"https://docs.aiohttp.org/en/stable"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://aiohttp-demos.readthedocs.io/en/latest/index.html"},"https://aiohttp-demos.readthedocs.io/en/latest/index.html"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.roguelynn.com/words/asyncio-we-did-it-wrong"},"https://www.roguelynn.com/words/asyncio-we-did-it-wrong")),(0,r.kt)("h2",{id:"questions"},"Questions"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"How to catch and print exceptions")))}m.isMDXComponent=!0}}]);